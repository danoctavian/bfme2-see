;//////////////////////////////////////////////////////////////////////////////
;FILE: Weapon.ini (SYSTEM) ////////////////////////////////////////////////////
;//////////////////////////////////////////////////////////////////////////////

#define INFINITE_CLIP_SIZE 0

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

; Weapons now work with Nuggets (like ObjectCreationLists) where each type of nugget
; does one thing, instead of Weapon doing all things itself.  So here are the Nuggets,
; and their syntax.
;  DamageFieldNugget                   	; A Nugget that lays down an area of damage that persists independantly
;    WeaponTemplateName = SmallFireFieldWeapon  
;    Duration = 3000                            
;  End
;  DamageNugget                        	; A basic Nugget that just does damage
;    Damage        = 1      		;Damage for a normal hit    
;    Radius        = 0.0    		;Radius of damage
;    DelayTime     = 0      		;How long from hit till the damage is applied
;    DamageType    = SLASH  		;Used to cross reference with victim's armor to determine if hurt
;    DamageFXType  = SWORD_SLASH  	;used to cross with their DamageFX listing to determine what effect to play
;    DeathType     = NORMAL 		;Used as index to their Death Modules to determine which one to play
;  End
;  MetaImpactNugget                    	; A Nugget that throws things back with force
;	 HeroResist	= .75		;only knocks heroes down 75% of the time
;    ShockWaveAmount   	= 50.0
;    ShockWaveRadius   	= 10.0
;    ShockWaveArc      	= 90 		; in degrees to each side 180 is full circle
;    ShockWaveTaperOff	= 1.0
;    ShockWaveSpeed    	= 0.0
;    ShockWaveZMult    	= 1.0
;    InvertShockWave 	= Yes		; Pull instead of push
;  End
;  ProjectileNugget                    	; A Nugget that creates an Object and sends it to the target with a Warhead
;    ProjectileTemplateName = GimliAxeProjectile
;    WarheadTemplateName = RohanGimliAxeThrownWarhead
;  End
;  WeaponOCLNugget						; A Nugget that should only be used for the rarest of super special weapons.  I better not catch a Fire Field in here.
;    WeaponOCLName = OCL_SuperComplicatedFivePartMovingDeathBlossom
;  End
;  AttributeModifierNugget
;    AttributeModifier = WitchKingMorgulBladeEffect
;    DamageFXType = SWORD_SLASH  ;used to cross with their DamageFX listing to determine what effect to play
;  End
;  StealMoneyNugget
;    AmountStolenPerAttack = 3.14
;  End

;------------------------------------------------------------------------------
Weapon RogashCrush  ; Used when The Rog crushes an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            			; time between shots, msec
  PreAttackDelay        = 0 				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget                  			; A basic Nugget that just does damage
    Damage        = ROGASH_CRUSH_DAMAGE		; A whole lot of damage.
    Radius        = 20.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 200%
  End
End
;------------------------------------------------------------------------------
Weapon SnowTrollCrush  ; Used when the rohirrim crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            			; time between shots, msec
  PreAttackDelay        = 0 				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget                  			; A basic Nugget that just does damage
    Damage        = SHELOB_CRUSH_DAMAGE		; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 200%
  End
End

;------------------------------------------------------------------------------
Weapon SpiderRiderCrush  				; Used when the rohirrim crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            			; time between shots, msec
  PreAttackDelay        = 0 				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget                  			; A basic Nugget that just does damage
    Damage        = SPIDERRIDER_CRUSH_DAMAGE		; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 200%
  End
End

;------------------------------------------------------------------------------
Weapon RivendellLancerCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0				; time between shots, msec
  PreAttackDelay        = 0				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget
    Damage        = RIVENDELLLANCER_CRUSH_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = NORMAL
    FlankingBonus = 200%
  End
End
;------------------------------------------------------------------------------
Weapon RivendellArcherCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0				; time between shots, msec
  PreAttackDelay        = 0				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget
    Damage        = RIVENDELLARCHER_CRUSH_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = NORMAL
    FlankingBonus = 200%
  End
End

;------------------------------------------------------------------------------
Weapon TrollCrush  					; Used when the rohirrim crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            			; time between shots, msec
  PreAttackDelay        = 0 				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget                  			; A basic Nugget that just does damage
    Damage        = TROLL_CRUSH_DAMAGE			; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    
  End
End


;------------------------------------------------------------------------------
Weapon SpiderCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            			; time between shots, msec
  PreAttackDelay        = 0 				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 				;
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget                  			; A basic Nugget that just does damage
    Damage        = SPIDER_CRUSH_DAMAGE			; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 200%
  End
End

;------------------------------------------------------------------------------
Weapon KnightCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            			; time between shots, msec
  PreAttackDelay        = 0 				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 				;
  FireFX		= FX_GenericCrushImpactSound

  DamageNugget                  			; A basic Nugget that just does damage
    Damage        = KNIGHT_CRUSH_DAMAGE			; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 200%
  End
End

;------------------------------------------------------------------------------
Weapon TomBombadilCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            			; time between shots, msec
  PreAttackDelay        = 0 				;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 				;
  FireFX		= FX_TomBombadilCrushImpactSound

  DamageNugget						; A basic Nugget that just does damage
    Damage        = TOM_BOMBADIL_CRUSH_DAMAGE		; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
  End
End

;------------------------------------------------------------------------------
Weapon TomBombadilPunch  ; BALANCE CaveTroll Weapon Normal
  LeechRangeWeapon			= Yes
  RadiusDamageAffects		= ENEMIES 
  AttackRange           	= 30.0
  MeleeWeapon           	= Yes
  DelayBetweenShots     	= TOM_BOMBADIL_PUNCH_DELAYBETWEENSHOTS
  FiringDuration        	= TOM_BOMBADIL_PUNCH_FIRINGDURATION
  PreAttackDelay        	= TOM_BOMBADIL_PUNCH_PREATTACKDELAY
  PreAttackType         	= PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX				= FX_TomBombadilHit
  FireFX			        = FX_TomBombadilPunchImpactSound  
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta		= 15.0 

  DamageNugget              ; A basic Nugget that just does damage
    Damage        			= TOM_BOMBADIL_PUNCH_DAMAGE
    Radius        			= 50.0
    DamageArc     			= 45
    DamageType    			= MAGIC
    DamageFXType  			= CLUBBING
    DeathType     			= NORMAL
  End
  MetaImpactNugget          ; A Nugget that throws things back with force
    ShockWaveAmount   		= 30.0
    ShockWaveRadius   		= 50.0
    ShockWaveTaperOff 		= 1.0
    ShockWaveArc      		= 45
    ShockWaveZMult    		= 1.20
 ;   HeroResist		  		= 0.90		; 90% resistance to heroes
  End
End

;------------------------------------------------------------------------------
Weapon WargCrush
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WARG_CRUSH_DAMAGE				; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 200%
  End
End

;------------------------------------------------------------------------------
Weapon MumakilCrush  ; Used when the Mumakil crush an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MUMAKIL_CRUSH_DAMAGE				; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
  End
End

;//------------------------------------------------------------------------------
Weapon ShelobCrush ;// Used when the BattleWagon crushes an enemy.
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0         ;//time between shots, msec
  PreAttackDelay        = 0			;//PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 
  FireFX				= FX_GenericCrushImpactSound

  DamageNugget                        ;// A basic Nugget that just does damage
    Damage        = SHELOB_CRUSH_DAMAGE				;// A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    FlankingBonus = 300%
  End
End

;------------------------------------------------------------------------------
Weapon BasicInfantryCrushRevenge
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt a little
  AttackRange	  = 10.0
  DamageNugget                        
    Damage        = BASIC_INFANTRY_CRUSH_REVENGE_DAMAGE				
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DeathType     = LASERED ;now always used instead of NORMAL (Sûl)
  End
End

;------------------------------------------------------------------------------
Weapon RangedInfantryCrushRevenge
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt a little
  AttackRange	  = 10.0
  DamageNugget                        
    Damage        = RANGED_INFANTRY_CRUSH_REVENGE_DAMAGE				
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = PIERCE
    DeathType     = LASERED ;now always used instead of NORMAL (Sûl)
  End
End

;------------------------------------------------------------------------------
Weapon AntiCavalryInfantryCrushRevenge
  AttackRange	  = 10.0
  DamageNugget                        
    Damage        = ANTI_CAVALRY_INFANTRY_CRUSH_REVENGE_DAMAGE	
;    DamageScalar  = 10% NONE +DwarvenBattleWagon
    Radius	  = 0.0
    DelayTime     = 0
    DamageType    = SPECIALIST
    DeathType     = LASERED ;now always used instead of NORMAL (Sûl)
  End
End

;------------------------------------------------------------------------------
Weapon SuperInfantryCrushRevenge
  AttackRange       = 10.0
  DamageNugget                        
    Damage          = SUPER_INFANTRY_CRUSH_REVENGE_DAMAGE
;    DamageScalar  = 10% NONE +DwarvenBattleWagon	
    Radius	  = 0.0
    DelayTime     = 0
    DamageType    = SPECIALIST
    DeathType     = LASERED ;now always used instead of NORMAL (Sûl)
  End
End


;------------------------------------------------------------------------------------------------------------------------------
Weapon LegolasBowArrowStorm
  AttackRange = LEGOLAS_ARROWSTORM_RANGE
  WeaponSpeed = 561         ; dist/sec 
  MinWeaponSpeed = 481
  MaxWeaponSpeed = 641      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX = FX_RohanArcherBowWeapon
  HitPercentage     = 100     ;When this weapon is used it will hit exactly all of the time.

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName = LegolasBowArrowStormProjectile
    WarheadTemplateName = LegolasBowArrowStormWarhead
  End
End

;------------------------------
Weapon LegolasBowArrowStormWarhead
  ProjectileCollidesWith =   STRUCTURES WALLS  
  RadiusDamageAffects =   ENEMIES NEUTRALS NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = LEGOLAS_ARROWSTORM_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
    AcceptDamageAdd = No
  End
End

;------------------------------------------------------------------------------------------------------------------------------
Weapon LegolasBowArrowStormHigh
  AttackRange = 1680.0
  WeaponSpeed = 481         ; dist/sec 
  MinWeaponSpeed = 481
  MaxWeaponSpeed = 641      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX = FX_RohanArcherBowWeapon
  HitPercentage     = 100     ;When this weapon is used it will hit exactly all of the time.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = LegolasBowArrowStormProjectile
    WarheadTemplateName = LegolasBowArrowStormWarhead
  End
End

;------------------------------------------------------------------------------------------------------------------------------
Weapon DamrodBowDeadlySniper
  AttackRange = DAMROD_DEADLYSHOT_RANGE
  WeaponSpeed = 561         ; dist/sec 
  MinWeaponSpeed = 481
  MaxWeaponSpeed = 641      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX = FX_RohanArcherBowWeapon
  HitPercentage     = 100     ;When this weapon is used it will hit exactly all of the time.

  ProjectileNugget                    ; Default arrow
    ProjectileTemplateName = LegolasBowArrowStormProjectile
    WarheadTemplateName = LegolasBowArrowStormWarhead
  End
End

;------------------------------------------------------------------------------
Weapon HobbitPunch  ; BALANCE Hobbit Punch
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 833            ; time between shots, msec
  PreAttackDelay        = 367             ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 833            ; min 600 for anim
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon HobbitSword  ; BALANCE Hobbit Sword Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = HOBBIT_SWORD_DELAYBETWEENSHOTS             ; time between shots, msec
  PreAttackDelay        = HOBBIT_SWORD_PREATTACKDELAY              ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = HOBBIT_SWORD_FIRINGDURATION            ; min 600 for anim
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = HOBBIT_SWORD_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = 50%
  End
End

;------------------------------------------------------------------------------
Weapon Sting
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = FRODO_DELAYBETWEENSHOTS            ; time between shots, msec
  PreAttackDelay        = FRODO_PREATTACKDELAY              ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = FRODO_FIRINGDURATION           ; min 600 for anim
  FireFX                = FX_GondorSwordHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = FRODO_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
;Weapon SamFryingPanBonk
;	LeechRangeWeapon    = Yes
;	AttackRange         = 20.0
;	MeleeWeapon         = Yes
;	PreAttackType       = PER_SHOT ; Do the delay each time we attack a new target
;
;	DelayBetweenShots   = SAM_PAN_DELAYBETWEENSHOTS 			; time between shots, msec
;	PreAttackDelay      = SAM_PAN_PREATTACKDELAY 				
;	FiringDuration      = SAM_PAN_FIRINGDURATION 				
;	
;	ClipReloadTime		= 10000
;	ClipSize			= 1
;	AutoReloadsClip		= Yes
;
;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage        = SAM_PAN_DAMAGE					
;		Radius        = 0.0
;		DelayTime     = 0
;		DamageType    = HERO
;		DamageFXType  = CLUBBING
;		DeathType     = NORMAL
;	End
;End

;----------------------------
Weapon ElvenBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ELVEN_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon GarrisonedUnitBow     ; BALANCE
	AttackRange         = ELVEN_LORIENARCHER_ARCHER_RANGE
	CanFireWhileMoving	= Yes
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( ELVEN_LORIENARCHER_ARCHER_RANGE .003 )
	
	WeaponSpeed         = 321         ; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY 
	PreAttackType       = PER_POSITION
	FiringDuration      = 0

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = LorienBowWarhead
	End
End

Weapon GarrisonedUnitBowHordeRangefinder
	AttackRange			= #SUBTRACT( ELVEN_LORIENARCHER_ARCHER_RANGE 100 )  ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( ELVEN_LORIENARCHER_ARCHER_RANGE .003 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End


;----------------------------
Weapon RohanElvenBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES (4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_ELVEN_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;----------------------------
Weapon RohanElvenBowFireWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.
	
	DamageNugget                        
		Damage        = ROHAN_ELVEN_FIRE_UPGRADE_DAMAGE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
		DamageScalar  = 25% ALL -STRUCTURE
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 1
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		AcceptDamageAdd = No
		DamageScalar  = 50000% NONE +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ROHAN_ELVEN_FIRE_UPGRADE_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
; This is the attack with rock in hand
; Treebeard
Weapon RohanTreeBeardRockThrow  ; BALANCE TreeBeard Weapon Rock
	IdleAfterFiringDelay		= 2000							; Yes if I want to throw rock, then wait until the followthrough is complete, then go idle.
	AttackRange					= ROHAN_TREEBEARD_ROCK_RANGE
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( ROHAN_TREEBEARD_ROCK_RANGE .003 )
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	ProjectileFilterInContainer	= ANY +ROCK +INFANTRY			; We don't make the projectile, it is in our Contain module.
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 1400
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	HitPercentage				= 0								; never auto hits, always hits ground
	ScatterRadius				= 4.0							; When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration				= 2000
	DelayBetweenShots			= 4000
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	ProjectileNugget                    	; A Nugget that creates an Object and sends it to the target with a Warhead
		WarheadTemplateName 		= RohanTreeBeardRockThrowWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;----------------------------------------------------------------------------------------------------------------
;
;	This is the toggle weapon for ents. They will reload, throw, reload straight away, and constantly hold a rock.
;
Weapon RohanEntRockThrow
	HoldDuringReload			= Yes							; Cache any commands during the reload so we don't wander off half way through reload.
	AttackRange					= ROHAN_TREEBEARD_ROCK_RANGE
	
	RangeBonusMinHeight      = 30 ;			= 10
	RangeBonus					= 1
	RangeBonusPerFoot			= #MULTIPLY( ROHAN_TREEBEARD_ROCK_RANGE .003 )
	
	WeaponSpeed					= 200.0							; dist/sec (huge value == effectively instant)
	FireFX						= FX_EntThrowSmallRock
	PreAttackDelay				= 2200
	FiringDuration				= 3000
	PreAttackType				= PER_SHOT						; Do the delay each time we attack a new target
	DelayBetweenShots			= 6000
	HitPercentage				= 70								; never auto hits, always hits ground
	ScatterRadius				= 50.0							; When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes							; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes							; Need no target
	LeechRangeWeapon			= Yes

	HoldAfterFiringDelay		= 5200
	AutoReloadWhenIdle			= 2000
	AutoReloadsClip 			= No
	ClipReloadTime 				= 3000

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= RockBigTreeberd
		WarheadTemplateName		= RohanTreeBeardRockFromThinAirWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End
End

;----------------------------
Weapon RohanTreeBeardRockThrowWarhead
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE
    Radius        = 25.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
    DamageScalar  = 0% ALL ALLIES			; No damage to allies
    DamageScalar  = 25% ANY ENEMIES +INFANTRY
    DamageScalar  = 25% ANY ENEMIES +CAVALRY 
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 25.0
    ShockWaveRadius   = 20.0
    ShockWaveTaperOff = 0.75
;    ShockWaveZMult    = 1.20
  End
End

;------------------------------------------------------------------------------
; This is the normal punch, not the AOE, rock, siege or tree
Weapon RohanTreeBeardPunch  ; BALANCE TreeBeard Weapon Normal
  LeechRangeWeapon = Yes
  AttackRange				= 30.0
  MeleeWeapon				= Yes
  DelayBetweenShots			= 2000            ; time between shots, msec
  FiringDuration			= 1900            ; min 1900 for anim
  PreAttackDelay			= 1100
  PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
  FireFX					= FX_TreeBeardPunch
  RadiusDamageAffects		= ENEMIES NEUTRALS
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_PUNCH_DAMAGE
    Radius        = ROHAN_TREEBEARD_PUNCH_RADIUS
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
    DamageArc	  = 40
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = ROHAN_TREEBEARD_PUNCH_RADIUS
    ShockWaveTaperOff = 1.0
    ShockWaveArc      = 40
;    ShockWaveZMult   = 0.75
;    HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

;----------------------------
Weapon RohanTreeBeardRockFromThinAir  ; BALANCE TreeBeard Weapon Rock
	AttackRange					= ROHAN_TREEBEARD_ROCK_RANGE
	WeaponSpeed					= 200.0        ; dist/sec (huge value == effectively instant)
	FireFX						= FX_TrollTreeSwing
	PreAttackDelay				= 6200
	FiringDuration				= 1800
	PreAttackType				= PER_SHOT ; Do the delay each time we attack a new target
	DelayBetweenShots			= 4000
	HitPercentage				= 0 ; never auto hits, always hits ground
	ScatterRadius				= 4.0     ;When this weapon misses it can randomly miss by as much as this distance.
	IsAimingWeapon				= Yes	; Shooter will use his AimWeaponBehavior to get extra model condition flags
	NoVictimNeeded				= Yes ; Need no target
	LeechRangeWeapon			= Yes

	ProjectileNugget                    			; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName		= RockBigTreeberd
		WarheadTemplateName		= RohanTreeBeardRockFromThinAirWarhead
	End
End

;----------------------------
Weapon RohanTreeBeardRockFromThinAirWarhead
  ;FireFX= FX_ImpactEntRock
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects	= ENEMIES NEUTRALS ALLIES
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE
	Radius         = 20.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = SMALL_ROCK
    DeathType     = NORMAL
    DamageScalar  = 0% ALL ALLIES			; No damage to allies
    DamageScalar  = 25% ANY ENEMIES +INFANTRY
    DamageScalar  = 25% ANY ENEMIES +CAVALRY 
  End
  
  	 DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ROHAN_TREEBEARD_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		DamageTaperOff = 50
		Radius        = 50.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
	    DamageScalar  = 0% ALL ALLIES			; No damage to allies
	    DamageScalar  = 25% ANY ENEMIES +INFANTRY
	    DamageScalar  = 25% ANY ENEMIES +CAVALRY 
	    DamageScalar  = 125% ANY ENEMIES +STRUCTURE
	End
  
  
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 30.0
    ShockWaveTaperOff = 0.75
;    ShockWaveZMult    = 1.20
  End
End

;------------------------------------------------------------------------------
Weapon RohanEntDeath  ; BALANCE Ent Death toppling over units
  RadiusDamageAffects = ENEMIES NEUTRALS
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 80
    Radius        = 40.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 40.0
    ShockWaveTaperOff = 1.0
  End
End

;------------------------------------------------------------------------------
; This is the building tear down attack
Weapon RohanBuildingTeardown  ; BALANCE TreeBeard building teardown attack
  RadiusDamageAffects = ENEMIES NEUTRALS
  CanFireWhileMoving    = No
  	LeechRangeWeapon = Yes	;Just like the troll, this needs to go with Melee to let me hurt round buildings.
  AttackRange           = 20.0
  AntiStructure         = Yes            ; Ram ONLY affects structures -- buildings, walls, gates
  AntiGround            = No             ; ditto
  MeleeWeapon           = Yes
  AcceptableAimDelta    = 20             ; Can't ram sideways (but give a little slack)
  FireFX                = FX_TreeBeardBash
  DelayBetweenShots			= 3900            ; time between shots, msec
  FiringDuration			= 1900            ; min 1900 for anim
  PreAttackDelay			= 1100
  PreAttackType         = PER_SHOT        ; Do the delay each time we attack a new target

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROHAN_TREEBEARD_BUILDINGATTACK_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;   ShockWaveAmount   = 10.0
;    ShockWaveRadius   = 8.0
;    ShockWaveTaperOff = 1.0
;    ShockWaveZMult    = 0.40
;  End
End

;------------------------------------------------------------------------------
Weapon GoodStructureBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = StructureBowWarhead
  End
End

;------------------------------------------------------------------------------
Weapon EvilStructureBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = StructureBowWarhead
  End

End

;------------------------------------------------------------------------------
Weapon TreasureTroveBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = EvilFactionArrow
    WarheadTemplateName     = FortressArrowTowerBowWarhead
    ForbiddenUpgradeNames	= Upgrade_WildTreasureTroveLevel3
  End
  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = EvilFactionFireArrow
    WarheadTemplateName     = FortressArrowTowerBowUpgradedWarhead
    RequiredUpgradeNames	= Upgrade_WildTreasureTroveLevel3
  End

End

;------------------------------------------------------------------------------
Weapon SentryTowerBow
	AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
	WeaponSpeed               = 321													; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481													; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes													; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100													;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0												;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY			; 1467 is the prep time for archer.
	PreAttackType             = PER_SHOT											; Do the delay each time we attack a new target
	FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX	; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget													; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = StructureBowWarhead
		ForbiddenUpgradeNames   = Upgrade_SentryTowerFireArrows
	End

	ProjectileNugget													; Upgraded arrow
		ProjectileTemplateName  = GoodFactionFireArrow
		WarheadTemplateName     = StructureBowWarheadFire
		RequiredUpgradeNames	= Upgrade_SentryTowerFireArrows
	End

End

;----------------------------
Weapon StructureBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = STRUCTURE_BOW_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
    DamageScalar  = 0% NONE +EntMoot +ElvenEntMoot
  End
End

;----------------------------
Weapon StructureBowWarheadFire
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = STRUCTURE_BOW_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
    DamageScalar  = 0% NONE +EntMoot +ElvenEntMoot
  End
  
  DamageNugget                        
 	Damage        = KEEP_BOW_UPGRADED_DAMAGE
	Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
	DelayTime     = 0
	DamageType    = FLAME
	DamageFXType  = FLAME
	DeathType     = BURNED
  End
  
  
  
  
  
End


;------------------------------------------------------------------------------
Weapon KeepBow       ; BALANCE Archer Weapon
	AttackRange               = KEEP_ARCHER_RANGE
	WeaponSpeed               = 321       ; dist/sec 
	MinWeaponSpeed            = 241
	MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
	FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	HitPassengerPercentage	= 20%
	AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = KeepBowWarhead
		ForbiddenUpgradeNames   = Upgrade_BattleTowersToUseFireArrows
	End

	ProjectileNugget          ; Upgraded arrow
		ProjectileTemplateName  = UpgradedGoodFactionArrow
		WarheadTemplateName     = KeepBowUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_BattleTowersToUseFireArrows
	End

End

;----------------------------
Weapon KeepBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = KEEP_BOW_DAMAGE
    DamageScalar  = 0% NONE +EntMoot +ElvenEntMoot
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon AmonSulArrowTowerBow       ; BALANCE Archer Weapon
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = FortressArrowTowerBowUpgradedWarhead
  End
End

;------------------------------------------------------------------------------
Weapon FortressArrowTowerBow       ; BALANCE Archer Weapon
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = FortressArrowTowerBowWarhead
    ForbiddenUpgradeNames   = Upgrade_GoodFortressFlamingMunitions 
  End

  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = FortressArrowTowerBowUpgradedWarhead
    RequiredUpgradeNames	= Upgrade_GoodFortressFlamingMunitions 
  End
End

;----------------------------
Weapon FortressArrowTowerBowWarhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ALLIES
	HitStoredTarget			= Yes		; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = KEEP_BOW_DAMAGE	
		;DamageScalar  = 0% NONE +EntMoot +ElvenEntMoot
		DamageScalar  = 1% NONE +SHIP //Added for SEE!		
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = STRUCTURAL ; Moving all structure-based weapons over to Structural Damage for balance reasons - GB
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = LASERED ;now always used instead of NORMAL (Sûl)
	End
End

//----------------------------
Weapon FortressArrowTowerBowUpgradedWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes				// Always hits initial target.
	DamageNugget                        
		Damage        = KEEP_BOW_UPGRADED_DAMAGE
		Radius        = 0.0	// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
	End
	DamageNugget                        // A basic Nugget that just does damage
		Damage        = KEEP_BOW_DAMAGE
		;DamageScalar  = 0% NONE +EntMoot +ElvenEntMoot
		Radius        = 0.0			// HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = STRUCTURAL	// Moving all structure-based weapons over to Structural Damage for balance reasons - GB
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon EvilFortressArrowTowerBow       ;// BALANCE Arrow Tower bow
	AttackRange               	= KEEP_ARCHER_RANGE
	WeaponSpeed               	= 321		;// dist/sec 
	MinWeaponSpeed            	= 241
	MaxWeaponSpeed            	= 481		;// dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX                    	= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed          	= Yes		;// Used for lob weapons, scales speed proportional to range
	HitPercentage             	= 80 //100		;// When this weapon is used it will hit exactly 80% of the time.
	ScatterRadius             	= 16.0		;// When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         	= Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
	PreAttackDelay            	= KEEP_BOW_PREATTACKDELAY   ;// 1467 is the prep time for archer.
	PreAttackType             	= PER_SHOT	;// Do the delay each time we attack a new target
	FiringDuration            	= KEEP_BOW_DELAYBETWEENSHOTS_MAX    ;// Duration of the archer firing shot is 500ms.
	IsAimingWeapon            	= Yes
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	AcceptableAimDelta			= 180.0	;// We want to be able to shoot all round, as we canit move.

	CanBeDodged					= Yes			;// Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget          ;// Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = FortressArrowTowerBowWarhead
		ForbiddenUpgradeNames   = Upgrade_EvilFortressFlamingMunitions
	End

	ProjectileNugget          ;// Upgraded arrow
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName     = FortressArrowTowerBowUpgradedWarhead
		RequiredUpgradeNames	= Upgrade_EvilFortressFlamingMunitions
	End
End

;------------------------------------------------------------------------------
Weapon CastleWallUpgradeBow      ; BALANCE Archer Weapon
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = No
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = GoodFactionArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarhead
    ForbiddenUpgradeNames   = Upgrade_BattleTowersToUseFireArrows
  End

;	The fire arrow upgrades - one nugget per faction, because they have one each.

  ProjectileNugget          ; Fire arrow from gondor
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_GondorFireArrows
  End
  ProjectileNugget          ; Fire arrow from mordor
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_MordorFireArrows
  End
  ProjectileNugget          ; Fire arrow from isengard
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_IsengardFireArrows
  End
  ProjectileNugget          ; Fire arrow from rohan
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_RohanFireArrows
  End
	
  ProjectileNugget          ; Fire arrow from corrupted wild
    ProjectileTemplateName  = GoodFactionFireArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadFire
    RequiredUpgradeNames    = Upgrade_WildFireArrows
  End
  
  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = UpgradedGoodFactionArrow
    WarheadTemplateName     = CastleWallUpgradeBowWarheadUpgrade
    RequiredUpgradeNames    = Upgrade_BattleTowersToUseFireArrows
  End

End

;----------------------------
Weapon CastleWallUpgradeBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WALL_TOWER_BOW_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon CastleWallUpgradeBowWarheadUpgrade
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WALL_TOWER_BOW_DAMAGE_UPGRADE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon CastleWallUpgradeBowWarheadFire
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        
		Damage        = GONDOR_ARCHER_FIRE_UPGRADE_FLAME
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = BURNED
		AcceptDamageAdd = No
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WALL_TOWER_BOW_DAMAGE_UPGRADE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = PIERCE
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
;
;	Not needed at this point, as the KeepBow swaps warhead on the upgrade, rather than weaponsets.
;
;Weapon KeepBowFire       ; BALANCE Archer Weapon
;  AttackRange               = KEEP_ARCHER_RANGE
;  WeaponSpeed               = 321       ; dist/sec 
;  MinWeaponSpeed            = 241
;  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
;  FireFX                    = FX_RohanArcherBowWeapon
;  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
;  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
;  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
;  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
;  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
;  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
;  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
;  IsAimingWeapon            = Yes
;  AntiAirborneVehicle		= Yes
;  AntiAirborneMonster		= Yes
;  HitPassengerPercentage	= 20%
;  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.;
;
;  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
;
;
;  ProjectileNugget          ; Default arrow
;    ProjectileTemplateName  = GoodFactionFireArrow
;    WarheadTemplateName     = KeepBowFireWarhead
;    ForbiddenUpgradeNames   = Upgrade_FireArrows
;  End
;End

;----------------------------
Weapon KeepBowUpgradedWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        
    Damage        = KEEP_BOW_UPGRADED_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon EvilMenBlackRiderSword
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots         = EVILMEN_BLACKRIDER_DELAYBETWEENSHOTS
  PreAttackDelay            = EVILMEN_BLACKRIDER_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = EVILMEN_BLACKRIDER_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = EVILMEN_BLACKRIDER_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageScalar  = 70% NONE +STRUCTURE		; Added for the RotWK balance patch
  End
End

;------------------------------------------------------------------------------
Weapon MouthOfSauronSword
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  DelayBetweenShots         = MOUTH_OF_SAURON_DELAYBETWEENSHOTS
  PreAttackDelay            = MOUTH_OF_SAURON_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = MOUTH_OF_SAURON_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MOUTH_OF_SAURON_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon EvilMenBlackRiderMorgulBlade
	LeechRangeWeapon = Yes
	AttackRange				= 30.0
	MeleeWeapon				= Yes
	;FireFX					= FX_BlackRiderMorgulBladeTempAudio		;FX_BlackRiderMorgulBlade
	DelayBetweenShots		= EVILMEN_BLACKRIDER_DELAYBETWEENSHOTS
	PreAttackDelay			= EVILMEN_BLACKRIDER_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration			= EVILMEN_BLACKRIDER_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = EVILMEN_BLACKRIDER_MORGULBLADE_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = MAGIC
;		DamageSubType = BECOME_UNDEAD
		DamageFXType  = MAGIC
		DeathType     = NORMAL
	End

	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = DEFAULT_POISON_DAMAGE
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageSubType = BECOME_UNDEAD
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End

	AttributeModifierNugget
		AttributeModifier        = BlackRiderMorgulBlade
		DamageFXType             = SWORD_SLASH
		SpecialObjectFilter      = MORGULBLADE_OBJECT_FILTER
	End
End

;------------------------------------------------------------------------------
Weapon MorgomirMorgulBlade
	LeechRangeWeapon = Yes
	AttackRange				= 30.0
	MeleeWeapon				= Yes
	;FireFX					= FX_BlackRiderMorgulBladeTempAudio		;FX_BlackRiderMorgulBlade
	DelayBetweenShots		= EVILMEN_BLACKRIDER_DELAYBETWEENSHOTS
	PreAttackDelay			= EVILMEN_BLACKRIDER_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration			= EVILMEN_BLACKRIDER_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ANGMAR_MORGRAMIR_MORGULBLADE_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = MAGIC
		DamageSubType = BECOME_UNDEAD
		DamageFXType  = MAGIC
		DeathType     = NORMAL
	End

	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = ANGMAR_MORGRAMIR_MORGULBLADE_DOT
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageSubType = BECOME_UNDEAD
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageInterval = 1000
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End

	AttributeModifierNugget
		AttributeModifier        = BlackRiderMorgulBlade
		DamageFXType             = SWORD_SLASH
		SpecialObjectFilter      = MORGULBLADE_OBJECT_FILTER
	End
End


;------------------------------------------------------------------------------
Weapon AngmarWitchkingMorgulBlade
	LeechRangeWeapon = Yes
	AttackRange				= 30.0
	MeleeWeapon				= Yes
	;FireFX					= FX_BlackRiderMorgulBladeTempAudio		;FX_BlackRiderMorgulBlade
	DelayBetweenShots		= ANGMAR_WITCHKING_MORGULBLADE_DELAYBETWEENSHOTS
	PreAttackDelay			= ANGMAR_WITCHKING_MORGUL_PREATTACKDELAY   ; 1467 is the prep time for archer.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration			= ANGMAR_WITCHKING_MORGULBLADE_FIRINGDURATION    ; Duration of the archer firing shot is 500ms.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ANGMAR_WITCHKING_MORGULBLADE_DAMAGE
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = MAGIC
		DamageSubType = BECOME_UNDEAD
		DamageFXType  = MAGIC
		DeathType     = NORMAL
	End

	DOTNugget                        ; A basic Nugget that just does damage
		Damage        = ANGMAR_WITCHKING_MORGULBLADE_DOT
		AcceptDamageAdd = No
		Radius        = 0.0
		DelayTime     = 0
		DamageType    = POISON
		DamageSubType = BECOME_UNDEAD
		DamageFXType  = POISON
		DeathType     = NORMAL
		DamageScalar  = 200% NONE +HERO
		DamageInterval = 1000
		DamageDuration = 10000
		SpecialObjectFilter = AFFECTED_BY_POISON_OBJECTFILTER
	End

	AttributeModifierNugget
		AttributeModifier        = BlackRiderMorgulBlade
		DamageFXType             = SWORD_SLASH
		SpecialObjectFilter      = MORGULBLADE_OBJECT_FILTER
	End
End

;------------------------------------------------------------------------------
Weapon RogashLeap  ; BALANCE RohanGimliLeap
  IdleAfterFiringDelay = 0
  AttackRange           = 200.0
  MinimumAttackRange    = 8.0
  WeaponSpeed           = 100.0        ; dist/sec (huge value == effectively instant)
  ProjectileSelf		= Yes ; We don't make the projectile throw ourself
  ClipSize              = 1               ; how many shots in a Clip (0 == infinite)
  ClipReloadTime        = 2200   ;1467 min for animation           ; how long to reload a Clip, msec
  AutoReloadsClip		= Yes	
  PreAttackDelay        = 600
  FiringDuration		= 2000            
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  HitPercentage       = 0 ; Never auto hits, always shoots at a ground position
  ScatterRadius       = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  FireFX				= FX_RogashLeap
  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    WarheadTemplateName = RogashLeapWarhead
  End
End

;-----------------------------------
Weapon RogashLeapWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES
  
  FireFX				= FX_RogashLeap
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ROGASH_LEAP_DAMAGE
    Radius        = 50.0
    DelayTime     = 0
    DamageType            = HERO
    DamageFXType          = GIMLI_LEAP
    DeathType             = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 85.0
    ShockWaveRadius   = 100.0
    ShockWaveTaperOff = 0.5
    ShockWaveZMult    = 1.20
  End
End

;-------------------------------------------------------------------------------
Weapon RogashWarMace
	LeechRangeWeapon		= Yes
	AttackRange			= STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon			= Yes
 	RadiusDamageAffects 		= ENEMIES
	DelayBetweenShots		= ROGASH_MACE_DELAYBETWEENSHOTS 		; time between shots, msec
	PreAttackDelay			= ROGASH_MACE_PREATTACKDELAY 			; 300 is mace swing delay time before contact with target.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack
	FireFX				= FX_GondorSwordHit
	FiringDuration			= ROGASH_MACE_FIRINGDURATION 			; Duration of the mace swing 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= ROGASH_MACE_DAMAGE						
		Radius			= 40.0
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType		= MAGIC
		DeathType		= NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist		= .95
		ShockWaveAmount		= 35
		ShockWaveRadius		= 25
		ShockWaveArc		= 40				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
	End
End

;------------------------------------------------------------------------------
Weapon RiderlessWeapon
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1333            ; time between shots, msec
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 0.0001
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    ;DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon OathbreakerSword ;BALANCE OathbreakerSword
  RadiusDamageAffects = ENEMIES NEUTRALS
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = OATHBREAKER_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = OATHBREAKER_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FiringDuration        = OATHBREAKER_SWORD_FIRINGDURATION    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = OATHBREAKER_SWORD
    DamageScalar  = 10% NONE +GondorAragorn +STRUCTURE
    Radius        = 10.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon BarrowWightTouch ;BALANCE BarrowWightTouch
	RadiusDamageAffects	= ENEMIES NEUTRALS
	LeechRangeWeapon      = Yes
	AttackRange           = 20.0
	MeleeWeapon           = Yes
	DelayBetweenShots     = BARROWWIGHT_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
	PreAttackDelay        = BARROWWIGHT_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_BarrowWightHit	;FX_GondorSwordHit
	FiringDuration        = BARROWWIGHT_SWORD_FIRINGDURATION    ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= BARROWWIGHT_SWORD
		Radius        		= 10.0
		DelayTime     		= 0
		DamageType    		= MAGIC
		DamageFXType  		= SWORD_SLASH
		DeathType     		= NORMAL
		DrainLife     		= Yes
		DrainLifeMultiplier	= 0.5
	End
	AttributeModifierNugget
		AttributeModifier	= BarrowWightTouchDebuff
		AntiCategories		= LEADERSHIP BUFF
		SpecialObjectFilter = GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
End

;-------------------------------------------------------------------------------

Weapon LesserWightTouch ;BALANCE BarrowWightTouch
	RadiusDamageAffects	= ENEMIES NEUTRALS
	LeechRangeWeapon      = Yes
	AttackRange           = 20.0
	MeleeWeapon           = Yes
	DelayBetweenShots     = BARROWWIGHT_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
	PreAttackDelay        = BARROWWIGHT_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_BarrowWightHit	;FX_GondorSwordHit
	FiringDuration        = BARROWWIGHT_SWORD_FIRINGDURATION    ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= BARROWWIGHT_SWORD
		Radius        		= 10.0
		DelayTime     		= 0
		DamageType    		= MAGIC
		DamageFXType  		= SWORD_SLASH
		DeathType     		= NORMAL
;		DrainLife     		= Yes
;		DrainLifeMultiplier	= 0.5
	End
	AttributeModifierNugget
		AttributeModifier	= BarrowWightTouchDebuff
		AntiCategories		= LEADERSHIP BUFF
		SpecialObjectFilter = GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
End

;------------------------------------------------------------------------------
Weapon KarshWightTouch ;BALANCE BarrowWightTouch
	RadiusDamageAffects	= ENEMIES NEUTRALS
	LeechRangeWeapon      = Yes
	AttackRange           = 20.0
	MeleeWeapon           = Yes
	DelayBetweenShots     = KARSH_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
	PreAttackDelay        = KARSH_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_BarrowWightHit	;FX_GondorSwordHit
	FiringDuration        = KARSH_SWORD_FIRINGDURATION    ; Duration of the sword swing

	DOTNugget                        // A basic Nugget that just does damage
		Damage        		= KARSH_SWORD_DAMAGE
		AcceptDamageAdd 	= Yes
		Radius        		= 1.0
		DelayTime     		= 0
		DamageType    		= HERO
		DamageFXType  		= SWORD_SLASH
		DeathType     		= NORMAL
		DamageInterval 		= 500
		DamageDuration 		= 1500
		DrainLife     		= Yes
		DrainLifeMultiplier	= 0.2
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= KARSH_SWORD_DAMAGE
		Radius        		= 10.0
		DelayTime     		= 0
		DamageType    		= MAGIC
		DamageFXType  		= SWORD_SLASH
		DeathType     		= NORMAL
		DrainLife     		= Yes
		DrainLifeMultiplier	= 0.2
	End
	AttributeModifierNugget
		AttributeModifier	= BarrowWightTouchDebuff
		AntiCategories		= LEADERSHIP BUFF
		SpecialObjectFilter = GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
	End
End

;------------------------------------------------------------------------------
Weapon AngmarSword
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ANGMAR_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = ANGMAR_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = ANGMAR_SWORD_FIRINGDURATION    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ANGMAR_SWORD_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = 50%
  End
End

;------------------------------------------------------------------------------
Weapon AngmarSwordUpgraded
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = ANGMAR_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = ANGMAR_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = ANGMAR_SWORD_FIRINGDURATION    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ANGMAR_SWORD_DAMAGE_UPGRADE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    FlankingBonus = 50%
  End
End

;------------------------------------------------------------------------------
Weapon AngmarSnowTrollPick       ; BALANCE Rohirrim Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  DelayBetweenShots     = ANGMAR_SNOWTROLL_DELAYBETWEENSHOTS           ; time between shots, msec
  PreAttackDelay        = ANGMAR_SNOWTROLL_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = ANGMAR_SNOWTROLL_FIRINGDURATION     ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage					= ANGMAR_SNOWTROLL_PICK_DAMAGE
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= CAVALRY
		DamageFXType				= SWORD_SLASH
		DeathType				= NORMAL
		ForbiddenUpgradeNames			= Upgrade_AngmarDarkIronBlades
		FlankingBonus = 50%
	End


   	DamageNugget
		Damage					= ANGMAR_SNOWTROLL_PICK_DAMAGE_UPGRADE
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= CAVALRY
		DamageFXType				= SWORD_SLASH
		DeathType				= NORMAL
		RequiredUpgradeNames    		= Upgrade_AngmarDarkIronBlades
		FlankingBonus = 50%
	End

End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
Weapon HillTrollHammer     ; BALANCE Wild Marauder Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 35
  MeleeWeapon           = Yes	; Sorry, stand off doesn't work.  This is just a melee weapon.
  DelayBetweenShots     = ANGMAR_HILLTROLL_DELAYBETWEENSHOTS				; time between shots, msec
  PreAttackDelay        = ANGMAR_HILLTROLL_PREATTACKDELAY				
  PreAttackType         = PER_SHOT			; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FireFlankFX		= FX_Flanking
  FiringDuration        = ANGMAR_HILLTROLL_FIRINGDURATION				
  
	DamageNugget								; A basic Nugget that just does damage
		Damage				= ANGMAR_HILLTROLL_HAMMER_DAMAGE
		DamageType			= SPECIALIST
		DamageFXType			= SWORD_SLASH
		DeathType			= NORMAL
		;LostLeadershipUselessAgainst	= CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		ForbiddenUpgradeNames		= Upgrade_AngmarDarkIronBlades
		FlankingBonus = 50%
	End

	DamageNugget								; A basic Nugget that just does damage
		Damage				= ANGMAR_HILLTROLL_HAMMER_DAMAGE_UPGRADE
		DamageType			= SPECIALIST
		DamageFXType			= SWORD_SLASH
		DeathType			= NORMAL
		;LostLeadershipUselessAgainst	= CAVALRY ; Useless when under the CloudBreak spell against Cavalry type units
		RequiredUpgradeNames		= Upgrade_AngmarDarkIronBlades
		FlankingBonus = 50%
	End
End

;------------------------------------------------------------------------------
Weapon LowEndPike
	LeechRangeWeapon		= Yes
	AttackRange			= 35.0
	MeleeWeapon			= Yes
	DelayBetweenShots		= GONDOR_SPEARMEN_DELAYBETWEENSHOTS
	ClipSize			= INFINITE_CLIP_SIZE
	PreAttackDelay			= GONDOR_SPEARMEN_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
	FireFX				= FX_GondorSwordHit
	FireFlankFX			= FX_Flanking
	FiringDuration			= GONDOR_SPEARMEN_FIRINGDURATION    ; Duration of the sword swing

	DamageNugget
	    Damage			= GONDOR_SPEARMEN_DAMAGE
	    DelayTime			= 40
	    DamageType			= SPECIALIST
	    DamageFXType		= SWORD_SLASH
	    DeathType			= NORMAL
	    FlankingBonus = 50%
	    ForbiddenUpgradeNames	= Upgrade_GondorForgedBlades
	End
	
    DamageNugget
		Damage			= GONDOR_SPEARMEN_FORGEDBLADES_UPGRADE_DAMAGE
		DelayTime		= 40
		DamageType		= SPECIALIST
		DamageFXType		= SWORD_SLASH
		DeathType		= NORMAL
		FlankingBonus = 50%
		RequiredUpgradeNames	= Upgrade_GondorForgedBlades
	End  
  
End

;------------------------------------------------------------------------------
Weapon SarumanWizardBlast ; small microwave push
	IdleAfterFiringDelay = 0
	LeechRangeWeapon	 = Yes
	AttackRange = GANDALF_FORCE_ATTACK_RANGE
	WeaponSpeed = 401         ; dist/sec 
	RadiusDamageAffects	  = ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots	  = 5000               ; time between shots, msec
	PreAttackDelay        = 1
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	FireFX                = FX_TelekinesisAtBoneSaruman
	FiringDuration        = 1
	DamageDealtAtSelfPosition = Yes 
	IsAimingWeapon		= Yes
	AcceptableAimDelta	= 15
	AntiAirborneVehicle	= No
	AntiAirborneMonster	= No

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= SARUMAN_FORCE_ATTACK_DAMAGE
		DamageArc 		= 75
		Radius			= 110.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon ChillWindWeapon
	RadiusDamageAffects = ENEMIES
	FireFX = FX_Chillwind
	IsAimingWeapon		= Yes

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= CHILL_WIND_EFFECT_DAMAGE
		DamageArc 		= 360
		Radius			= CHILL_WIND_EFFECT_RADIUS
		DamageType		= FROST
		DamageFXType		= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 1000 ;800.0 ; must match the ShockWaveSpeed below
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		InvertShockWave   = Yes
		ShockWaveAmount   = CHILL_WIND_EFFECT_STRENGTH
		ShockWaveArc	  = 360
		ShockWaveRadius   = CHILL_WIND_EFFECT_RADIUS
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = CHILL_WIND_EFFECT_ZMULT
		ShockWaveSpeed	  = 1000.0 ;800
		AffectHordes	  = Yes
		CyclonicFactor	  = 0.25
		SpecialObjectFilter = CHILL_WIND_TYPE_SPELL_OBJECT_FILTER
	End
End

;------------------------------------------------------------------------------
Weapon TomBombadilSonicSong ; small microwave push
	IdleAfterFiringDelay		= 0
	LeechRangeWeapon			= Yes
	AttackRange					= TOM_BOMBADIL_SONIC_SONG_RANGE
	WeaponSpeed					= 401         ; dist/sec 
	RadiusDamageAffects			= ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots			= 5000               ; time between shots, msec
	PreAttackDelay        		= 100
	PreAttackType         		= PER_ATTACK ; Do the delay each time we attack a new target
	FireFX                		= FX_SonicSong
	FiringDuration        		= 100
	DamageDealtAtSelfPosition	= Yes 
	IsAimingWeapon				= Yes
	AcceptableAimDelta			= 15
	AntiAirborneVehicle			= No
	AntiAirborneMonster			= No

	DamageNugget                ; A basic Nugget that just does damage
		Damage					= TOM_BOMBADIL_SONIC_SONG_DAMAGE
		DamageArc 				= 75
		Radius					= 110.0
		DamageType				= MAGIC
		DamageFXType			= MAGIC
		DeathType				= EXPLODED
		DamageSpeed				= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget            ; A Nugget that throws things back with force
;		HeroResist				= .75
		ShockWaveAmount   		= 50.0
		ShockWaveArc	  		= 75
		ShockWaveRadius   		= 110.0
		ShockWaveTaperOff 		= 0.75
		ShockWaveZMult    		= 1.000
		ShockWaveSpeed	  		= 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon GandalfWordOfPower ; Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401         ; dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlastReal
	FireFX                = FX_GandalfBlast
	FiringDuration      = 1400
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= GANDALF_WORD_OF_POWER_DAMAGE
		Radius			= 250.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 75.0
		ShockWaveRadius   = 500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon GandalfStaffWeapon  ; BALANCE GandalfStaffWeapon
	AttackRange			= GANDALF_PHASER_RANGE				;600
	LeechRangeWeapon	= Yes
	WeaponSpeed			= 801      ; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 4500		; time between shots, msec
	FireFX              = FX_GandalfBeamWeapon
	FiringDuration      = 1
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	AcceptableAimDelta	= 15

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = GANDALF_PHASER_DAMAGE	
		DamageScalar  = 200% NONE +MordorWitchKingOnFellBeast +GondorGwaihir +Drogoth
		DamageScalar  = 180% NONE +MordorFellBeast
		Radius        = 17.6
		DelayTime     = 200           ;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
		DamageType    = MAGIC
		DamageFXType  = FLAME
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist          =   0.75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 17.6
		ShockWaveTaperOff	= 0.5
		DelayTime			= 200		;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End
End

;------------------------------------------------------------------------------
Weapon GandalfLightningSwordBlastWeapon  ; BALANCE GandalfStaffWeapon
	AttackRange			= GANDALF_LIGHTNING_RANGE				;600
	WeaponSpeed			= 801      ; dist/sec 
	HitPercentage			= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots		= 500	; time between shots, msec
	PreAttackDelay      		= 200	
	PreAttackType       		= PER_SHOT	; Do the delay each time we attack a new target
	FireFX              		= FX_GandalfLightningSwordBlastWeapon
	
	FiringDuration      		= 1
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= GANDALF_LIGHTNING_DAMAGE_FLAME			
		DamageType    		= FLAME
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= GANDALF_LIGHTNING_DAMAGE			
		DamageType    		= MAGIC
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
	End
End

;------------------------------------------------------------------------------
Weapon ArvelegKABOOMBlastWeapon  ; BALANCE GandalfStaffWeapon
	IdleAfterFiringDelay = 0
	AttackRange			= 500				;600
	WeaponSpeed = 401         ; dist/sec 
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	DamageDealtAtSelfPosition = Yes 
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES ;SELF
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlastReal
	FireFX                = FX_ArvelegBlast
	FiringDuration      = 1400

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 10000
		Radius			= 250.0
		DamageType		= HERO
		DamageFXType		= BOLT
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
;		SpecialObjectFilter = NONE +ENEMIES +NEUTRALS +ALLIES
		ShockWaveAmount   = 100.0
		ShockWaveRadius   = 500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

;------------------------------------------------------------------------------

Weapon DaleSlamArrow
	AttackRange				= FARAMIR_WOUNDING_ARROW_RANGE
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 321				 ; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 481			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FaramirWoundingArrow
	ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100		 ;When this weapon is used it will hit exactly 75% of the time.
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots			= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:FARAMIR_BOW_RELOADTIME_MIN Max:FARAMIR_BOW_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.
	ProjectileNugget										; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= FaramirSpecialArrow
		WarheadTemplateName	= DaleSlamWarhead
	End
End

;------------------------------

Weapon DaleSlamWarhead

	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = CAPTAINOFDALE_SLAM_DAMAGE
		Radius        = 25.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
	End

  	MetaImpactNugget                    	; A Nugget that throws things back with force
	 	HeroResist		= .75		;only knocks heroes down 75% of the time
    		ShockWaveAmount   	= 50.0
    		ShockWaveRadius   	= 30.0
    		ShockWaveArc      	= 180 		; in degrees to each side 180 is full circle
    		ShockWaveTaperOff	= 1.0
    		ShockWaveZMult    	= 1.2
  	End

End
;------------------------------------------------------------------------------

Weapon DaleBeastSlayerArrow
	AttackRange				= FARAMIR_WOUNDING_ARROW_RANGE
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 321				 ; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 481			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FaramirWoundingArrow
	ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100		 ;When this weapon is used it will hit exactly 75% of the time.
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots			= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:FARAMIR_BOW_RELOADTIME_MIN Max:FARAMIR_BOW_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.
	ProjectileNugget										; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= BlackArrowsProjectile
		WarheadTemplateName	= DaleBeastSlayerWarhead
	End
End

;------------------------------

Weapon DaleBeastSlayerWarhead

	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = CAPTAINOFDALE_BEASTSLAYERDAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = GOOD_ARROW_PIERCE
		DeathType     = NORMAL
		DamageScalar  = 10% NONE +STRUCTURE 
		DamageScalar  = 500% NONE +MONSTER
	End

  	MetaImpactNugget                    	; A Nugget that throws things back with force
	 	HeroResist		= 1.0		;only knocks heroes down 75% of the time
    		ShockWaveAmount   	= 100.0
    		ShockWaveRadius   	= 10.0
    		ShockWaveTaperOff	= 1.0
    		ShockWaveZMult    	= 1.0
  	End

End

;------------------------------------------------------------------------------
Weapon GollumAttack  ; BALANCE Gollum weapon.
  LeechRangeWeapon      = Yes
  AttackRange           = 2.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = GOLLUM_DELAYBETWEENSHOTS            ; time between shots, msec
  PreAttackDelay        = GOLLUM_PREATTACKDELAY             ; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = GOLLUM_FIRINGDURATION            ; min 600 for anim
  FireFX                = FX_GollumAttack

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = GOLLUM_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End


Weapon ShelobWebbing ;taken from Legolas' bow - needs designer love
	AttackRange			= LEGOLAS_BOW_RANGE				
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed		= 241
	MaxWeaponSpeed		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius		= 5.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= LEGOLAS_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay      = LEGOLAS_PREATTACKDELAY 		; 1467 is the prep time for archer.
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = LEGOLAS_FIRINGDURATION 	; Duration of the archer firing shot is 500ms.

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:LEGOLAS_RELOADTIME_MIN Max:LEGOLAS_RELOADTIME_MAX
    ContinuousFireOne	= 0
    ContinuousFireCoast	= LEGOLAS_RELOADTIME_MAX

    AntiAirborneVehicle	= Yes
    AntiAirborneMonster	= Yes
    
	ProjectileNugget                    ; Shelob's Web throw
		ProjectileTemplateName  = ShelobWebbingProjectile 
		WarheadTemplateName     = ShelobWebbingWarhead
	End
End

;-----------------------------------
Weapon ShelobWebbingWarhead
  ProjectileCollidesWith = ALLIES ENEMIES NEUTRAL ;STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget   ; A basic Nugget that just does damage
    Damage        = LURTZ_BOW_STUN_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO_RANGED
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End

  	AttributeModifierNugget
		AttributeModifier        = ShelobWebbing
		DamageFXType             = EVIL_ARROW_PIERCE 
		SpecialObjectFilter      = NONE +HERO -MordorBalrog -GondorGwaihir -MordorFellBeast -MordorWitchKingOnFellBeast -RohanTreeBerd -RohanEntFir -RohanEntFir_Summoned -RohanEntBirch_Summoned -TomBombadil -TomBombadil_Summoned
	End     	
End

;-----------------------------------------------------------------------------------------------

Weapon AngmarWhisperofDeath     
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = ANGMAR_WHISPEROFDEATH_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = ANGMAR_WHISPEROFDEATH_PREATTACKDELAY 		; 300 is mace swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack
	FireFX                = FX_GondorSwordHit
	FiringDuration        = ANGMAR_WHISPEROFDEATH_FIRINGDURATION 		; Duration of the mace swing
	;ClipSize				= 1
	;AutoReloadsClip			= Yes
	;ClipReloadTime			= 5000 

	DOTNugget                        // A basic Nugget that just does damage
		Damage        		= ANGMAR_WHISPEROFDEATH_DAMAGE
		AcceptDamageAdd 	= Yes
		Radius        		= 1.0
		DelayTime     		= 0
		DamageType    		= HERO
		DamageFXType  		= SWORD_SLASH
		DeathType     		= NORMAL
		DamageInterval 		= 500
		DamageDuration 		= 1500
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= ANGMAR_WHISPEROFDEATH_DAMAGE
		Radius        		= 10.0
		DelayTime     		= 0
		DamageType    		= MAGIC
		DamageFXType  		= SWORD_SLASH
		DeathType     		= NORMAL
		DrainLife     		= Yes
		DrainLifeMultiplier	= 0.1
	End
End

;-------------------------------------------------------------------------------
Weapon WitchKingWarMace
	LeechRangeWeapon		= Yes
	AttackRange			= STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon			= Yes
	DelayBetweenShots		= WITCHKING_MACE_DELAYBETWEENSHOTS 		; time between shots, msec
	PreAttackDelay			= WITCHKING_MACE_PREATTACKDELAY 			; 300 is mace swing delay time before contact with target.
	PreAttackType			= PER_SHOT ; Do the delay each time we attack
	FireFX				= FX_GondorSwordHit
	FiringDuration			= WITCHKING_MACE_FIRINGDURATION 			; Duration of the mace swing 
	;ClipSize			= 1  ;  Commented out, don't see why we need clips for the mace. - 7/9/04
	;AutoReloadsClip		= Yes
	;ClipReloadTime			= 5000

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= WITCHKING_MACE_DAMAGE						
		Radius			= 30.0
		;DamageArc		= 40
		DelayTime		= 0
		DamageType		= HERO
		DamageFXType		= MAGIC
		DeathType		= NORMAL
		DamageScalar  		= 10% NONE +RohanEowyn
		DamageScalar  		= 50% ANY ALLIES
		DamageScalar  		= 0% ANY ALLIES +STRUCTURE
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 45
		ShockWaveRadius		= 30
		ShockWaveArc		= 40				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
	End
End
;-------------------------------------------------------------------------------
Weapon DeathWishSelfWeapon ; Shot out every DelayBetweenShots
	RadiusDamageAffects = SELF
	LeechRangeWeapon      = Yes
	AttackRange           = 10.0
	MeleeWeapon           = No
	DelayBetweenShots     = 1000            ; time between shots, msec
	PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FiringDuration        = 30000 

	DamageNugget                  ; A basic Nugget that just does damage
		Damage        = 4		; A whole lot of damage.
		Radius        = 10
		DelayTime     = 0
		DamageType    = MAGIC
		DamageFXType  = POISON  
		DeathType     = CRUSHED
	End
	AttributeModifierNugget
		AttributeModifier = ChillSoulModifier
		DamageFXType = SWORD_SLASH  ;used to cross with their DamageFX listing to determine what effect to play
	End

End


;-------------------------------------------------------------------------------
Weapon ChillSoulRadiusWeapon ; Shot out every DelayBetweenShots
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	LeechRangeWeapon      = Yes
	AttackRange           = 50.0
	MeleeWeapon           = No
	DelayBetweenShots     = 200            ; time between shots, msec
	PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0 

	DamageNugget                  ; A basic Nugget that just does damage
		Damage        = 1		; A whole lot of damage.
		DamageScalar  = 0% NONE +STRUCTURE +MordorBalrog +AngmarShadeWolf
		Radius        = CHILL_SOUL_EFFECT_RADIUS
		DelayTime     = 0
		DamageType    = MAGIC
		DamageFXType  = POISON  
		DeathType     = CRUSHED
	End
	AttributeModifierNugget
		AttributeModifier = ChillSoulModifier
		DamageFXType = SWORD_SLASH  ;used to cross with their DamageFX listing to determine what effect to play
	End

End

;-------------------------------------------------------------------------------
Weapon SpikeMoatRadiusWeapon ; Shot out every DelayBetweenShots
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	LeechRangeWeapon      = Yes
	AttackRange           = 50.0
	MeleeWeapon           = No
	DelayBetweenShots     = 300            ; time between shots, msec
	PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0 

	DamageNugget                  ; A basic Nugget that just does damage
		Damage        = 2		; A whole lot of damage.
		DamageScalar  = 0% NONE +STRUCTURE +MordorBalrog +AngmarShadeWolf
		Radius        = 150
		DelayTime     = 0
		DamageType    = MAGIC
		DamageFXType  = POISON  
		DeathType     = CRUSHED
	End

End


;------------------------------------------------------------------------------
Weapon AngmarMorgramirRuinWeapon
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= 75.0
	AntiStructure         = Yes                                      ; ShakeFoundation ONLY affects structures -- buildings, walls, gates
	AntiGround            = No                                       ; ditto
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
	FireFX				= FX_GloinShake
	DelayBetweenShots     = ANGMAR_MORGRAMIR_RUIN_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = ANGMAR_MORGRAMIR_RUIN_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration        = ANGMAR_MORGRAMIR_RUIN_FIRINGDURATION 		; min 600 for anim

	; Structural damage.
	DamageNugget								; A basic Nugget that just does damage
		Damage			= ANGMAR_MORGRAMIR_RUIN_DAMAGE
		DamageScalar  		= 50% NONE +COMMANDCENTER
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType		= MAGIC
		DeathType		= NORMAL
	End

	; Temporarily disable the target building
;	ParalyzeNugget
;		Radius			= 0.0
;		Duration		= 30000
;		ParalyzeFX			= FX_ParalyzeStructure
;	End

	; Force open any gate hit by this (which will also be paralyzed, so it will be stuck open for the duration)
	OpenGateNugget
		Radius			= 0.0
	End
End

;------------------------------------------------------------------------------
Weapon AngmarDarkLordsLamentWeapon
	RadiusDamageAffects		= ENEMIES
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= 30.0
	MeleeWeapon			= Yes
	WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
	FireFX				= FX_SoWolf_DarkLordsLament
	DelayBetweenShots     = ANGMAR_SHADE_LAMENT_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = ANGMAR_SHADE_LAMENT_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration        = ANGMAR_SHADE_LAMENT_FIRINGDURATION 		; min 600 for anim
	DamageDealtAtSelfPosition = Yes				; A melee based AoE.  Arc radiates from me, not them

	ParalyzeNugget
		Radius			= ANGMAR_SHADE_LAMENT_RADIUS
		Duration		= ANGMAR_SHADE_LAMENT_DURATION
		SpecialObjectFilter	= ALL -STRUCTURE -HERO
		ParalyzeFX		= FX_IceStunEffect
		FreezeAnimation = Yes
		AffectHordeMembers = Yes
	End	

	//Resist Knockback
	AttributeModifierNugget
		AttributeModifier        = DarkLordsLament
		Radius			 = ANGMAR_SHADE_LAMENT_RADIUS		
		SpecialObjectFilter      = ALL -STRUCTURE
		AffectHordeMembers = Yes
	End
End

;-------------------------------------------------------------------------------
;Weapon NazgulCrashingOnBuildingWeapon
;  FireFX= FX_RockDetonation
;  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5000		; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
;    Radius        = 4.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5
;    Radius        = 20.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 50.0
;    ShockWaveRadius   = 20.0
;    ShockWaveTaperOff = 0.75
;  End
;End

;-------------------------------------------------------------------------------
;Weapon NazgulCrashingOnNonBuildingWeapon
;  FireFX= FX_RockDetonation
;  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 10		; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
;    Radius        = 4.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5
;    Radius        = 20.0
;    DelayTime     = 0
;    DamageType    = SIEGE
;    DamageFXType  = BIG_ROCK
;    DeathType     = EXPLODED
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 50.0
;    ShockWaveRadius   = 20.0
;    ShockWaveTaperOff = 0.75
;  End
;End

;------------------------------------------------------------------------------
Weapon MinisGateDoorExplosion  ; BALANCE Minis Gate Explosion causing damage and meta impact
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 10
    Radius        = 160.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 35.0
    ShockWaveArc      = 60
    ShockWaveRadius   = 160.0
    ShockWaveTaperOff = 0.5
    FlipDirection = Yes
  End
End

;------------------------------------------------------------------------------
Weapon StandardWallDeath  ; BALANCE wall blown up death killing units under it
  ShouldPlayUnderAttackEvaEvent = No ; The units hit by this are not "under attack", they're just getting hurt
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 100
    Radius        = 80.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
	DamageScalar  = 500% NONE +MINE	  ; Needs to kill a mine if placed in top of wall.
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 80.0
    ShockWaveTaperOff = 0.75
  End
End

;------------------------------------------------------------------------------
; Special weapon for taking out wall upgrades.
Weapon CastleWallDeath
	RadiusDamageAffects	= ALLIES
	DamageNugget
		Damage        = 10000
		Radius        = 40.0	; Only needs to be small as the upgrades will be right on us.
		DelayTime     = 0
		DamageType    = SIEGE	; ffs
		DeathType     = NORMAL
		DamageScalar  = 10000% NONE +GondorCastleUpgrade +RohanCastleUpgrade	; Affect these...
		DamageScalar  = 0% ALL -GondorCastleUpgrade -RohanCastleUpgrade			; ...and nothing else
	End
End

;------------------------------------------------------------------------------
; Special weapon for taking out the trebuchet on top of the wall.
Weapon CastleUpgradeDeath
	RadiusDamageAffects	= ALLIES
	DamageNugget
		Damage        = 1000
		Radius        = 80.0
		DelayTime     = 0
		DamageType    = FORCE
		DeathType     = EXTRA_2
		DamageScalar  = 10000% NONE +MACHINE	; Affect these...
		DamageScalar  = 0% ALL -MACHINE			; ...and nothing else
	End
End

;------------------------------------------------------------------------------
Weapon SiegeLadderDeath  ; BALANCE Sige ladder death killing units under it
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 150
    Radius        = 24.0
    DelayTime     = 0
    DamageType    = FORCE
    DeathType     = NORMAL
  End
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 24.0
    ShockWaveTaperOff = 0.5
  End
End

;------------------------------------------------------------------------------
Weapon SmallFireFieldWeapon
  DelayBetweenShots           = 250                ; time between shots, msec
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 24.0
    DelayTime     = 0
    DamageType    = FLAME
    DamageFXType  = FLAME
    DeathType     = BURNED
  End
End

;------------------------------------------------------------------------------
Weapon CorsairSword
	LeechRangeWeapon      = Yes
	AttackRange           = STANDARD_MELEE_ATTACK_RANGE
	MeleeWeapon           = Yes
	DelayBetweenShots     = GONDOR_SOLDIER_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
	PreAttackDelay        = GONDOR_SOLDIER_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	FireFX                = FX_GondorSwordHit
	FireFlankFX			= FX_Flanking
	FiringDuration        = GONDOR_SOLDIER_SWORD_FIRINGDURATION    ; Duration of the sword swing

	DamageNugget                        ; A basic Nugget that just does damage
		Damage					= GONDOR_SOLDIER_SWORD
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= SLASH
		DamageFXType			= SWORD_SLASH
		DeathType				= NORMAL
		FlankingBonus			= 50%
		ForbiddenUpgradeNames	= Upgrade_MordorForgedBlades Upgrade_WildForgedBlades ;// Corsair used by both Mordor and Wild
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        			= GONDOR_SOLDIER_SWORD_UPGRADE
		Radius        			= 0.0
		DelayTime     			= 0
		DamageType    			= SLASH
		DamageFXType  			= SWORD_SLASH
		DeathType     			= NORMAL
		FlankingBonus 			= 50%
		RequiredUpgradeNames	= Upgrade_MordorForgedBlades
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        			= GONDOR_SOLDIER_SWORD_UPGRADE
		Radius        			= 0.0
		DelayTime     			= 0
		DamageType    			= SLASH
		DamageFXType  			= SWORD_SLASH
		DeathType     			= NORMAL
		FlankingBonus 			= 50%
		RequiredUpgradeNames	= Upgrade_WildForgedBlades
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBomb
	AttackRange			= MORDOR_CORSAIR_FIRE_BOMB_RANGE			; Horde member so it needs to be bigger than the horde weapon attack range.
	WeaponSpeed			= 100										; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FirebombThrow
	HitPercentage		= MORDOR_CORSAIR_FIRE_BOMB_HIT_PERCENTAGE	; When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= MORDOR_CORSAIR_FIRE_BOMB_SCATTER_RADIUS	; When this weapon misses it can randomly miss by as much as this distance.
	;NoVictimNeeded		= Yes

	OverrideVoiceAttackSound = CorsairVoiceAttackFirebomb
	OverrideVoiceEnterStateAttackSound = CorsairVoiceEnterStateAttackFirebomb

	AcceptableAimDelta		= 20									; prevent twitchy reaiming in horde on horde
	DelayBetweenShots		= 0
	PreAttackDelay			= MORDOR_CORSAIR_FIRE_BOMB_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	FiringDuration			= MORDOR_CORSAIR_FIRE_BOMB_FIRING_DURATION
	PreAttackRandomAmount	= MORDOR_CORSAIR_FIRE_BOMB_RANDOM_PREATTACK

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectile
		WarheadTemplateName     = CorsairFireBombWarhead
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBombBombard
	AttackRange			= MORDOR_CORSAIR_FIRE_BOMB_RANGE			; Horde member so it needs to be bigger than the horde weapon attack range.
	MinimumAttackRange	= MORDOR_CORSAIR_FIRE_BOMB_MIN_RANGE
	WeaponSpeed			= 100										; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 100										; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_FirebombThrow
	AcceptableAimDelta	= 20										; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay		= MORDOR_CORSAIR_FIRE_BOMB_PREATTACKDELAY
	PreAttackType		= PER_SHOT
	FiringDuration		= MORDOR_CORSAIR_FIRE_BOMB_FIRING_DURATION
	PreAttackRandomAmount	= MORDOR_CORSAIR_FIRE_BOMB_RANDOM_PREATTACK

	HitPercentage		= 0											; Always scatter
	ScatterRadius		= ARCHER_BOMBARD_SCATTER_RADIUS
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ClipSize			= INFINITE_CLIP_SIZE
	AutoReloadsClip		= Yes
	
	ProjectileNugget
		ProjectileTemplateName  = CorsairFireBombProjectile
		WarheadTemplateName     = CorsairFireBombWarhead
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBombWarhead
	FireFX		      		= FX_ImpactCorsairFireBomb
	ProjectileCollidesWith	= ENEMIES
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR 

	DamageNugget
		Damage			= MORDOR_CORSAIR_FIRE_BOMB_DAMAGE
		Radius			= MORDOR_CORSAIR_FIRE_BOMB_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
		DamageScalar	= 200% NONE +STRUCTURE		; more damage to buildings.
		DamageScalar	= 50000% NONE +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
	End
	
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 5
		Damage			= 20
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 5; 25
		Damage			= 4 ;30
		MinMaxBurnRate		= 20
		MinDecay		= 25
		MaxResistance		= 0
	End	

End

;------------------------------------------------------------------------------
Weapon CorsairFireBombMissileHordeRangefinder
	AttackRange				= MORDOR_CORSAIR_HORDE_FIRE_BOMB_RANGE
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon CorsairFireBombMissileHordeRangefinderBombard
	AttackRange				= MORDOR_CORSAIR_HORDE_FIRE_BOMB_RANGE
	MinimumAttackRange		= MORDOR_CORSAIR_HORDE_FIRE_BOMB_MIN_RANGE
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes	
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon ThrallMasterClub     ; BALANCE Orc Warrior Weapon ;Orc Fighter
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = MORDOR_FIGHTER_DELAYBETWEENSHOTS            ; time between shots, msec
  PreAttackDelay        = ANGMAR_THRALL_MASTER_PREATTACKDELAY             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FiringDuration        = ANGMAR_THRALL_MASTER_FIRINGDURATION    ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = MORDOR_FIGHTER_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
Weapon BalrogSummoning	;used in the OCL that makes a Balrog.
  ;FireFX                = FX_GondorSwordHit
  RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
  AttackRange           = 4.0

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_SUMMONING_DAMAGE
    Radius        = 200.0
    DamageType    = MAGIC
    DamageFXType  = FLAME
    DeathType     = BURNED
    DamageScalar  = 0% NONE +MordorBalrog
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	KillObjectFilter  = INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
    ShockWaveAmount   = 100
    ShockWaveRadius   = 200.0
    ShockWaveTaperOff = 0.9
    ShockWaveZMult    = 1.20
  End
End

;------------------------------------------------------------------------------
Weapon ShadeWolfSummoning	;used in the OCL that makes a Balrog.
  ;FireFX                = FX_GondorSwordHit
  RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
  AttackRange           = 4.0
  PreAttackDelay        = 500             ; 300 is mace swing delay time before contact with target.

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_SUMMONING_DAMAGE
    Radius        = 200.0
    DamageType    = MAGIC
    DamageFXType  = FLAME
    DeathType     = BURNED
    DamageScalar  = 0% NONE +MordorBalrog
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	KillObjectFilter  = INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
    ShockWaveAmount   = 100
    ShockWaveRadius   = 200.0
    ShockWaveTaperOff = 0.9
    ShockWaveZMult    = 1.20
  End
End

//------------------------------------------------------------------------------
Weapon CitadelSummoning	//used in the OCL that makes the Dwarven Summoned Citadel.
	//FireFX                = FX_GondorSwordHit
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	AttackRange				= 4.0

	// A basic Nugget that just does damage
	DamageNugget                        
		Damage        = DWARVEN_SUMMONED_CITADEL_SUMMONING_DAMAGE
		Radius        = SPAWN_CITADEL_DECAL_RADIUS
		DelayTime     = 667
		DamageType    = MAGIC		
		DeathType     = NORMAL
		DamageScalar  = 0% NONE +DwarvenSummonedCitadel +DwarvenSummonedCitadelKeep 
	End
  
	// A Nugget that throws things back with force
	MetaImpactNugget                    
		KillObjectFilter			= INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount				= 100
		ShockWaveRadius				= SPAWN_CITADEL_DECAL_RADIUS
		ShockWaveTaperOff			= 0.9
		ShockWaveZMult				= 1.20
		DelayTime					= 667
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.75
		ShockWaveClearFlingHeight	= 75
	End
End

;------------------------------------------------------------------------------
Weapon WatcherSummoning									; used in the OCL that makes a watcher.
	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange           = 4.0

	DamageNugget									; A basic Nugget that just does damage
		Damage			= BALROG_SUMMONING_DAMAGE
		Radius			= 75.0
		DelayTime		= 667
		DamageType		= CRUSH
		DeathType		= CRUSHED
	End

	MetaImpactNugget								; A Nugget that throws things back with force
		KillObjectFilter	= INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount		= 100
		ShockWaveRadius		= 85.0
		DelayTime			= 667
		ShockWaveClearRadius = Yes
		ShockWaveClearMult	= 0.75
		ShockWaveClearFlingHeight = 75
	End
End

;------------------------------------------------------------------------------
Weapon ArmyOfTheDeadSummoning	;used in the OCL that makes a Balrog.
  RadiusDamageAffects	= ENEMIES NOT_SIMILAR
  AttackRange           = 4.0

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1000 ;300
    Radius        = 200.0
    DelayTime     = 667
    DamageType    = FLAME
    DamageFXType  = FLAME
    DeathType     = BURNED
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 70 ;70.0
    ShockWaveRadius   = 200.0
    ShockWaveTaperOff = 0.9
    ShockWaveZMult    = 1.20
    DelayTime         = 667
  End
End

;------------------------------------------------------------------------------
Weapon SummonedDragonDeathCrush  ; Used when the SummonedDragon crush enemies when it dies.
	LeechRangeWeapon      = Yes
	AttackRange           = 9999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0							; time between shots, msec
	PreAttackDelay        = 0
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0

	DamageNugget										; A basic Nugget that just does damage
		Damage        = SUMMONED_DRAGON_CRUSH_DAMAGE
		Radius        = 75.0
		DamageType    = CRUSH
		DeathType     = CRUSHED
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount		= 70
		ShockWaveRadius		= 100.0
		ShockWaveTaperOff	= 0.9
		ShockWaveZMult		= 1.20
	End
End

;------------------------------------------------------------------------------
Weapon SummonedDragonFireBreath
	IdleAfterFiringDelay		= 0
	AttackRange					= #MULTIPLY( SUMMONED_DRAGON_FLAME_RADIUS 0.25 )
	WeaponSpeed					= 401												; dist/sec 
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= 5000												; time between shots, msec
	PreAttackDelay				= 2000
	PreAttackType				= PER_SHOT
	;FireFX						= FX_DragonFireBreath
	FiringDuration				= 3000
	;DamageDealtAtSelfPosition	= Yes 
	MeleeWeapon					= Yes

	DamageNugget                        ; The large 90 degree arc
		Damage			= #MULTIPLY( SUMMONED_DRAGON_FLAME_DAMAGE 0.5 )
		Radius			= SUMMONED_DRAGON_FLAME_RADIUS
		DelayTime		= 1000
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
	End
	
	DamageNugget						; The small area directly in front.
		Damage			= #MULTIPLY( SUMMONED_DRAGON_FLAME_DAMAGE 0.5 )
		Radius			= #MULTIPLY( SUMMONED_DRAGON_FLAME_RADIUS 0.25 )
		DelayTime		= 1000
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
	End

	DamageNugget
		Damage			= SUMMONED_DRAGON_FLAME_DAMAGE
		Radius			= SUMMONED_DRAGON_FLAME_RADIUS
		DelayTime		= 1000
		DamageType		= MAGIC
		DamageArc		= 90
		DamageMaxHeight = 50 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
	End

	;FireLogicNugget
	;	LogicType		= INCREASE_FUEL
	;	Radius			= SUMMONED_DRAGON_FLAME_FUELINCREASE_RADIUS
	;	Damage			= SUMMONED_DRAGON_FLAME_FUELINCREASE_AMOUNT
	;	MinMaxBurnRate	= SUMMONED_DRAGON_FLAME_FUELINCREASE_MINMAXBURNRATE
	;	MaxResistance	= SUMMONED_DRAGON_FLAME_FUELINCREASE_RESISTANCE
	;End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= SUMMONED_DRAGON_FLAME_INCREASEBURNRATE_RADIUS
		Damage			= SUMMONED_DRAGON_FLAME_INCREASEBURNRATE_AMOUNT
	End

End

;------------------------------------------------------------------------------
Weapon SummonedDragonTailSwipe
  LeechRangeWeapon      = Yes
  RadiusDamageAffects   = ENEMIES  
  AttackRange           = 100
  FireFX                = FX_TrollClubHit
  ClipSize              = INFINITE_CLIP_SIZE               ; how many shots in a Clip (0 == infinite)
  AutoReloadsClip		= No	;We need a rock explicitly picked up.
  DelayBetweenShots     = 5000            ; time between shots, msec
  FiringDuration        = 3000
  PreAttackDelay        = 1000
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackFX           = FX_TrollTreeSwing
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them
  AcceptableAimDelta	= 180.0  ; Don't ever turn to use

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 200
    DamageScalar	= 200% NONE +HERO
    Radius        = 110.0  ;matches impact nugget so it throws them back and hurts them
    DamageArc      = 90
    DamageArcInverted = Yes	;Affects behind, not in front
    DamageType    = SIEGE
    DamageFXType  = CLUBBING
    DeathType     = NORMAL
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 110.0
    ShockWaveTaperOff = 0.75
    ShockWaveArc      = 90
    ShockWaveArcInverted = Yes	;Affects behind, not in front
    ShockWaveZMult    = 1.20
 ;   HeroResist		  = 0.90		; 90% resistance to heroes
  End
End

;------------------------------------------------------------------------------
Weapon SummonDragonAppear
	RadiusDamageAffects   = ENEMIES ALLIES

	DamageNugget
		Damage			= SUMMONED_DRAGON_CRUSH_DAMAGE
		Radius			= 75.0
		DamageType		= CRUSH
		DeathType		= CRUSHED
	End

	MetaImpactNugget
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 55.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.20
	End
End

;------------------------------------------------------------------------------
Weapon SummonDragonBlowBack
	RadiusDamageAffects   = ENEMIES ALLIES

	DamageNugget
		Damage			= SUMMONED_DRAGON_CRUSH_DAMAGE
		Radius			= 75.0
		DelayTime		= 1800
		DamageType		= CRUSH
		DeathType		= CRUSHED
	End

	MetaImpactNugget
		DelayTime		  = 1800
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 55.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.20
	End
End

;------------------------------------------------------------------------------


Weapon WaveCrushEffect     ; BALANCE Wave Crush Weapon
  LeechRangeWeapon      = No
  RadiusDamageAffects   = ENEMIES NEUTRALS
  AttackRange           = 100.0
  MeleeWeapon           = No
  DelayBetweenShots     = 250            ; time between shots, msec
  PreAttackDelay        = 125             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FiringDuration        = 125    ; Duration of the mace swing 

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 9999.0
    Radius        = 100.0
    DelayTime     = 0
    DamageType    = CRUSH
	DeathType		= CRUSHED
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
    ShockWaveAmount   = 50.0
    ShockWaveRadius   = 100.0
    ShockWaveTaperOff = 1.0
  End
End


;------------------------------------------------------------------------------
Weapon DrogothFireball
	LeechRangeWeapon			= Yes
	AttackRange               = DROGOTH_FIREBALL_RANGE		; set this in his special power
	WeaponSpeed               = 150         ; dist/sec 
	MinWeaponSpeed            = 100
	MaxWeaponSpeed            = 200      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed          = Yes      ; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100      ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = 5000     ; time between shots, msec
	PreAttackDelay            = 1     ; 1467 is the prep time for archer.
	PreAttackRandomAmount     = 0      ; amount of additional preattack variance for archer type attacks only  
	PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = 1     ; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AcceptableAimDelta		= 15
	AntiAirborneVehicle       = Yes
	AntiAirborneMonster		= Yes
	FireFX					= FX_DrogothFireball_01
	DamageType				= FLAME

	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = DrogothFireballProjectile
		WarheadTemplateName     = DrogothFireballWarhead
	End
End

;----------------------------
Weapon DrogothFireballWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES ; ALLIES
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	10
	End	

	DamageNugget                        ; A basic Nugget that just does damage
         Damage        = DROGOTH_FIREBALL_DAMAGE
         Radius        = DROGOTH_FIREBALL_RADIUS
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
         DamageScalar  =  150% NONE +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir
         DamageScalar  = 5000% NONE +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
	End

	DamageNugget                        ; to make the fireball more mighty against enemy heroes
	    Damage        = 50	
	    Radius        = DROGOTH_FIREBALL_RADIUS
	    DelayTime     = 0
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
		DamageScalar  = 500% NONE +HERO -MordorFellBeast -MordorWitchKingOnFellBeast -GondorGwaihir
	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = DROGOTH_FIREBALL_DAMAGE_SIEGE	
	    Radius        = DROGOTH_FIREBALL_RADIUS
	    DelayTime     = 0
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
		DamageScalar  = 300% NONE +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir
	End

	MetaImpactNugget                         ; A Nugget that throws things back with force
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = DROGOTH_FIREBALL_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

;------------------------------------------------------------------------------
Weapon DrogothIncinerate
	IdleAfterFiringDelay		= 0
	AttackRange					= DROGOTH_INCINERATE_RANGE
	WeaponSpeed					= 401							; dist/sec 
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= 5000							; time between shots, msec
	PreAttackDelay				= 2600
	PreAttackType				= PER_ATTACK					; Do the delay each time we attack a new target
	PreAttackFX					= FX_DrogothPreAttackBlast		;FX_GandalfPreAttackBlast	;is this even getting triggered?
	;FireFX						= FX_DrogothIncinerate			;too much delay
	FiringDuration				= 1400
;	DamageDealtAtSelfPosition	= Yes

	DamageNugget												; A basic Nugget that just does damage
		Damage			= DROGOTH_INCINERATE_DAMAGE
		Radius			= DROGOTH_INCINERATE_RADIUS
		DelayTime		= 500
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageArc		= DROGOTH_INCINERATE_ARC
		DamageMaxHeight = 50									; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
	End
	
	DamageNugget												; A basic Nugget that just does damage
		Damage			= DROGOTH_INCINERATE_CENTRE_DAMAGE
		Radius			= DROGOTH_INCINERATE_CENTRE_RADIUS
		DelayTime		= 250
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50									; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
	End

End

;------------------------------------------------------------------------------
Weapon DrogothWingBlast
	IdleAfterFiringDelay		= 0
	AttackRange					= 60.0
	WeaponSpeed					= 100         ; dist/sec 
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= 1000               ; time between shots, msec
	PreAttackDelay				= 0
	PreAttackType				= PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX					= FX_GandalfPreAttackBlast
	;FireFX						=
	FiringDuration				= 500
	DamageDealtAtSelfPosition	= Yes 

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= DROGOTH_WING_FLAP_DAMAGE_SMALL
		Radius			= DROGOTH_WING_FLAP_RADIUS_SMALL
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= FLAME
		DeathType		= NORMAL
		AcceptDamageAdd	= No			; No extra damage when going up levels, otherwise we'll just kill the victims outright.
		DamageScalar	= 0% ALL ALLIES	; only meta impact for allied units
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= DROGOTH_WING_FLAP_DAMAGE_LARGE
		Radius			= DROGOTH_WING_FLAP_RADIUS_LARGE
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= FLAME
		DeathType		= NORMAL
		AcceptDamageAdd	= No			; No extra damage when going up levels, otherwise we'll just kill the victims outright.
		DamageScalar	= 0% ALL ALLIES	; only meta impact for allied units
	End

	; Fan the flames...
	FireLogicNugget
		LogicType		= INCREASE_FUEL_ON_EXISTING_FIRE
		Radius			= DROGOTH_WING_FLAP_RADIUS_SMALL
		Damage			= 40
		MinMaxBurnRate	= 20
		MaxResistance	= 5
	End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE_ON_EXISTING_FIRE
		Radius			= DROGOTH_WING_FLAP_DAMAGE_LARGE
		Damage			= 20
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= DROGOTH_WING_FLAP_SHOCK_AMOUNT_SMALL
		ShockWaveRadius		= DROGOTH_WING_FLAP_SHOCK_RADIUS_SMALL
		ShockWaveTaperOff	= 0.5
		ShockWaveZMult		= 1.5
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= DROGOTH_WING_FLAP_SHOCK_AMOUNT_LARGE
		
		ShockWaveRadius		= DROGOTH_WING_FLAP_SHOCK_RADIUS_LARGE
		ShockWaveTaperOff	= 0.5
		ShockWaveZMult		= 1.2
	End
  
End

;------------------------------------------------------------------------------
Weapon DrogothFireflight
	LeechRangeWeapon			= Yes
	AttackRange               = DROGOTH_FIREFLIGHT_RANGE		; set this in his special power too
	WeaponSpeed               = 150         ; dist/sec 
	MinWeaponSpeed            = 100
	MaxWeaponSpeed            = 200			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed          = Yes			; Used for lob weapons, scales speed proportional to range
	HitPercentage             = 100			;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius             = 0.0			;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots         = 5000		; time between shots, msec
	PreAttackDelay            = 2600			; 1467 is the prep time for archer.
	PreAttackRandomAmount     = 0			; amount of additional preattack variance for archer type attacks only  
	PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
	FiringDuration            = 1			; Duration of the archer firing shot is 500ms.
	IsAimingWeapon            = Yes
	AcceptableAimDelta		= 15
	AntiAirborneVehicle       = Yes
	AntiAirborneMonster		= Yes
	FireFX				= FX_DrogothFireFlight
	DamageType				= FLAME

	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = DrogothFireflightProjectile
		WarheadTemplateName     = DrogothFireflightWarhead
	End
End

;------------------------------------------------------------------------------
Weapon DrogothFireflightWarhead
	ProjectileCollidesWith	= ENEMIES NEUTRAL STRUCTURES WALLS
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR MINES
	
	DamageNugget                        ; A basic Nugget that just does damage
         Damage        = DROGOTH_FIREFLIGHT_DAMAGE
         Radius        = DROGOTH_FIREFLIGHT_RADIUS
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
	End

	DamageNugget                        ; A basic Nugget that just does damage
         Damage        = DROGOTH_FIREFLIGHT_DAMAGE
         Radius        = DROGOTH_FIREFLIGHT_RADIUS
         DelayTime     = 0
         DamageType    = HERO
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
	End


	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= DROGOTH_FIREFLIGHT_RADIUS
		DelayTime		= 0
		;Damage			= 100
		MinMaxBurnRate	= 10
		MaxResistance	= 5
	End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= DROGOTH_FIREFLIGHT_RADIUS
		DelayTime		= 0
		Damage			= 10
	End	


	MetaImpactNugget                         ; A Nugget that throws things back with force
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = DROGOTH_FIREFLIGHT_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End

End

;-----------------------------------
Weapon WhirlwindWindWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS 
  
  	DelayBetweenShots			= 0			; time between shots, msec
	ClipSize               		= 0			;4	; how many shots in a Clip (0 == infinite)
  
	//////////FireFX				= FX_GimliLeap // CHANGE
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WHIRLWIND_DAMAGE_INNER
		Radius        = 20.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% NONE +STRUCTURE
		CylinderAOE   = Yes
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = WHIRLWIND_DAMAGE_OUTER
		Radius        = 50.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% NONE +STRUCTURE
		CylinderAOE   = Yes
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		KillObjectFilter  = INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount   = WHIRLWIND_METASHOCKWAVE_AMOUNT
		ShockWaveRadius   = WHIRLWIND_METASHOCKWAVE_RADIUS
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 1.6  
		InvertShockWave   = Yes		// makes it "suck"
		
		CyclonicFactor	  = 0.66
	End

End

;-----------------------------------
Weapon TornadoWindWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS 
  
  	DelayBetweenShots			= 0			; time between shots, msec
	ClipSize               		= 0			;4	; how many shots in a Clip (0 == infinite)
  
	//////////FireFX				= FX_GimliLeap // CHANGE
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = TORNADO_DAMAGE_INNER
		Radius        = 20.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% NONE +STRUCTURE
		CylinderAOE   = Yes
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = TORNADO_DAMAGE_OUTER
		Radius        = 50.0
		DelayTime     = 0
		DamageType            = HERO
		DamageFXType          = TORNADO	;GIMLI_LEAP
		DeathType             = NORMAL
		DamageScalar  = 35% NONE +STRUCTURE
		CylinderAOE   = Yes
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		KillObjectFilter  = INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount   = TORNADO_METASHOCKWAVE_AMOUNT
		ShockWaveRadius   = TORNADO_METASHOCKWAVE_RADIUS
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 1.6  
		InvertShockWave   = Yes		// makes it "suck"
		
		CyclonicFactor	  = 0.66
	End

End

;-----------------------------------
Weapon WhirlpoolWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
  	DelayBetweenShots	= 0
	ClipSize			= INFINITE_CLIP_SIZE
	;FireFX				= FX_GoodShipWhirlpoolAttack					; fires multiple times

	DamageNugget														; A basic Nugget that just does damage
		Damage		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_AMOUNT_01
		Radius		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_RADIUS_01
		DelayTime	= 300	
		DamageType	= FORCE
		DeathType	= NORMAL
	End
	DamageNugget
		Damage		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_AMOUNT_02
		Radius		= GOOD_FIRE_SHIP_WHIRLPOOL_DAMAGE_RADIUS_02
		DelayTime	= 300
		DamageType	= FORCE
		DeathType	= NORMAL
	End

	MetaImpactNugget													; A Nugget that sucks things in with force
		ShockWaveAmount		= 99.0
		ShockWaveRadius		= GOOD_FIRE_SHIP_WHIRLPOOL_RADIUS
		ShockWaveTaperOff	= 1.0 
		ShockWaveZMult		= 0.0
		InvertShockWave		= Yes										// makes it "suck"
		CyclonicFactor		= .66
	End

End


;------------------------------------------------------------------------------
Weapon MenFortressBoilingOilWeapon 
	IdleAfterFiringDelay = 0
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	;PreAttackFX           = FX_GandalfPreAttackBlast
	;FireFX                = FX_GandalfBlast
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 600
		Radius			= 250.0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
	End
End

;------------------------------------------------------------------------------
Weapon RingHeroDeathShockwave		; Big Blue Ring Blast
	IdleAfterFiringDelay	= 0
	AttackRange				= 120
	MinimumAttackRange		= 0.8
	WeaponSpeed				= 401							; dist/sec 
	MinWeaponSpeed			= 241
	MaxWeaponSpeed			= 601							; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed		= Yes							; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects		= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots		= 5000							; time between shots, msec
	PreAttackDelay			= 2600
	PreAttackType			= PER_ATTACK					; Do the delay each time we attack a new target
	PreAttackFX				= FX_RingHeroPreAttackBlast
	FireFX					= FX_RingHeroBlast
	FiringDuration			= 1400
	
	DamageNugget											; A basic Nugget that just does damage
		Damage			= SAURON_DEATH_EXPLOSION_DAMAGE
		Radius			= 250.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0								; must match the ShockWaveSpeed below
	    DamageScalar	= 0% ALL ALLIES						; only meta impact affects allied units.
	End

	MetaImpactNugget										; A Nugget that throws things back with force
		ShockWaveAmount		= 70.0
		ShockWaveRadius		= 500.0
		ShockWaveTaperOff	= 1.0
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 700.0 
	End
End

;------------------------------------------------------------------------------
Weapon EagleGrabAttack 
	AttackRange          		= 20.0
	FireFX            		= FX_EagleGrab  
	DelayBetweenShots     		= 30            ; time between shots, msec
	FiringDuration        		= 30
	MeleeWeapon			= Yes
	CanSwoop			= Yes
	ChaseWeapon			= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        		; A basic Nugget that just does damage
		Damage        		= 240
		Radius        		= 50 ;0.8
		DamageScalar		= 0%	ANY +HERO +PORTER  +DwarvenZerker +DwarvenZerkerHorde +NoldorWarrior +NoldorWarriorHorde +GondorKnightsofDol +GondorKnightsofDolHorde +WildBabyDrake +WildBabyDrakeHorde +MordorBlackRider +MordorBlackRiderHorde +IsengardFanatic +IsengardBerserkerHorde 
;;No grabbing the heroes (Who won't fit in the container anyway.)
;;This is a hack because canWeaponAffect doesn't check that the weapon is a grabbing weapon and the unit isn't grabbable.
;;-CB (only an intern, I just does what I's told)
		DelayTime     		= 0
		DamageType    		= HERO
		DamageFXType  		= CLUBBING
		DeathType     		= NORMAL
	End
	
	GrabNugget                    			; A Nugget that makes me grab you
		SpecialObjectFilter		= ANY +GRAB_AND_DROP   -DwarvenZerker -DwarvenZerkerHorde -NoldorWarrior -NoldorWarriorHorde -GondorKnightsofDol -GondorKnightsofDolHorde -WildBabyDrake -WildBabyDrakeHorde -MordorBlackRider -MordorBlackRiderHorde -IsengardFanatic -IsengardBerserkerHorde 
		ContainTargetOnEffect   = Yes
		ImpactTargetOnEffect	= Yes ;... if for some reason, I can not contain you, I'll try to give you a shove
		ShockWaveAmount   	= 50.0
		ShockWaveRadius   	= 16.0
		ShockWaveTaperOff 	= 0.75
		ShockWaveZMult    	= 1.1
	End
End

;------------------------------------------------------------------------------
Weapon EaglePlowAttack  
    RadiusDamageAffects = ENEMIES ALLIES NOT_SIMILAR
	AttackRange				= 24.0
	AcceptableAimDelta			= 5			; Just needs to sort of face in the general direction.
	DelayBetweenShots			= 4000			; time between shots, msec
	;;;FireFX				= FX_TrollTreeHit
	FireFX					= FX_BuildingHitByFlyer

	AntiAirborneVehicle			= Yes			;allows attack of flying units
	AntiAirborneMonster			= Yes			;no... THIS allows attack of flying units because somebody was a funny man.
	AntiAirborneInfantry			= Yes	  
	MeleeWeapon				= No
	CanSwoop				= Yes
	ChaseWeapon				= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.

	DamageNugget                        				; A basic Nugget that just does damage
		Damage				= EAGLE_PLOW_DAMAGE_OUTER
		Radius				= 30.0
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType			= CLUBBING
		DeathType			= NORMAL
	End
	DamageNugget                    		    		; A basic Nugget that just does damage
		Damage				= EAGLE_FLY_INTO_DAMAGE 
		Radius				= 30.0
		DelayTime			= 1
		DamageType			= FLY_INTO
		DamageFXType			= CLUBBING
		DeathType			= NORMAL
	End
	DamageNugget                        				; A basic Nugget that just does damage
		Damage				= EAGLE_PLOW_DAMAGE_INNER
		Radius				= 30.0
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType			= CLUBBING
		DeathType			= NORMAL
	End
	MetaImpactNugget        				        ; A Nugget that throws things back with force
;		HeroResist			= 50.0			
		ShockWaveAmount   		= 60.0
		ShockWaveRadius   		= 48.0
		ShockWaveTaperOff 		= 0.5
	End
End

;------------------------------------------------------------------------------
Weapon EagleClawAttack 
	AttackRange				= 20.0
	AcceptableAimDelta			= 5			; Just needs to sort of face in the general direction.
	DelayBetweenShots			= 250			; time between shots, msec
	ClipSize               			= 2			;4	; how many shots in a Clip (0 == infinite)
	ClipReloadTime         			= 2000
	AutoReloadsClip		    		= Yes	
	FireFX					= FX_EagleClawAttack
	AntiAirborneVehicle			= Yes			;allows attack of flying units
	AntiAirborneInfantry			= Yes	  
	AntiAirborneMonster			= Yes
	MeleeWeapon				= Yes
	CanSwoop				= Yes
	ChaseWeapon			= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.
	PreferredTargetBone = B_HEAD

	DamageNugget							; A basic Nugget that just does damage
		Damage				= EAGLE_CLAW_DAMAGE
    		DamageScalar  			= 1000% NONE +MACHINE 
    		DamageScalar   			= 250% NONE +MordorMumakil
    		DamageScalar			= 30% NONE +HERO	; Added for RotWK Balance Patch
		Radius				= 10.0
		DelayTime     			= 1		
		DamageType			= SIEGE
		DamageFXType			= CLUBBING
		DeathType			= NORMAL
	End
End

;------------------------------------------------------------------------------
; Basically the same as the EagleClawAttack but with a different FX
Weapon EagleClawWyrmAttack
	AttackRange				= 20.0
	AcceptableAimDelta		= 5							; Just needs to sort of face in the general direction.
	DelayBetweenShots		= 250						; time between shots, msec
	ClipSize               	= 2							; how many shots in a Clip (0 == infinite)
	ClipReloadTime         	= 2000
	AutoReloadsClip		    = Yes
	FireFX					= FX_GwaihirVsWyrm
	AntiAirborneVehicle		= Yes						; allows attack of flying units
	AntiAirborneInfantry	= Yes
	AntiAirborneMonster		= Yes
	MeleeWeapon				= Yes
	CanSwoop				= Yes
	ChaseWeapon				= Yes						; Not full melee, but we get to move to attack a passive acquire, even if player owned.
	PreferredTargetBone		= B_HEAD

	DamageNugget										; A basic Nugget that just does damage
		Damage				= EAGLE_CLAW_DAMAGE
    	DamageScalar		= 1000% NONE +MACHINE 
		Radius				= 10.0
		DelayTime     		= 1
		DamageType			= SIEGE
		DamageFXType		= CLUBBING
		DeathType			= NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon NormalMeleeHordeRangefinder
	AttackRange			= 12.0
	DelayBetweenShots	= 1000 ; one second.
	AcceptableAimDelta	= 45
	MeleeWeapon			= Yes
	FinishAttackOnceStarted = No
	
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon TowerGuardHordeRangefinder
	AttackRange			= 36
	DelayBetweenShots	= 1000 ; one second.
	AcceptableAimDelta	= 45
	MeleeWeapon			= Yes
	FinishAttackOnceStarted = No
	
	HordeAttackNugget
	End
End


;------------------------------------------------------------------------------
Weapon EasterlingPorcupineDamage
	AttackRange				= 5.0
	FireFX					= FX_HaradrimSpearThrow

	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 0
		Radius				= 5
		DelayTime			= 10
		DamageType			= PIERCE
		DamageFXType		= SWORD_SLASH
		DeathType			= NORMAL
	End
End

Weapon EasterlingPorcupineCrushDamage
	AttackRange				= 100.0
	
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 100
		DelayTime			= 0
		DamageType			= PIERCE
		DamageFXType		= SWORD_SLASH
		DeathType			= NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon PikemenPorcupineDamage
	AttackRange				= 25.0

	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 0
		Radius				= 5
		DelayTime			= 10
		DamageType			= SPECIALIST
		DamageFXType			= SWORD_SLASH
		DeathType			= NORMAL
	End
End

Weapon PikemenPorcupineCrushDamage
	 RadiusDamageAffects = ENEMIES 
	AttackRange				= 10.0
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= URUK_PIKE_PORCUPINE_DAMAGE
		;Radius				= 30
		DelayTime			= 0
		DamageType			= SPECIALIST
		DamageFXType			= SWORD_SLASH
		DeathType			= NORMAL
	End
End
	
	
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;
;  Temp and Testing
;
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
Weapon HobbitMissileHordeRangefinder
	AttackRange			= #SUBTRACT( HOBBIT_ROCK_RANGE 30 ) 
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( HOBBIT_ROCK_RANGE .003 )
	
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon NormalMissileHordeRangefinder
	AttackRange			= #SUBTRACT( DWARVEN_MENOFDALE_RANGE 100 ) 
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( DWARVEN_MENOFDALE_RANGE .003 )
	
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon NormalMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( DWARVEN_MENOFDALE_BOMBARD_MAXRANGE 100 ) 
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( DWARVEN_MENOFDALE_BOMBARD_MAXRANGE .003 )
	
	MinimumAttackRange		= DWARVEN_MENOFDALE_BOMBARD_MINRANGE
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon GoblinArcherMissileHordeRangefinder
	AttackRange			= #SUBTRACT( GOBLIN_ARCHER_RANGE 100 )   ; Slightly shorter than the archer's actual weapon
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( GOBLIN_ARCHER_RANGE .003 )
	
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End

Weapon GoblinArcherMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( GOBLIN_ARCHER_BOMBARD_MAXRANGE 100 ) 
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( GOBLIN_ARCHER_BOMBARD_MAXRANGE .003 )
	
	MinimumAttackRange		= GOBLIN_ARCHER_BOMBARD_MINRANGE
	DelayBetweenShots		= 1000 ;1500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes
	BombardType				= Yes	
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End


;Weapon BadArcherMissileHordeRangefinder
;	AttackRange			= 190.0 ; Slightly shorter than the archer's actual weapon
;	DelayBetweenShots		= 1000
;	LeechRangeWeapon		= Yes
;	AcceptableAimDelta		= 45
;	AntiAirborneVehicle		= Yes
;	AntiAirborneMonster		= Yes
;	FinishAttackOnceStarted = No
;	HordeAttackNugget
;	End
;End

Weapon GoodArcherMissileHordeRangefinder
	AttackRange			= #SUBTRACT( GONDOR_ARCHER_RANGE 100 )
	
	RangeBonusMinHeight      = 30 ;		= 10
	RangeBonus			= 1
	RangeBonusPerFoot		= #MULTIPLY( GONDOR_ARCHER_RANGE .003 ) ; attempting to match the % vision increase on the units vision range. 
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted 	= No
	HordeAttackNugget
	End
End

Weapon GoodArcherMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( GONDOR_ARCHER_BOMBARD_MAXRANGE 100 ) 
	MinimumAttackRange		= GONDOR_ARCHER_BOMBARD_MINRANGE
	
	RangeBonusMinHeight      = 30 ;		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= #MULTIPLY( GONDOR_ARCHER_BOMBARD_MAXRANGE .003 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes ; For use with Bombard
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon GondorRangerMissileHordeRangefinder
	AttackRange			= #SUBTRACT( GONDOR_RANGER_RANGE 100 )
	
	RangeBonusMinHeight      = 30 ;		= 10
	RangeBonus			= 1
	RangeBonusPerFoot		= #MULTIPLY( GONDOR_RANGER_RANGE .003 ) ; attempting to match the % vision increase on the units vision range. 
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted 	= No
	HordeAttackNugget
	End
End

Weapon GondorRangerMissileHordeRangefinderBombard
	AttackRange				= #SUBTRACT( GONDOR_RANGER_BOMBARD_MAXRANGE 100 ) 
	MinimumAttackRange		= GONDOR_RANGER_BOMBARD_MINRANGE
	
	RangeBonusMinHeight      = 30 ;		= 10
	RangeBonus				= 1
	RangeBonusPerFoot		= #MULTIPLY( GONDOR_RANGER_BOMBARD_MAXRANGE .003 )
	
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	NoVictimNeeded			= Yes ; For use with Bombard
	BombardType				= Yes
	ScatterRadius			= ARCHER_BOMBARD_SCATTER_RADIUS		; Only used for cursor radius
	HordeAttackNugget
	End
End

Weapon MovingArcherMissileHordeRangefinder
	AttackRange			= 250.0 ; Slightly shorter than the archer's actual weapon
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	CanFireWhileMoving	    = Yes
	HordeAttackNugget
	End
End

Weapon NormalArtilleryHordeRangefinder
	AttackRange				= 450.0 ; Slightly shorter than the archer's actual weapon
	DelayBetweenShots		= 3500
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End


;------------------------------------------------------------------------------
; The range finder for anti-ship ships

Weapon ShipMissileRangefinder
	AttackRange			= #SUBTRACT( EVIL_SHIP_ANTI_SHIP_WEAPON_RANGE 200 ) ; a lot shorter than the archer's actual weapon cause ships are quite long.
	MinimumAttackRange		= 25
	DelayBetweenShots		= 1000
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 180		; All round so we don't try and rotate towards a victim.
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a ship.
	FinishAttackOnceStarted = No
	
	HordeAttackNugget
	End
End

;------------------------------------------------------------------------------
Weapon ShortRangedMissileHordeRangefinder
	AttackRange			= MORDOR_HARADRIM_LANCER_HORDE_RANGE ; Slightly shorter than the archer's actual weapon
	DelayBetweenShots		= 50
	LeechRangeWeapon		= Yes
	AcceptableAimDelta		= 45
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	CanFireWhileMoving		= Yes		; When aboard a mumakil.
	HitPassengerPercentage	= 10%
	FinishAttackOnceStarted = No
	HordeAttackNugget
	End
End
; // Test weapon for the sea of bobbing heads unit
;------------------------------------------------------------------------------
;Weapon BobbingHeadsMeleeWeapon
;  AttackRange           = 0.0
;  MeleeWeapon           = Yes
;  DelayBetweenShots     = 900               ; time between shots, msec
;  PreAttackDelay        = 900
;  PreAttackType         = PER_SHOT ; Do the delay each time we attack
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 1
;    Radius        = 0.0
;    DelayTime     = 0
;    DamageType    = FORCE
;    DeathType     = NORMAL
;  End
;End

;----------------------------
Weapon WolfRiderWeapon
  LeechRangeWeapon	= Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackDelay	= ANGMAR_WOLFRIDER_PREATTACKDELAY
  DelayBetweenShots     = ANGMAR_WOLFRIDER_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration	= ANGMAR_WOLFRIDER_FIRINGDURATION
  
  FireFX                = FX_GondorSwordHit
  ;AimDirection		= 270		; In order to aim at something, we aim this far off (to the right would be aiming at -90 degrees)
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ANGMAR_WOLFRIDER_DAMAGE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End  
End


;----------------------------
Weapon WolfRiderWeaponUpgraded
  LeechRangeWeapon	= Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  PreAttackDelay	= ANGMAR_WOLFRIDER_PREATTACKDELAY
  DelayBetweenShots     = ANGMAR_WOLFRIDER_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration	= ANGMAR_WOLFRIDER_FIRINGDURATION
  RequireFollowThru	= Yes
  IsAimingWeapon        = Yes
  AcceptableAimDelta    = 10 
  
  ClipSize 		= 1
  AutoReloadsClip 	= Yes
  ClipReloadTime 	= ISENGARD_WARGRIDER_FIRINGDURATION
  
  FireFX                = FX_GondorSwordHit
;  AimDirection		= 270		; In order to aim at something, we aim this far off (to the right would be aiming at -90 degrees)
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ANGMAR_WOLFRIDER_DAMAGE_UPGRADE
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = CAVALRY
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon DireWolfWeapon
  LeechRangeWeapon = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  PreAttackDelay		= ANGMAR_DIREWOLF_SWORD_PREATTACKDELAY
  DelayBetweenShots     = ANGMAR_DIREWOLF_SWORD_DELAYBETWEENSHOTS            ; time between shots, msec
  FiringDuration		= ANGMAR_DIREWOLF_SWORD_FIRINGDURATION
  FireFX                = FX_WargRiderlessAttack

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ANGMAR_DIREWOLF_SWORD
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageScalar  = 300% NONE +GondorTowerShieldGuard +GondorTowerShieldGuardHorde +RohanSpearmen +RohanSpearmenHorde +ElvenMithlondSentry +ElvenMithlondSentryHorde +DwarvenPhalanx +DwarvenPhalanxHorde  
    DamageScalar  = 300% NONE +MordorEasterling +MordorEasterlingHorde +IsengardPikeman +IsengardPikemanHorde +AngmarHillTrollHorde +AngmarHillTroll +AngmarRhudaurSpearmen +AngmarRhudaurSpearman 
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageScalar  = 10% ANY +STRUCTURE
  End
End

//------------------------------------------------------------------------------
Weapon WargSentryWargWeapon
	LeechRangeWeapon	= Yes
	AttackRange         = 30.0
	MeleeWeapon         = Yes
	PreAttackDelay		= ISENGARD_WARG_SENTRY_WARG_PREATTACKDELAY
	DelayBetweenShots   = ISENGARD_WARG_SENTRY_WARG_DELAYBETWEENSHOTS            // time between shots, msec
	FiringDuration		= ISENGARD_WARG_SENTRY_WARG_FIRINGDURATION
	FireFX              = FX_WargRiderlessAttack

	// A basic Nugget that just does damage
	DamageNugget                        
		Damage			= ISENGARD_WARG_SENTRY_WARG_DAMAGE
		Radius			= 0.0
		DelayTime		= 0
		DamageType		= CAVALRY
		;DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		DamageScalar	= 10% ANY +STRUCTURE
	End
End

;------------------------------------------------------------------------------
Weapon GoodShipRangedAntiShipWeapon
	AttackRange				= GOOD_SHIP_ANTI_SHIP_WEAPON_RANGE
	MinimumAttackRange		= 0.0
	WeaponSpeed				= 401		    ; dist/sec 
	MinWeaponSpeed			= 401
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 180
	CanFireWhileMoving		= Yes			; So we can shoot whilst shipping about
	FireFX					= FX_GoodShipBowArrowWeaponFire		;audio only

	PreAttackDelay			= 0				; No time, the weapon is hidden so doesn't matter. We want asap.
	FiringDuration			= 0
	DelayBetweenShots		= 10	500		; randomise
	LeechRangeWeapon		= Yes
	HitStoredTarget			= Yes
	AntiAirborneVehicle     = Yes
	AntiAirborneMonster		= Yes

	ClipSize 				= 5
	AutoReloadsClip 		= Yes
	ClipReloadTime 			= 100
	  
	HitPercentage			= 100			; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius			= 0.0			; When this weapon misses it can randomly miss by as much as this distance.

	ProjectileNugget
		ProjectileTemplateName  = MirkwoodArcherSilverthornProjectile
		WarheadTemplateName     = GoodShipRangedAntiShipWarhead
	End

	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_BattleShip
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End

End

;----------------------------
Weapon GoodShipRangedAntiShipWarhead

  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes						; Always hits initial target.
	
  	DamageNugget
	    Damage        = GOOD_SHIP_ANTI_SHIP_WEAPON_DAMAGE
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = PIERCE
	    DamageFXType  = MAGIC
	    DeathType     = EXPLODED
	    DamageScalar  = 1% NONE +ShipWright
	End

	; infantry meta impact just like a mirkwood arrow.
	MetaImpactNugget
		SpecialObjectFilter = NONE +INFANTRY
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 10.0
		ShockWaveArc		= 90							; in degrees to each side 180 is full circle
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.0
		OnlyWhenJustDied	= Yes
	End		
	
End

;------------------------------------------------------------------------------
Weapon GoodShipRangedBombardWeapon
	AttackRange				= GOOD_SHIP_BOMBARD_WEAPON_RANGE
	MinimumAttackRange		= GOOD_SHIP_BOMBARD_WEAPON_MIN_RANGE

	WeaponSpeed				= 401		    ; dist/sec 
	MinWeaponSpeed			= 401
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 180
	CanFireWhileMoving		= No
	FireFX					= FX_GoodShipRangedBombardWeapon			;audio only

	PreAttackDelay			= 0				; No time, the weapon is hidden so doesn't matter.
	FiringDuration			= 0
	DelayBetweenShots		= GOOD_SHIP_BOMBARD_WEAPON_FIRE_RATE
	LeechRangeWeapon		= Yes
	NoVictimNeeded			= Yes

	ClipSize 				= INFINITE_CLIP_SIZE
	AutoReloadsClip 		= Yes
	  
	HitPercentage			= 100				; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius			= 50.0			; When this weapon misses it can randomly miss by as much as this distance.
	ScatterIndependently	= Yes

	ProjectileNugget
		ProjectileTemplateName  = GoodShipBombardProjectile
		WarheadTemplateName     = GoodShipRangedBombardWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End

End

;----------------------------
Weapon GoodShipRangedBombardWarhead

  	RadiusDamageAffects		= ENEMIES
	ProjectileCollidesWith	= ENEMIES

  	DamageNugget
	    Damage        = GOOD_SHIP_BOMBARD_WEAPON_DAMAGE
		Radius        = 50.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = GOOD_ARROW_PIERCE
	    DeathType     = NORMAL
	    DamageScalar  = 1% NONE +ShipWright
	End

	MetaImpactNugget								; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 45.0
		ShockWaveTaperOff	= 0.5
	End
	
End

;------------------------------------------------------------------------------
Weapon GoodShipFireWeapon

	RadiusDamageAffects			= ENEMIES ALLIES SELF
	AttackRange					= 0
	MinimumAttackRange			= 0
	LeechRangeWeapon			= Yes
	AcceptableAimDelta			= 180		; All round so we don't try and rotate towards a victim.
	DamageDealtAtSelfPosition	= Yes
	PreAttackType				= PER_SHOT
	PreAttackDelay				= 0
	FiringDuration				= 1
	AutoReloadsClip 			= Yes
	ClipSize 					= INFINITE_CLIP_SIZE
	CanFireWhileMoving			= Yes

	DamageNugget
	    Damage        = 1000000			; always want to die
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = FORCE
	    DeathType     = EXTRA_2			; to trigger the fire.
	End

End

;------------------------------------------------------------------------------
Weapon EvilShipAntiShipWeapon
	AttackRange				= EVIL_SHIP_ANTI_SHIP_WEAPON_RANGE
	MinimumAttackRange		= 0.0
	WeaponSpeed				= 401		    ; dist/sec 
	MinWeaponSpeed			= 401
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 180
	CanFireWhileMoving		= Yes			; So we can shoot whilst shipping about
	FireFX					= FX_EvilShipBowArrowWeaponFire		;audio only

	PreAttackDelay			= 0				; No time, the weapon is hidden so doesn't matter. We want asap.
	FiringDuration			= 0
	DelayBetweenShots		= 10	500
	LeechRangeWeapon		= Yes
	HitStoredTarget			= Yes
	AntiAirborneVehicle     = Yes
	AntiAirborneMonster		= Yes

	ClipSize 				= 5
	AutoReloadsClip 		= Yes
	ClipReloadTime 			= 100

	HitPercentage			= 100			; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius			= 0.0			; When this weapon misses it can randomly miss by as much as this distance.

	ProjectileNugget
		ProjectileTemplateName  = EvilFactionNavyFireArrow
		WarheadTemplateName     = EvilShipRangedAntiShipWarhead
	End

	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_BattleShip
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End

End

;----------------------------
Weapon EvilShipRangedAntiShipWarhead

  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget		= Yes	; Always hits initial target.
	
  	DamageNugget
	    Damage        = EVIL_SHIP_ANTI_SHIP_WEAPON_DAMAGE
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = FLAME
	    DeathType     = BURNED
	    DamageScalar  = 1% NONE +ShipWright
	End
End

;------------------------------------------------------------------------------
Weapon EvilShipRangedBombardWeapon
	AttackRange				= EVIL_SHIP_BOMBARD_WEAPON_RANGE
	MinimumAttackRange		= EVIL_SHIP_BOMBARD_WEAPON_MIN_RANGE

	WeaponSpeed				= 301										; dist/sec
	MinWeaponSpeed			= 301
	PreAttackType			= PER_SHOT
	AcceptableAimDelta		= 180
	CanFireWhileMoving		= No
	FireFX					= FX_EvilShipRangedBombardWeapon			;audio only

	PreAttackDelay			= 333
	FiringDuration			= 3000										; Should match anim, as we can't use weapon timing in the anim state.
	DelayBetweenShots		= EVIL_SHIP_BOMBARD_WEAPON_FIRE_RATE
	LeechRangeWeapon		= Yes
	NoVictimNeeded			= Yes

	ClipSize 				= INFINITE_CLIP_SIZE
	AutoReloadsClip 		= Yes
	  
	HitPercentage			= 100										; Hit percentage must be 100% to allow it to target units on walls.  Otherwise becomes useless. .  
	ScatterRadius			= 50.0										; When this weapon misses it can randomly miss by as much as this distance.
	ScatterIndependently	= Yes

	ProjectileNugget
		ProjectileTemplateName  = EvilShipBombardProjectile
		WarheadTemplateName     = EvilShipRangedBombardWarhead
	End
	
	ProjectileNugget													; This nugget is to create a revealing object, so fire
		AlwaysAttackHereOffset	= X:0 Y:0 Z:0							; it directly on top of us, and just use an empty warhead
		UseAlwaysAttackOffset	= Yes									; so we don't assert.
		ProjectileTemplateName  = ShroudRevealer_Bombard
		WarheadTemplateName     = ShipRevealBombardWarhead_Dummy
	End

End

;----------------------------
Weapon ShipRevealBombardWarhead_Dummy
End

;----------------------------
Weapon EvilShipRangedBombardWarhead

  	RadiusDamageAffects		= ENEMIES
	ProjectileCollidesWith	= ENEMIES

  	DamageNugget
	    Damage        = EVIL_SHIP_BOMBARD_WEAPON_DAMAGE
		Radius        = 50.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DeathType     = NORMAL
	    DamageScalar  = 1% NONE +ShipWright
	End

	MetaImpactNugget								; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 45.0
		ShockWaveTaperOff	= 0.5
	End
	
End

;------------------------------------------------------------------------------
Weapon EvilShipExplodeWeapon
	
	RadiusDamageAffects = ENEMIES ALLIES NEUTRALS
	FireFX = FX_EvilExplode
	
	DamageNugget												; A basic Nugget that just does damage
		Damage			= EVIL_FIRE_SHIP_WEAPON_DAMAGE_01
		Radius			= EVIL_FIRE_SHIP_WEAPON_RADIUS_01
		DelayTime		= 0
		DamageType		= FLAME
		DeathType		= BURNED
		DamageScalar  = 1% NONE +ShipWright
	End
	
	DamageNugget
		Damage			= EVIL_FIRE_SHIP_WEAPON_DAMAGE_02
		Radius			= EVIL_FIRE_SHIP_WEAPON_RADIUS_02
		DelayTime		= 250
		DamageType		= FLAME
		DeathType		= BURNED
		DamageScalar  = 1% NONE +ShipWright
		
	End

	DamageNugget
		Damage			= EVIL_FIRE_SHIP_WEAPON_DAMAGE_03
		Radius			= EVIL_FIRE_SHIP_WEAPON_RADIUS_03
		DelayTime		= 500
		DamageType		= FLAME
		DeathType		= BURNED
		DamageScalar  = 1% NONE +ShipWright
	End

End

;------------------------------------------------------------------------------
Weapon EvilShipFireWeapon

	RadiusDamageAffects			= ENEMIES ALLIES SELF
	AttackRange					= EVIL_FIRE_SHIP_RANGE
	MinimumAttackRange			= 0
	LeechRangeWeapon			= Yes
	AcceptableAimDelta			= 180		; All round so we don't try and rotate towards a victim.
	DamageDealtAtSelfPosition	= Yes
	PreAttackType				= PER_SHOT
	PreAttackDelay				= 0
	FiringDuration				= 1
	AutoReloadsClip 			= Yes
	ClipSize 					= INFINITE_CLIP_SIZE
	CanFireWhileMoving			= Yes

	DamageNugget
	    Damage        = 1000000			; always want to die
		Radius        = 0.0
	    DelayTime     = 0
	    DamageType    = FORCE
	    DeathType     = EXTRA_2			; to trigger the fire.
	End

End

;------------------------------------------------------------------------------
; This is the weapon used by crushing buildings.  It's supposed to kill everything it hits.
Weapon ToppledStructureWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
	AttackRange = 80.0
	WeaponSpeed = 79999.2
	DelayBetweenShots = 0                   ; time between shots, msec
	ClipSize = 1                        ; how many shots in a Clip (0 == infinite)
	ClipReloadTime = 0               ; how long to reload a Clip, msec
	AutoReloadsClip = No 
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 9999.0
		Radius        = 16.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
End
;------------------------------------------------------------------------------
Weapon SarumanWeapon ;BALANCE Saruman
  IdleAfterFiringDelay  = 0
  LeechRangeWeapon      = Yes
  AttackRange           = STANDARD_MELEE_ATTACK_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = SARUMAN_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = SARUMAN_PREATTACKDELAY 				; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = SARUMAN_FIRINGDURATION 				; min 600 for anim
  FireFX                = FX_GondorSwordHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = SARUMAN_DAMAGE					
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
	MetaImpactNugget                         ; A Nugget that throws things back with force
;		HeroResist        =  0.75
		ShockWaveAmount   = 40.00
		ShockWaveRadius   = 10
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

;------------------------------------------------------------------------------
Weapon SarumanLightningBlastWeapon
	AttackRange					= SARUMAN_LIGHTNING_RANGE				;600
	WeaponSpeed					= 801      ; dist/sec 
	HitPercentage				= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots			= 4500		; time between shots, msec
	PreAttackDelay            = 200  ; 1467 is the prep time for archer.  
	PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration            = 1   ; Duration of the archer firing shot is 500ms.
	FireFX						= FX_SarumanLightning		;audio only
	FiringDuration      		= 50
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= SARUMAN_LIGHTNING_DAMAGE_FLAME			
		DamageType    		= FLAME
		DamageFXType  		= BOLT
		DeathType     		= BURNED
		Radius				 = SARUMAN_LIGHTNING_RADIUS
		DelayTime			 = 200  
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= SARUMAN_LIGHTNING_DAMAGE			
		DamageType    		= MAGIC
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
		Radius				 = SARUMAN_LIGHTNING_RADIUS
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist          =   0.75
		ShockWaveAmount		= 90.0
		ShockWaveRadius		= 100
		ShockWaveTaperOff	= 0.2
		DelayTime			= 200		;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
	End

	WeaponOCLNugget
		WeaponOCLName	= OCL_SarumanLightningBlastLighting
	End
	
End
;------------------------------------------------------------------------------
Weapon WormtongueWeapon ;BALANCE Wormtongue
  IdleAfterFiringDelay  = 0
  LeechRangeWeapon      = Yes
  AttackRange           = WORMTONGUE_WEAPON_RANGE
  MeleeWeapon           = Yes
  DelayBetweenShots     = WORMTONGUE_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = WORMTONGUE_PREATTACKDELAY 				; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = WORMTONGUE_FIRINGDURATION 				; min 600 for anim
  FireFX                = FX_GondorSwordHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WORMTONGUE_DAMAGE					
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End

Weapon WormtongueBackstab
	IdleAfterFiringDelay	= 0
	LeechRangeWeapon		= Yes
	AttackRange				= WORMTONGUE_WEAPON_RANGE
	MeleeWeapon				= Yes
	DelayBetweenShots		= WORMTONGUE_DELAYBETWEENSHOTS
	PreAttackDelay			= WORMTONGUE_PREATTACKDELAY
	PreAttackType			= PER_SHOT
	FiringDuration			= WORMTONGUE_FIRINGDURATION
	FireFX					= FX_WormtongueBackstab
	DamageNugget
		Damage				= WORMTONGUE_BACKSTAB_DAMAGE
		Radius				= 0.0
		DelayTime			= 0
		DamageType			= HERO
		DamageFXType		= FIRE3
		DeathType			= NORMAL
	End
	DOTNugget
		Damage				= DEFAULT_POISON_DAMAGE
		Radius				= 0.0
		DelayTime			= 0
		DamageType			= POISON
		DamageFXType		= POISON
		DeathType			= NORMAL
		DamageInterval		= 1000
		DamageDuration		= 20000
		SpecialObjectFilter	= AFFECTED_BY_POISON_OBJECTFILTER
	End
End

;------------------------------------------------------------------------------
Weapon BattleWagonOilBarrel
	LeechRangeWeapon			= Yes
	AttackRange					= BATTLEWAGON_OILBARREL_RANGE
	WeaponSpeed					= 100
	MinWeaponSpeed				= 80
	MaxWeaponSpeed				= 150
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	PreAttackType				= PER_SHOT
	FiringDuration				= 0
	FireFX						= FX_OilBarrelLaunch
	DamageType					= FLAME
	AcceptableAimDelta			= 180
	
	ProjectileNugget
		ProjectileTemplateName	= BattleWagonOilBarrelProjectile
		WarheadTemplateName		= BattleWagonOilBarrelWarhead
	End
	

	
End

;------------------------------------------------------------------------------
Weapon BattleWagonOilBarrelWarhead
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES ; ALLIES

	DamageNugget
		Damage        = BATTLEWAGON_OILBARREL_IMPACT_DAMAGE
		Radius        = BATTLEWAGON_OILBARREL_IMPACT_DAMAGE_RADIUS
		DelayTime     = 0
		DamageType    = CRUSH
		DamageFXType  = FLAME
		DeathType     = CRUSHED
	End

	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 1
		Damage			= 40
	End	

	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 40
		Damage			= 20
		MinMaxBurnRate		= 40
		MinDecay		= 2			; originally 25 - updated for Expansion  
		MaxResistance		= 1
	End	
	

	
End

;------------------------------------------------------------------------------
Weapon SarumanFireball ;BALANCE Saruman
  LeechRangeWeapon			= Yes
  AttackRange               = SARUMAN_FIREBALL_RANGE		; set this in his special power
  WeaponSpeed               = 150         ; dist/sec 
  MinWeaponSpeed            = 100
  MaxWeaponSpeed            = 200      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  ScaleWeaponSpeed          = Yes      ; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100      ;When this weapon is used it will hit exactly 100% of the time.
  ScatterRadius             = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = 5000     ; time between shots, msec
  PreAttackDelay            = 1     ; 1467 is the prep time for archer.
  PreAttackRandomAmount     = 0      ; amount of additional preattack variance for archer type attacks only  
  PreAttackType             = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration            = 1     ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AcceptableAimDelta		= 15
  AntiAirborneVehicle       = Yes
  AntiAirborneMonster		= Yes
  FireFX					= FX_SarumanFireball
  DamageType				= FLAME
  
  ProjectileNugget          ; Default arrow
    ProjectileTemplateName  = SarumanFireballProjectile
    WarheadTemplateName     = SarumanFireballWarhead
  End
End

;----------------------------
Weapon SarumanFireballWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR MINES ; ALLIES
	
	FireLogicNugget ;@@@ fire logic testing
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	40
		Damage		=	10
	End	

	DamageNugget                        ; A basic Nugget that just does damage
         Damage        = SARUMAN_FIREBALL_DAMAGE
         Radius        = SARUMAN_FIREBALL_RADIUS
         DelayTime     = 0
         DamageType    = FLAME
         DamageFXType  = BIG_ROCK
         DeathType     = BURNED
         DamageScalar  =  150% NONE +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir
         DamageScalar  = 5000% NONE +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
	End

	DamageNugget                        ; to make the fireball more mighty against enemy heroes
	    Damage        = 50	
	    Radius        = SARUMAN_FIREBALL_RADIUS
	    DelayTime     = 0
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
    	    DamageScalar  = 500% NONE +HERO -MordorFellBeast -MordorWitchKingOnFellBeast -GondorGwaihir
	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = SARUMAN_FIREBALL_DAMAGE_SIEGE	
	    Radius        = SARUMAN_FIREBALL_RADIUS
	    DelayTime     = 0
	    DamageType    = MAGIC
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
    	    DamageScalar  = 300% NONE +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir
	End
	
	

	MetaImpactNugget                         ; A Nugget that throws things back with force
;		HeroResist        =  0.99
		ShockWaveAmount   = 80.00
		ShockWaveRadius   = SARUMAN_FIREBALL_RADIUS
		ShockWaveTaperOff =  0.75
		ShockWaveZMult    =  1.20
	End
End

;------------------------------------------------------------------------------
Weapon FireBallImpact
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ALLIES
	DamageNugget                        ; A basic Nugget that just does damage to trigger deployed mines
		Damage        = 1
		Radius        = 20
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageScalar  = 50000% NONE +MINE ; Make sure we one shot kill mines, without risking wasting some poor hero with a torch
	End
End

;------------------------------------------------------------------------------
;Weapon HobbitJump ; BALANCE HobbitJump
;  IdleAfterFiringDelay = 0
;  AttackRange           = 0.0
;  MinimumAttackRange    = 8.0
;  WeaponSpeed           = 100.0        ; dist/sec (huge value == effectively instant)
;  ProjectileFilterInContainer = NONE +HOBBIT 
;  ClipSize              = 1               ; how many shots in a Clip (0 == infinite)
;  ClipReloadTime        = 2200   ;1467 min for animation           ; how long to reload a Clip, msec
;  AutoReloadsClip		= No	
;  PreAttackDelay        = 600
;  FiringDuration		= 1500            
;  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;  HitPercentage       = 0 ; Never auto hits, always shoots at a ground position
;  ScatterRadius       = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
;
;  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
;    WarheadTemplateName = HobbitJumpWarhead
;  End
;End

;-----------------------------------
;Weapon HobbitJumpWarhead
;  ProjectileCollidesWith = ENEMIES
; ; FireFX = FX_RockDetonation
;  DamageNugget                        ; A basic Nugget that just does damage
;    Damage        = 5
;    Radius        = 12.0
;    DelayTime     = 0
;    DamageType            = CRUSH
;    DamageFXType          = SMALL_ROCK
;    DeathType             = NORMAL
;  End
;  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .75
;    ShockWaveAmount   = 50.0
;    ShockWaveRadius   = 12.0
;    ShockWaveTaperOff = 0.5
;    ShockWaveZMult    = 1.20
;  End
;End

;------------------------------------------------------------------------------
; Merry and Pippin use these to throw rocks
Weapon HobbitRockThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 500
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage	      = 0 ; never auto hits, always hits ground
	ScatterRadius	      = 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1200
	DelayBetweenShots		= 1700
	CanFireWhileMoving		= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowWarhead
	End
End

;------------------------------------------------------------------------------
; Frodo uses these to throw rocks
Weapon FrodoRockThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 833
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1200
	DelayBetweenShots		= 2033
	CanFireWhileMoving		= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowWarhead
	End
End

;------------------------------------------------------------------------------
; Sam uses these to throw rocks
Weapon SamRockThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 1200
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1400
	DelayBetweenShots		= 2600
	CanFireWhileMoving		= Yes

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowWarhead
	End
End

;------------------------------------------------------------------------------
; Merry and Pippin use these to throw rocks
;Weapon HobbitRockThrowTreebeard  ; BALANCE Hobbit Weapon Rock
;	AttackRange           = HOBBIT_ROCK_RANGE
;	MinimumAttackRange = 100.0
;	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
;	AcceptableAimDelta    = 10 
;	PreAttackDelay        = 633
;	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
;	HitPercentage			= 0 ; never auto hits, always hits ground
;	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
;	FiringDuration			= 933
;	DelayBetweenShots		= 2000
;
;	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
;		ProjectileTemplateName = HobbitRockProjectileTreebeard
;		WarheadTemplateName = HobbitRockThrowWarhead
;	End
;End

;----------------------------
Weapon HobbitRockThrowWarhead
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = HOBBIT_ROCK_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = HERO_RANGED
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
	;MetaImpactNugget                    ; A Nugget that throws things back with force
	;	HeroResist			= .75
	;	ShockWaveAmount   = 10.0
	;	ShockWaveRadius   = 30.0
	;	ShockWaveTaperOff = 0.75
	;End
End

;------------------------------------------------------------------------------
; Sam in Shelob's Lair will use this Rock Throw
Weapon SLSamRockThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 700
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 4.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1300
	DelayBetweenShots		= 2000

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
	ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = SLSamRockThrowWarhead
	End
End

;----------------------------
Weapon SLSamRockThrowWarhead
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = HOBBIT_ROCK_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = CRUSH
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
	;MetaImpactNugget                    ; A Nugget that throws things back with force
	;	HeroResist			= .75
	;	ShockWaveAmount   = 10.0
	;	ShockWaveRadius   = 30.0
	;	ShockWaveTaperOff = 0.75
	;End
End

;------------------------------------------------------------------------------
; Garrisoned Wildmen throw these
Weapon GarrisonedWildmanRockThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 833
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1200
	DelayBetweenShots		= 2033

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = HobbitRockProjectile
		WarheadTemplateName = HobbitRockThrowWarhead
	End
End

;------------------------------------------------------------------------------
; Garrisoned Wildmen with torches throw these
Weapon GarrisonedWildmanTorchThrow  ; BALANCE Hobbit Weapon Rock
	AttackRange           = HOBBIT_ROCK_RANGE
	WeaponSpeed           = 150.0        ; dist/sec (huge value == effectively instant)
	AcceptableAimDelta    = 20 
	PreAttackDelay        = 833
	PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
	HitPercentage			= 0 ; never auto hits, always hits ground
	ScatterRadius			= 0.0     ;When this weapon misses it can randomly miss by as much as this distance.
	FiringDuration			= 1200
	DelayBetweenShots		= 2033

	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName = WildmenTorchProjectile
		WarheadTemplateName = GarrisonedWildmanTorchThrowWarhead
	End
End

;----------------------------
Weapon GarrisonedWildmanRockThrowWarhead
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_WILDMAN_ROCK_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FORCE
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
End

;----------------------------
Weapon GarrisonedWildmanTorchThrowWarhead
	FireFX		      = FX_ImpactHobbitRock
	ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
	RadiusDamageAffects	= ENEMIES 
	HitStoredTarget = Yes	; Always hits initial target.

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= ISENGARD_WILDMAN_THROWN_TORCH_DAMAGE
		Radius			= ISENGARD_WILDMAN_THROWN_TORCH_RADIUS
		DelayTime		= 0
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd	= No
		RequiredUpgradeNames    = Upgrade_IsengardTorches
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ISENGARD_WILDMAN_ROCK_DAMAGE
		Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
		DelayTime     = 0
		DamageType    = FORCE
		DamageFXType  = SMALL_ROCK
		DeathType     = NORMAL
	End
End

//-----------------------------
Weapon SunflareWeapon	
	RadiusDamageAffects		= ENEMIES NEUTRALS	

	//Turn the troll effectively to stone
	AttributeModifierNugget
		AttributeModifier        = SunFlareTrollToStone
		Radius					 = SPELL_SUNFLARE_EFFECT_RADIUS		
		SpecialObjectFilter      = ANY +MordorAttackTroll +MordorDrummerTroll +MordorMountainTroll +MordorCaveTroll +GoblinCaveTroll +GoblinCaveTroll_FromTrollLair +CaveTroll_Slaved
	End            	

	// A basic Nugget that just does damage
	DamageNugget                
		Damage        = SPELL_SUNFLARE_DAMAGE
		Radius        = SPELL_SUNFLARE_EFFECT_RADIUS	
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
	End

	//Start a fire - Removed at the request of Wes "Ensign Crusher" Eckhart
	;FireLogicNugget 
	;	LogicType	=	INCREASE_BURN_RATE
	;	Radius		=	SPELL_SUNFLARE_EFFECT_RADIUS
	;	Damage		=	SPELL_SUNFLARE_FIRE_DAMAGE
	;End
	//Design knob
	;FireLogicNugget
	;	LogicType		=	INCREASE_FUEL
	;	Radius			=	SPELL_SUNFLARE_EFFECT_RADIUS
	;	Damage			=	SPELL_SUNFLARE_FIRE_FUEL
	;	MinMaxBurnRate	=	SPELL_SUNFLARE_FIRE_MINMAX_BURNRATE
	;	MinDecay		=	1
	;	MaxResistance	=	0
	;End

	//Paralyze everything that's light sensitive
	ParalyzeNugget				
		Radius					= SPELL_SUNFLARE_EFFECT_RADIUS
		Duration				= SPELL_SUNFLARE_DURATION
		SpecialObjectFilter     = ANY +MordorFighter +MordorBlackOrc +MordorArcher +MordorBannerOrc +WildBannerGoblin +WildBannerMarauder +WildBannerSpiderling +GoblinFighter +GoblinArcher +WildSpiderling +GoblinSpiderRider +WildShelob +MordorGoblinSwordsman +MordorGoblinArcher +BarrowWight ENEMIES
	End

End

;-----------------------------
;Weapon CloudBreakSunbeamWeapon
;    FireFX = FX_CloudBreakRays
;    DelayBetweenShots = 10000
;End



;/// WARNING: These two weapons are hard coded in PhysicsUpdate at line 110. That needs to be fixed before they are removed.
;------------------------------------------------------------------------------
Weapon VehicleCrashesIntoBuildingWeapon
End

;------------------------------------------------------------------------------
Weapon VehicleCrashesIntoNonBuildingWeapon
End
;/// WARNING: These two weapons are hard coded in PhysicsUpdate at line 110. That needs to be fixed before they are removed.

;------------------------------------------------------------------------------
Weapon ShelobMandibles     ; BALANCE Shelob Weapon 
  LeechRangeWeapon      = Yes
  AttackRange           = 25.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1666           ; time between shots, msec
  PreAttackDelay        = 900            ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FiringDuration        = 766    ; Duration of the mace swing 
  RequireFollowThru		= Yes
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = WILD_SHELOB_STINGER_DAMAGE
    Radius        = 15
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageArc	  = ISENGARD_BERSERKER_ARC
  End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
;		ShockWaveAmount   = 30.0
;		ShockWaveRadius   = 30.0
;		ShockWaveTaperOff = 0.75
;	End  
End

;------------------------------------------------------

Weapon MumakilRampageTemp
	AttackRange = 160.0
;	FireFX           = FX_RampageDust
	RadiusDamageAffects = ALLIES ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots = 0                ; time between shots, msec
	ClipSize = INFINITE_CLIP_SIZE                            ; how many shots in a Clip (0 == infinite)
	ClipReloadTime = 0                      ; how long to reload a Clip, msec
   
     ; Sequential order of the target positions to follow this list
    LinearTarget = X: 0			Y: 0		T: 7		; T: 0		Frame 0
	LinearTarget = X: -19.816	Y: -68.049	T: 1		; T: 50		Frame 50
	LinearTarget = X: 12.397	Y: -58.504	T: 1		; T: 11.2	Frame 58
	LinearTarget = X: 55.467	Y: -46.43	T: 0		; T: 4		Frame 62
	LinearTarget = X: 72.587	Y: 1.865	T: 10		; T: 7		Frame 69
	LinearTarget = X: 12.397	Y: -58.504	T: 1		; T: 11.2	Frame 125
	LinearTarget = X: 55.467	Y: -46.43	T: 1		; T: 7		Frame 132
	LinearTarget = X: 73.409	Y: -14.204	T: 4		; T: 5.4	Frame 159
	LinearTarget = X: 98.414	Y: -10.092	T: 4		; T: 4		Frame 166
	LinearTarget = X: 0			Y: 0		T: 7		; T: 43 -42	+1
	LinearTarget = X: 72.272	Y: 7.216	T: 6		; T: 43	-42	+2
	LinearTarget = X: 84.496	Y: 9.25 	T: 1		; T: 6	-6	+2
	LinearTarget = X: 80.55	 	Y: 48.24 	T: 0		; T: 3	-6	-1
	LinearTarget = X: 60.88		Y: 64.00	T: 1		; T: 3	-0	+2
	LinearTarget = X: 29.13   	Y: 78.37	T: 0		; T: 2		+4
	LinearTarget = X: -2.55 	Y: 85.55	T: 1		; T: 3		+1
	LinearTarget = X:-34.80  	Y: 76.95	T: 0		; T: 3	
	LinearTarget = X: -66.8  	Y: 62.64	T: 1		; T: 3		+1
	LinearTarget = X:-81.65 	Y: 30.48	T: 0		; T: 1		+2
	LinearTarget = X: -92.18	Y: -2.72	T: 1		; T: 4		+0
	LinearTarget = X:-81.2 		Y: -31.48	T: 0		; T: 4		+4
	LinearTarget = X: -58.93  	Y: -63.19	T: 1		; T: 4		+2
	LinearTarget = X:-35.4		Y: -82.56	T: 1		; T: 4		+0
	LinearTarget = X: -13.91	Y: -80.33	T: 2		; T: 14		+2
	LinearTarget = X: -13.91	Y: -80.33	T: 1		; T: 5		+1
	LinearTarget = X:-35.404  	Y: -82.56	T: 0		; T: 2		+3
	LinearTarget = X: -58.93	Y: -63.19	T: 1		; T: 1		-2
	LinearTarget = X:-81.17 	Y: -31.48	T: 0		; T: 2		+0
	LinearTarget = X: -92.18 	Y: -2.72	T: 0		; T: 2		+2
	LinearTarget = X:-81.65 	Y: 30.48	T: 1		; T: 3		-1
	LinearTarget = X: -66.80	Y: 62.64	T: 1		; T: 5		-2
	LinearTarget = X:-34.80  	Y: 76.95	T: 1		; T: 6		-2
;	LinearTarget = X: -2.554  	Y: 85.56	T: 1		; T: 8		+0
	LinearTarget = X:-34.80  	Y: 76.95	T: 1		; T: 2	
	LinearTarget = X: -66.80	Y: 62.64	T: 1		; T: 3		-1
	LinearTarget = X:-81.65 	Y: 30.48	T: 0		; T: 4		+3
	LinearTarget = X: -92.18	Y: -2.72	T: 1		; T: 2		-1
	LinearTarget = X:-81.18 	Y: -31.48	T: 0		; T: 3		+2
	LinearTarget = X: -58.94	Y: -63.19	T: 1		; T: 3		-1
	LinearTarget = X:-35.40	    Y: -82.56	T: 0		; T: 3		+2
	LinearTarget = X: -13.9 	Y: -80.33	T: 1		; T: 2		-2
	LinearTarget = X:20.14		Y: -80.38	T: 0		; T: 3		+1
	LinearTarget = X:52.44		Y: -60.40	T: 0		; T: 2		+3
	LinearTarget = X:79.11		Y:-46.74	T: 1		; T: 3		+0
	LinearTarget = X:92.25	 	Y: -19.45	T: 0		; T: 3		+3
	LinearTarget = X:98.89		Y:9.25		T: 3		; T: 5		+2
;	LinearTarget = X:90.95	 	Y: 48.24	T: 1		; T: 7		+3
;	LinearTarget = X:60.89    	Y:64.01		T: 1		; T: 9		+0
	LinearTarget = X:90.95 		Y: 48.24	T: 2		; T: 6		+-
	LinearTarget = X:98.99		Y:9.25		T: 3.2		; T: 3		+3
  
   
	DamageNugget                        ; A basic Nugget that just does damage
		Damage				= 10
		Radius				= 25.6
		DelayTime			= 0
		DamageType			= FORCE
		DeathType			= NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 25.6
		ShockWaveTaperOff	= 0.8
		;ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 0.920
	End

End


;================================SP MISSION WEAPON DO NOT BALANCE======================

;------------------------------------------------------------------------------
Weapon RohanElvenBow_EvilAmonHen	; BALANCE Elven warrior bow Weapon
	AttackRange         = ROHAN_ELVEN_RANGE
	WeaponSpeed         = 321		; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100		; When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0		; When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20		; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY   
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget				; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = RohanElvenBowWarhead_EvilAmonHen
	    ForbiddenUpgradeNames     = Upgrade_RohanFireArrows
	End
	ProjectileNugget				; Fire arrow available from fire arrow upgrade
	    ProjectileTemplateName    = GoodFactionFireArrow
	    WarheadTemplateName       = RohanElvenBowFireWarhead
	    RequiredUpgradeNames      = Upgrade_RohanFireArrows
  	End
End

;----------------------------
Weapon RohanElvenBowWarhead_EvilAmonHen
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  HitStoredTarget = Yes			; Always hits initial target.
  DamageNugget					; A basic Nugget that just does damage
    Damage        = 15
    Radius        = 0.0			; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End
;===================-------------------------------=============================-------------------------
Weapon RohanElvenBow_EvilIsen	; BALANCE Elven warrior bow Weapon
	AttackRange         = ROHAN_ELVEN_RANGE
	WeaponSpeed         = 321		; dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes		; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100		; When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0		; When this weapon misses it can randomly miss by as much as this distance.
	  
	AcceptableAimDelta	= 20		; prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY   
	PreAttackType       = PER_POSITION
	FiringDuration      = 0
	  
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MIN Max:ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_ELVENWARRIOR_BOW_RELOADTIME_MAX
	  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget				; Default arrow
	    ProjectileTemplateName    = GoodFactionArrow
	    WarheadTemplateName       = EvilIsenRohanElvenBowWarhead
	    ForbiddenUpgradeNames     = Upgrade_RohanFireArrows
	End
	ProjectileNugget				; Fire arrow available from fire arrow upgrade
	    ProjectileTemplateName    = GoodFactionFireArrow
	    WarheadTemplateName       = RohanElvenBowFireWarhead
	    RequiredUpgradeNames      = Upgrade_RohanFireArrows
  	End
End

;------------------------------------------------------------------------------
Weapon EvilIsenRohanElvenBowWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ;ALLIES ( 4/23/04 removed friendly fire)
  RadiusDamageAffects = ENEMIES NEUTRALS ALLIES NOT_SIMILAR
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 10
    Radius        = 1.6
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End


;------------------------------------------------------------------------------
Weapon RainOfFirePhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_RainOfFirePhaseInitialWeapon
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon RainOfFirePhaseInitialWeapon02
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_RainOfFirePhaseInitialWeapon02
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon RainOfFirePhaseOneWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX = FX_RainOfFirePhaseOne
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 7250
		DamageScalar  = 50% NONE +COMMANDCENTER
		DamageTaperOff = 200
		Radius        = 200
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
	;FireLogicNugget						; Increase the fuel where it hits
	;	LogicType		= INCREASE_FUEL
	;	Radius			= 150
	;	Damage			= 25
	;	MinMaxBurnRate	= 10
	;	MaxResistance	= 5
	;End
	;FireLogicNugget						; Light everything on fire
	;	LogicType		= INCREASE_BURN_RATE
	;	Radius			= 150
	;	Damage			= 100
	;End
End

;------------------------------------------------------------------------------
Weapon RainOfFirePhaseOneWeapon02
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX = FX_RainOfFirePhaseOne02
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 7250
		DamageScalar  = 50% NONE +COMMANDCENTER
		DamageTaperOff = 200
		Radius        = 200
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
	;FireLogicNugget						; Increase the fuel where it hits
	;	LogicType		= INCREASE_FUEL
	;	Radius			= 150
	;	Damage			= 25
	;	MinMaxBurnRate	= 10
	;	MaxResistance	= 5
	;End
	;FireLogicNugget						; Light everything on fire
	;	LogicType		= INCREASE_BURN_RATE
	;	Radius			= 150
	;	Damage			= 100
	;End
End

;------------------------------------------------------------------------------
Weapon ArrowVolleyPhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX = FX_ArrowVolleyPhaseInitialWeapon
End

;------------------------------------------------------------------------------
Weapon ArrowVolleyOneWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX = FX_ArrowVolleyPhaseOne
;	LuaEventNugget                        ; Sends a lua script event out
;		LuaEvent		= BeUncontrollablyAfraid
;		Radius			= 100
;		SendToEnemies	= Yes
;		SendToAllies	= No
;		SendToNeutral	= Yes
;	End
	

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 800
		Radius        = 100
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = PIERCE
		DeathType     = NORMAL
	End
End

;------------------------------------------------------------------------------
Weapon AngmarCorpseRainPhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon AngmarCorpseRainProjectileWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS 
;	FireFX              		= FX_GandalfLightningSwordBlastWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ANGMAR_NECRO_CORPSE_RAIN_DAMAGE
		DamageScalar  = 50% NONE +COMMANDCENTER
		Radius        = 100
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 25.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
	DOTNugget
		Damage			= ANGMAR_NECRO_CORPSE_RAIN_DOT_DAMAGE
		Radius			= 100.0
		DelayTime		= 0
		DamageType		= POISON
		DamageFXType		= POISON
		DeathType		= NORMAL
		DamageInterval		= 1000
		DamageDuration		= 20000
		SpecialObjectFilter	= AFFECTED_BY_POISON_OBJECTFILTER
	End


End

;------------------------------------------------------------------------------
Weapon BombardPhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS
	FireFX				= FX_BarrageMeteorStart
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon BombardProjectileWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
;	FireFX = FX_BombardPhaseOne
	DamageNugget                        	; A basic Nugget that just does damage
		Damage        = 400		; RotWK originally 150
		DamageScalar  = 50% NONE +COMMANDCENTER
		Radius        = 100
		DelayTime     = 0		; RotWK originally 0 delay
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    	; A Nugget that throws things back with force
;		HeroResist		= .99
		ShockWaveAmount		= 75.0	; RotWK originally 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseInitialWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseInitialWeapon
	LuaEventNugget                        ; Sends a lua script event out
		LuaEvent		= BeUncontrollablyAfraid
		Radius			= 200
		SendToEnemies	= Yes
		SendToAllies	= No
		SendToNeutral	= Yes
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseOneWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseOneWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 2000
		DamageScalar  = 25% ALL -STRUCTURE; 
		DamageScalar  = 50% NONE +COMMANDCENTER
		Radius        = 150
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 50
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseTwoWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseTwoWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 1500
		DamageScalar  = 25% ALL -STRUCTURE
		DamageScalar  = 50% NONE +COMMANDCENTER
		;MinRadius     = 50
		Radius        = 200
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 100
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseThreeWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseThreeWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 1000
		DamageScalar  = 25% ALL -STRUCTURE
		DamageScalar  = 50% NONE +COMMANDCENTER
		;MinRadius     = 100
		Radius        = 250
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
		DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .99
		ShockWaveAmount		= 50.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 150
	End
End

;------------------------------------------------------------------------------
Weapon EarthquakePhaseFinalWeapon
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	FireFX = FX_EarthquakePhaseFinalWeapon
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 500
		DamageScalar  = 25% ALL -STRUCTURE
		DamageScalar  = 50% NONE +COMMANDCENTER
		Radius        = 300
		DamageMaxHeightAboveTerrain = 1
		DelayTime     = 0
		DamageType    = SIEGE
	DeathType     = NORMAL
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .50
		ShockWaveAmount		= 40.0
		ShockWaveTaperOff	= 1.0
		ShockWaveRadius		= 200
	End
End

;------------------------------------------------------------------------------
Weapon KeepBow_Easy       ; For early GOOD SPS missions
  AttackRange               = KEEP_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:KEEP_BOW_DELAYBETWEENSHOTS_MIN Max:KEEP_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = KEEP_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = KEEP_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 180	; We want to be able to shoot all round, as we canit move.

  CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


	ProjectileNugget          ; Default arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = KeepBowWarhead_Easy
		ForbiddenUpgradeNames   = Upgrade_BattleTowersToUseFireArrows
	End

  ProjectileNugget          ; Upgraded arrow
    ProjectileTemplateName  = UpgradedGoodFactionArrow
    WarheadTemplateName     = KeepBowUpgradedWarhead
    RequiredUpgradeNames	= Upgrade_BattleTowersToUseFireArrows
  End

End

;----------------------------
Weapon KeepBowWarhead_Easy
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS 
  RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR ;ALLIES
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 5
    DamageScalar  = 0% NONE +EntMoot +ElvenEntMoot
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = GOOD_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;----------------------------
Weapon WatcherHittingArmWeaponVSMany
	AttackRange = 150
	AcceptableAimDelta = 25
	PreAttackDelay = 1000
	FiringDuration = 1000
	DelayBetweenShots = Min:3000 Max:5000
	DamageDealtAtSelfPosition = Yes

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 200
		Radius        = 175
		DamageArc      = 25
		DamageType    = SIEGE
		DamageFXType  = CLUBBING
		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount   = 75.0
		ShockWaveRadius   = 175
		ShockWaveTaperOff = 0.75
		ShockWaveArc      = 25
		ShockWaveZMult    = 1.20
;		HeroResist		  = 90
	End
End

;----------------------------
Weapon WatcherHittingArmWeaponVSOne
	AttackRange = 80
	AcceptableAimDelta = 25
	PreAttackDelay = 1000
	FiringDuration = 1000
	DelayBetweenShots = Min:3000 Max:5000

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 300
		Radius        = 25
		DamageType    = SIEGE
		DamageFXType  = CLUBBING
		DeathType     = NORMAL
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount   = 75.0
		ShockWaveRadius   = 25
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.20
;		HeroResist		  = 50
	End
End

;------------------------------------------------------------------------------
Weapon HeroCrush  ; Used when a hero runs someone over.  
  LeechRangeWeapon      = Yes
  AttackRange           = 9999999.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0
  FireFX				= FX_HeroCrushImpactSound
  
  DamageNugget                  ; A basic Nugget that just does damage
    Damage        = 160		; A whole lot of damage.
    Radius        = 0.0
    DelayTime     = 0
    DamageType    = HERO
    DeathType     = CRUSHED
  End
End

;------------------------------------------------------------------------------
Weapon FloodHorseRadiusWeapon ; Shot out every DelayBetweenShots
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	LeechRangeWeapon      = Yes
	AttackRange           = 9999999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0            ; time between shots, msec
	PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0 

	DamageNugget                  ; A basic Nugget that just does damage
		Damage        = 142		; A whole lot of damage.
		DamageScalar  = 35% NONE +COMMANDCENTER
		Radius        = 40.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLOOD_HORSE
		DeathType     = CRUSHED
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
		DelayTime		= 200  
	End
	
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 75.0
		; ShockWaveArc	  = 75
		ShockWaveRadius   = 40.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End

//------------------------------------------------------------------------------
Weapon FloodGateHorseRadiusWeapon			// Shot out every DelayBetweenShots
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	LeechRangeWeapon		= Yes
	AttackRange				= 9999999.0
	MeleeWeapon				= No
	DelayBetweenShots		= 0				// time between shots, msec
	PreAttackDelay			= 0				// PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType			= PER_SHOT 
	FiringDuration			= 0 

	// A basic Nugget that just does damage
	DamageNugget							
		Damage        = ELVEN_FLOODGATE_EXPANSION_FLOOD_HORSE_DAMAGE	// A whole lot of damage.
		Radius        = ELVEN_FLOODGATE_EXPANSION_FLOOD_HORSE_RADIUS
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = FLOOD_HORSE
		DeathType     = CRUSHED
		DamageScalar  = 0% ANY ALLIES +STRUCTURE						// No damage to allied structures.
	End

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
		DelayTime		= 200  
	End
	
	// A Nugget that throws things back with force
	MetaImpactNugget                    
;		HeroResist			= .75
		ShockWaveAmount		= 70.0
		// ShockWaveArc		= 75
		ShockWaveRadius		= 40.0
		ShockWaveTaperOff	= 0.75
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 700.0 
	End
End

Weapon DragonStrikeStrafeWeapon
	IdleAfterFiringDelay = 0
	AttackRange			= 60.0
	WeaponSpeed			= 401         ; dist/sec 
	RadiusDamageAffects	= ALLIES NEUTRALS ENEMIES NOT_SIMILAR 
	DelayBetweenShots		= 5000               ; time between shots, msec
	PreAttackDelay        = 1600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlast
	FireFX                = NONE ;FX_BalrogBreath ---- commented out for E3, now controled by particle spawning
	FiringDuration		= 1400
	DamageDealtAtSelfPosition = No 
	

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 3000 // lots of damage
		Radius			= 25.0 // Just a spot, the update module will spray it around as it goes
		DelayTime		= 500
		DamageType		= FLAME
		DamageFXType		= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 60 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
		DamageScalar  = 25% ALL -STRUCTURE; 
		DamageScalar  = 25% NONE +COMMANDCENTER
	End

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 2000 // less damage
		Radius			= 65.0 // big spray, to make sure everyone gets some!
		DelayTime		= 500
		DamageType		= FLAME
		DamageFXType		= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 60 ;We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
		DamageScalar  = 25% ALL -STRUCTURE; 
		DamageScalar  = 25% NONE +COMMANDCENTER
	End


	FireLogicNugget
		LogicType		= INCREASE_FUEL
		Radius			= 40
		Damage			= 40
		MinMaxBurnRate	= 20
		MaxResistance	= 5
	End
	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 20
		Damage			= 20
	End


End

;------------------------------------------------------------------------------
Weapon WyrmAppearWeapon									; used in the OCL that makes a wyrm.

	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange			= 4.0

	DamageNugget
		Damage        = WYRM_APPEAR_DAMAGE
		Radius        = WYRM_APPEAR_RADIUS
		DelayTime     = 0
		DamageType    = CRUSH
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		DamageScalar  = 0% NONE +Wyrm
	End

	MetaImpactNugget
		ShockWaveAmount			= 75
		ShockWaveRadius			= WYRM_APPEAR_SH_RADIUS
		ShockWaveTaperOff		= 0.9
		ShockWaveZMult			= 1.20
		DelayTime				= 0
		ShockWaveClearRadius	= Yes
		ShockWaveClearMult		= 0.75
		ShockWaveClearFlingHeight = 25
	End

End

;------------------------------------------------------------------------------
Weapon WyrmDisappearWeapon				;used when a wyrm goes underground.

	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange           = 4.0

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount		= 25
		ShockWaveRadius		= 10.0
		ShockWaveTaperOff	= 0.9
		ShockWaveZMult		= 1.20
		DelayTime			= 333
	End
  
End

;------------------------------------------------------------------------------
Weapon WyrmDeathWeapon				;used in the OCL that makes a wyrm.

	RadiusDamageAffects	= ALLIES ENEMIES NOT_SIMILAR
	AttackRange           = 4.0

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 10
		Radius        = 30.0
		DelayTime     = 0
		DamageType    = FORCE
		DamageFXType  = SWORD_SLASH
		DeathType     = NORMAL
		DamageScalar  = 0% NONE +Wyrm
	End

	MetaImpactNugget                    ; A Nugget that throws things back with force
		ShockWaveAmount		= 25
		ShockWaveRadius		= 30.0
		ShockWaveTaperOff	= 0.9
		ShockWaveZMult		= 1.20
		DelayTime			= 0
	End
  
End

;------------------------------------------------------------------------------
Weapon WyrmFireBreath
	IdleAfterFiringDelay		= 0
	AttackRange					= #MULTIPLY( WYRM_FIRE_RADIUS 1.1 )
	WeaponSpeed					= 400										; dist/sec
	RadiusDamageAffects			= ALLIES ENEMIES NOT_SIMILAR
	DelayBetweenShots			= WYRM_FIRE_DELAYBETWEENSHOTS               ; time between shots, msec
	PreAttackDelay				= 1800     ;WYRM_FIRE_PREATTACKDELAY   ;commented out because it needs to match the animation
	PreAttackType				= PER_SHOT
	FiringDuration				= 3000    ;WYRM_FIRE_FIRINGDURATION  ;commented out because it needs to match the animation
	AcceptableAimDelta			= 10

	DamageNugget															; A basic Nugget that just does damage
		Damage			= WYRM_FIRE_DAMAGE
		Radius			= WYRM_FIRE_RADIUS
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageArc		= 45
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
		DamageSpeed		= 400
	End

	; To catch the units standing right on the point of the triangle.
	DamageNugget															; A basic Nugget that just does damage
		Damage			= WYRM_FIRE_DAMAGE
		Radius			= 20
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		DamageMaxHeight = 50												; We won't hurt something far above us.  Birds fly at around 100
	End


	FireLogicNugget
		LogicType		= INCREASE_BURN_RATE
		Radius			= 50
		DelayTime		= 1000
		Damage			= 10
	End

End

;------------------------------------------------------------------------------
Weapon PorterFireExtinguisher	
	AttackRange = 150

	FireLogicNugget
		LogicType		= DECREASE_BURN_RATE
		Radius			= PORTER_FIRE_EXTINGUISHER_DECREASEBURNRATE_RADIUS
		Damage			= PORTER_FIRE_EXTINGUISHER_DECREASEBURNRATE_AMOUNT
	End
End
;==========================MAP SPECIFIC WEAPON==================================

Weapon GoblinArcherBow_GoodRivendell
  
	AttackRange			= GOBLIN_ARCHER_RANGE   ;Horde member so it needs to be bigger than the horde weapon attack range.
   
   	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( GOBLIN_ARCHER_RANGE .003 )
   
   
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 20.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = GOBLIN_ARCHER_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:GOBLIN_ARCHER_BOW_RELOADTIME_MIN Max:GOBLIN_ARCHER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GOBLIN_ARCHER_BOW_RELOADTIME_MAX 
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = GoblinArcherBowWarhead_GoodRivendell
		ForbiddenUpgradeNames   = Upgrade_WildFireArrows
	End
	
	ProjectileNugget    ; Fire Arrow
		ProjectileTemplateName  = EvilFactionFireArrow
		WarheadTemplateName      = GoblinArcherBowFireWarhead
		RequiredUpgradeNames     = Upgrade_WildFireArrows
	End
End

Weapon GoblinArcherBowWarhead_GoodRivendell
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 5
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End
;==========================That is all for Evil Erebor modifications========================



// These are weapons used for debug purposes only
Weapon DebugWeapon1
	RadiusDamageAffects = SELF ALLIES
	MetaImpactNugget
;		HeroResist			= 0
		ShockWaveAmount		= 50
		ShockWaveRadius		= 10
		ShockWaveArc		= 180
		ShockWaveTaperOff	= 1
		ShockWaveSpeed		= 0
		ShockWaveZMult		= 1
	End
End
Weapon DebugWeapon2
	RadiusDamageAffects = SELF ALLIES
	DamageNugget
		Damage			= 100000
		Radius			= 2
		DamageType		= FLAME
		DamageFXType	= FLAME
		DeathType		= BURNED
		AcceptDamageAdd = No
	End
End
Weapon DebugWeapon3
	RadiusDamageAffects = SELF ALLIES
	DamageNugget
		Damage			= 100000
		Radius			= 2
		DamageType		= SLASH
		DamageFXType	= GOOD_ARROW_PIERCE
		DeathType		= NORMAL
		AcceptDamageAdd = No
	End
	MetaImpactNugget
		ShockWaveAmount		= 100
		ShockWaveRadius		= 10
		ShockWaveArc		= 180 
		ShockWaveTaperOff	= 1
		ShockWaveSpeed		= 0
		ShockWaveZMult		= 1
	End
End

//------------------------------------------------------------------------------
Weapon EregionForgeLevel3Weapon
	AttackRange         = ELVEN_MIRKWOOD_ARCHER_RANGE	// increased range
	WeaponSpeed			= 321         // dist/sec 
	MinWeaponSpeed      = 241
	MaxWeaponSpeed      = 481      // dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_RohanArcherBowWeapon
	ScaleWeaponSpeed    = Yes // Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     //When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     //When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 360	// prevent twitchy reaiming in horde on horde
	DelayBetweenShots   = 0
	PreAttackDelay      = ROHAN_YEOMAN_PREATTACKDELAY  
	PreAttackRandomAmount     = 200  
	PreAttackType       = PER_POSITION
	FiringDuration      = 0   

	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ROHAN_YEOMAN_BOW_RELOADTIME_MIN Max:ROHAN_YEOMAN_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ROHAN_YEOMAN_BOW_RELOADTIME_MAX 

	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes // Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	// Default arrow
		ProjectileTemplateName  = MirkwoodArcherSilverthornProjectile
		WarheadTemplateName     = MirkwoodArcherSilverthornBowWarhead
	End
End

//------------------------------------------------------------------------------
Weapon AngmarNecroCorpseRainWeapon
	AttackRange			= 300
	WeaponSpeed			= 801		; dist/sec 
	HitPercentage			= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots		= 2000		; time between shots, msec
	PreAttackDelay     		= 400
	PreAttackType       		= PER_SHOT	*; Do the delay each time we attack a new target
	
	FiringDuration      		= 1100
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	WeaponOCLNugget
		WeaponOCLName = OCL_AngmarNecroCorpseRainSeedMain
	End
End

//-----------------------------
Weapon AngmarNecroSoulFreezeWeapon
	RadiusDamageAffects		= ENEMIES NEUTRALS ALLIES SELF
;	FireFX				= FX_SoulFreezeWeapon    

	//Paralyze everything 
	ParalyzeNugget				
		Radius			= ANGMAR_NECRO_SOUL_FREEZE_ATTACK_RADIUS
		Duration		= ANGMAR_NECRO_SOUL_FREEZE_DURATION
		SpecialObjectFilter     = ALL -STRUCTURE ;-HORDE
		ParalyzeFX		= FX_IceStunEffect
		FreezeAnimation = Yes
		AffectHordeMembers 	= Yes		//This will propagate the effect down to the horde members
	End
	
	//Make everything invulerable
	AttributeModifierNugget
		AttributeModifier        = SoulFreezeModifier
		Radius			 = ANGMAR_NECRO_SOUL_FREEZE_ATTACK_RADIUS		
		SpecialObjectFilter      = ALL -STRUCTURE ;-HORDE
		AffectHordeMembers 	= Yes		//This will propagate the effect down to the horde members
	End 
End

//-----------------------------
Weapon AngmarNecroBlackIceWeapon
	RadiusDamageAffects		= ENEMIES NEUTRALS

	//Slow Everything Down
	AttributeModifierNugget
		AttributeModifier        = BlackIceModifier
		Radius			 = ANGMAR_NECRO_BLACK_ICE_ATTACK_RADIUS		
        	SpecialObjectFilter      = ANY +INFANTRY +CAVALRY +MONSTER -STRUCTURE -Drogoth -GondorGwaihir_Summoned -GondorGwaihir -MordorFellBeast -MordorWitchKingOnFellBeast -ElvenFortressEagle -SpellBookDragonStrikeDragon -KhamulFellBeast -MorgomirFellBeast ENEMIES 
	End      


End


//------------------------------------------------------------------------------

Weapon DwarvenUndermineSpawnWeapon	
	MetaImpactNugget
		KillObjectFilter			= INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		SpecialObjectFilter			= SPELL_UNDERMINE_AFFECTS_OBJECT_FILTER
		ShockWaveAmount				= 100.0												; balance
		ShockWaveRadius				= SPELL_UNDERMINE_SPAWN_DAMAGE_RADIUS
		ShockWaveClearRadius		= Yes
		ShockWaveClearMult			= 0.75
		ShockWaveClearFlingHeight	= 75
	End
End

Weapon DevastationEntWeapon
	DamageNugget
		SpecialObjectFilter	= NONE +RohanGenericEnt +RohanTreeBerd ENEMIES
		Damage				= SPECIALPOWER_DEVASTATION_ENT_DAMAGE
		Radius				= SPECIALPOWER_DEVASTATION_RADIUS	
		DamageType			= SLASH
		DamageFXType		= BIG_ROCK
		DeathType			= NORMAL
		DamageArc 			= 360
	End
End

;-------------------Angmar Special Weapons ---------------------
;------------------------------------------------------------------------------
Weapon NecroWellOfSoulsAttack ; Modeled after the Gandalf word of power
	IdleAfterFiringDelay = 0
	AttackRange = ANGMAR_NECRO_WELL_OF_SOULS_START_RANGE
	WeaponSpeed			= 801      ; dist/sec 
	HitPercentage			= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots		= 500	; time between shots, msec
	PreAttackDelay      		= 200	
	PreAttackType       		= PER_ATTACK	; Do the delay each time we attack a new target
	;FireFX              		= FX_WellOfSoulsSuck
	
	FiringDuration      		= 1000
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage			= ANGMAR_NECRO_WELL_OF_SOULS_DAMAGE
;		Radius			= ANGMAR_NECRO_WELL_OF_SOULS_ATTACK_RADIUS
;		DamageType    		= FROST
;		DamageFXType  		= NECRO2 ;ELECTRIC
;		DeathType     		= BURNED
;		DamageSpeed		= 1700.0
;	End
	DOTNugget                        // A basic Nugget that just does damage
		Damage        		= 5
		AcceptDamageAdd 	= No
		Radius        		= ANGMAR_NECRO_WELL_OF_SOULS_ATTACK_RADIUS
		DelayTime     		= 0
		DamageType    		= POISON
   		DamageSubType   	= BECOME_UNDEAD_ONCE
		DamageFXType  		= POISON
		DeathType     		= NORMAL
		DamageInterval 		= 1000
		DamageDuration 		= 10000
		SpecialObjectFilter 	= AFFECTED_BY_POISON_OBJECTFILTER
	End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;;		HeroResist			= .75
;		ShockWaveAmount   = 15.0
;		ShockWaveRadius   = ANGMAR_NECRO_WELL_OF_SOULS_ATTACK_RADIUS
;		ShockWaveTaperOff = 1.0
;		ShockWaveZMult    = 1.000
;		ShockWaveSpeed	  = 1700.0 
;	End
End

;------------------------------------------------------------------------------
;Weapon NecroWellOfSouls ; Big Blue Ring Blast
;   	IdleAfterFiringDelay = 0
;	AttackRange = 300
;	MinimumAttackRange = 0.8
;	;WeaponSpeed = 900401         ; dist/sec 
;	;MinWeaponSpeed = 241
;	;MaxWeaponSpeed = 900000      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
;	;ScaleWeaponSpeed = No ; Used for lob weapons, scales speed proportional to range
;	RadiusDamageAffects = ENEMIES NOT_SIMILAR
;	DelayBetweenShots = 50               ; time between shots, msec
;	;PreAttackDelay        = 200
;	;PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
;	;PreAttackFX           = FX_GandalfPreAttackBlastReal
;	;FireFX                = FX_GandalfBlast
;	FiringDuration      = 100
;	DamageNugget                        ; A basic Nugget that just does damage
;		Damage			= ANGMAR_NECRO_WELL_OF_SOULS_DAMAGE
;		Radius			= ANGMAR_NECRO_WELL_OF_SOULS_ATTACK_RADIUS
;		DamageType		= MAGIC
;		DamageFXType	= MAGIC
;		DeathType		= EXPLODED
;		DamageSpeed		= 18000.0 ; must match the ShockWaveSpeed below
;	End
;
;End

;------------------------------------------------------------------------------
Weapon NecroFellStrength ; Big Blue Ring Blast
   	IdleAfterFiringDelay 		= 0
	AttackRange 			= 300
	MinimumAttackRange 		= 0.8
	RadiusDamageAffects 		= ENEMIES NOT_SIMILAR
	DelayBetweenShots 		= 50               ; time between shots, msec
	FiringDuration      		= 100

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= ANGMAR_NECRO_FELL_STRENGTH_ATTACK_DAMAGE
		Radius			= ANGMAR_NECRO_FELL_STRENGTH_ATTACK_RADIUS
		DamageType		= FROST
		DamageFXType		= NECRO2
		DeathType		= EXPLODED
		DamageSpeed		= 18000.0 ; must match the ShockWaveSpeed below
	End

	ParalyzeNugget
		Radius			= ANGMAR_NECRO_FELL_STRENGTH_ATTACK_RADIUS
		Duration		= 2000
		SpecialObjectFilter	= ALL -STRUCTURE
		ParalyzeFX		= FX_GenericDebuff
	End

End

;-----------------------------------
Weapon AngmarArcherBowWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ANGMAR_RANGER_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

Weapon AngmarArcherBowBombardWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = ANGMAR_RANGER_DAMAGE
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End
End

;------------------------------------------------------------------------------
; BEGIN: Angmar Ice Arrows stuff
;------------------------------------------------------------------------------

Weapon AngmarArcherBowIceWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 
  HitStoredTarget = Yes	; Always hits initial target.
  DamageNugget                       
    Damage        = ANGMAR_RANGER_DAMAGE_FROST
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = FROST
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = BURNED
    AcceptDamageAdd = No
    DamageScalar  = 25% NONE +STRUCTURE
     DamageScalar  = 0% NONE +MINE // Make sure we one shot kill mines, without risking wasting some poor hero with a torch
  End


  DamageNugget                       
    Damage        = ANGMAR_RANGER_DAMAGE_FROST_PIERCE		
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
     DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End

End

Weapon AngmarArcherBowBombardIceWarhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR 

  DamageNugget                       
    Damage        = ANGMAR_RANGER_DAMAGE_FROST
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = FROST
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = BURNED
    AcceptDamageAdd = No
    DamageScalar  = 25% NONE +STRUCTURE
     DamageScalar  = 0% NONE +MINE // Make sure we one shot kill mines, without risking wasting some poor hero with a torch
  End


  DamageNugget                       
    Damage        = ANGMAR_RANGER_DAMAGE_FROST_PIERCE		
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = PIERCE
    DamageFXType  = EVIL_ARROW_PIERCE
    DeathType     = NORMAL
  End

End

;------------------------------------------------------------------------------
Weapon AngmarFortressBattleTowerBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
	ProjectileTemplateName  = EvilFactionArrow
	WarheadTemplateName     = AngmarArcherBowWarhead
	ForbiddenUpgradeNames   = Upgrade_AngmarFortressIceMunitions
  End

  ProjectileNugget          ; Upgraded arrow
	ProjectileTemplateName  = EvilFactionIceArrow
	WarheadTemplateName     = AngmarArcherBowBombardIceWarhead
	RequiredUpgradeNames    = Upgrade_AngmarFortressIceMunitions
  End
End

;------------------------------------------------------------------------------
Weapon AngmarBattleTowerBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent


  ProjectileNugget          ; Default arrow
	ProjectileTemplateName  = EvilFactionArrow
	WarheadTemplateName     = AngmarArcherBowWarhead
	ForbiddenUpgradeNames   = Upgrade_AngmarTowerIceArrow
  End

  ProjectileNugget          ; Upgraded arrow
	ProjectileTemplateName  = EvilFactionIceArrow
	WarheadTemplateName     = AngmarArcherBowBombardIceWarhead
	RequiredUpgradeNames    = Upgrade_AngmarTowerIceArrow
  End
End
;------------------------------------------------------------------------------
Weapon CarnDumBattleTowerBow       ; BALANCE Archer Weapon
  AttackRange               = GONDOR_STRUCTURE_ARCHER_RANGE
  WeaponSpeed               = 321       ; dist/sec 
  MinWeaponSpeed            = 241
  MaxWeaponSpeed            = 481		; dist/sec Upper limit on scaling, when attacking past nominal "max" range
  FireFX                    = FX_RohanArcherBowWeapon
  ScaleWeaponSpeed          = Yes		; Used for lob weapons, scales speed proportional to range
  HitPercentage             = 100		;When this weapon is used it will hit exactly 50% of the time.
  ScatterRadius             = 16.0		;When this weapon misses it can randomly miss by as much as this distance.
  DelayBetweenShots         = Min:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MIN Max:GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX
  PreAttackDelay            = GONDOR_STRUCTURE_ARCHER_BOW_PREATTACKDELAY   ; 1467 is the prep time for archer.
  PreAttackType             = PER_SHOT	; Do the delay each time we attack a new target
  FiringDuration            = GONDOR_STRUCTURE_ARCHER_BOW_DELAYBETWEENSHOTS_MAX    ; Duration of the archer firing shot is 500ms.
  IsAimingWeapon            = Yes
  AntiAirborneVehicle		= Yes
  AntiAirborneMonster		= Yes
  HitPassengerPercentage	= 20%
  AcceptableAimDelta		= 360.0	; We want to be able to shoot all round, as we canit move.

  CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent



  ProjectileNugget          ; Upgraded arrow
	ProjectileTemplateName  = EvilFactionIceArrow
	WarheadTemplateName     = AngmarArcherBowBombardIceWarhead
  End
End
;------------------------------------------------------------------------------
Weapon AngmarArcherBow       ; BALANCE Archer Weapon ;orc archer
	AttackRange			= ANGMAR_RANGER_RANGE   

	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( ANGMAR_RANGER_RANGE .003 )   
   
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius		= 20.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = ANGMAR_RANGER_BOW_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ANGMAR_RANGER_BOW_RELOADTIME_MIN Max:ANGMAR_RANGER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ANGMAR_RANGER_BOW_RELOADTIME_MAX 
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrow
		WarheadTemplateName     = AngmarArcherBowWarhead
		ForbiddenUpgradeNames   = Upgrade_AngmarIceArrows
	End
	ProjectileNugget	; Ice arrow available through upgrade
		ProjectileTemplateName  = EvilFactionIceArrow
		WarheadTemplateName     = AngmarArcherBowIceWarhead
		RequiredUpgradeNames    = Upgrade_AngmarIceArrows
	End
End


Weapon AngmarArcherBowBombard       ; BALANCE Archer Weapon ;orc archer
	AttackRange		= ANGMAR_RANGER_BOMBARD_MAXRANGE   ;Horde member so it needs to be bigger than the horde weapon attack range.
	MinimumAttackRange	= #SUBTRACT( ANGMAR_RANGER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( ANGMAR_RANGER_BOMBARD_MAXRANGE .003 )   
	
	
    LeechRangeWeapon    = Yes
	WeaponSpeed			= 300         ; dist/sec 
	MinWeaponSpeed		= 121
	MaxWeaponSpeed		= 400      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon  
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 0     ;Always scatter
	ScatterRadius		= ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 0
	PreAttackDelay      = ANGMAR_RANGER_BOW_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize			= 1
	AutoReloadsClip		= Yes
	AutoReloadWhenIdle	= 1	
	ClipReloadTime		= Min:ANGMAR_RANGER_BOW_RELOADTIME_MIN Max:ANGMAR_RANGER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= ANGMAR_RANGER_BOW_RELOADTIME_MAX 
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	NoVictimNeeded		= Yes
	BombardType			= Yes

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = EvilFactionArrowBombard
		WarheadTemplateName     = AngmarArcherBowBombardWarhead
		ForbiddenUpgradeNames   = Upgrade_AngmarIceArrows
	End
	ProjectileNugget	; Ice arrow available through upgrade
		ProjectileTemplateName  = EvilFactionIceArrowBombard
		WarheadTemplateName     = AngmarArcherBowBombardIceWarhead
		RequiredUpgradeNames    = Upgrade_AngmarIceArrows
	End
End

;------------------------------------------------------------------------------
; END: Angmar Ice Arrows stuff
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
Weapon AngmarShadeofWolfSwipe     ; BALANCE Balrog Weapon
  ;LeechRangeWeapon      = Yes
  AttackRange           = 30.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 1000            ; time between shots, msec
  PreAttackDelay        = 1000             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_SauronMaceHit
  FiringDuration        = 1000    ; Duration of the mace swing 
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = SHADEOFWOLF_SWORD_SWIPE_DAMAGE_FROST
;    DamageScalar  = 25% NONE +COMMANDCENTER			
    Radius        = 70.0
    DamageType    = FROST
    DamageFXType  = MAGIC
    DeathType     = BURNED
    DamageArc      = 90
  End

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = SHADEOFWOLF_SWORD_SWIPE_DAMAGE_NORMAL
;    DamageScalar  = 20% NONE +COMMANDCENTER		
    Radius        = 70.0
    DamageType    = HERO
    DamageFXType  = MAGIC
    DeathType     = NORMAL
    DamageArc      = 90
  End
  
;	FireLogicNugget						; Lights flammables on fire
;		LogicType	= INCREASE_BURN_RATE
;		Radius		= 70.0
;		Damage		= BALROG_SWORD_SWIPE_DAMAGE_FLAME
;	End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	KillObjectFilter  = INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
    ShockWaveAmount   = 140.0
    ShockWaveRadius   = 70.0
    ShockWaveTaperOff = 0.75
    ShockWaveArc      = 90
    ShockWaveZMult    = 0.600
  End
End


//------------------------------------------------------------------------------
Weapon AvalancheRadiusWeapon			// Shot out every DelayBetweenShots
	RadiusDamageAffects		= ENEMIES NEUTRALS NOT_SIMILAR
	LeechRangeWeapon		= Yes
	AttackRange				= 9999999.0
	MeleeWeapon				= No
	DelayBetweenShots		= 0				// time between shots, msec
	PreAttackDelay			= 0				// PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType			= PER_SHOT 
;	FireFX               		= FX_PackWolfHit
	FiringDuration			= 0 

	// A basic Nugget that just does damage
	DamageNugget							
		Damage        = AVALANCHE_DAMAGE	// A whole lot of damage.
		Radius        = AVALANCHE_RADIUS
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = BIG_ROCK
		DeathType     = CRUSHED
;		DamageScalar  = 33% NONE +STRUCTURE					// No damage to allied structures.
	End


	// A Nugget that throws things back with force
	MetaImpactNugget                    
		HeroResist		= .75
		ShockWaveAmount		= 50.0
		ShockWaveArc		= 90
		ShockWaveRadius		= 40.0
		ShockWaveTaperOff	= 0.75
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 300.0 
	End
End


;------------------------------------------------------------------------------
Weapon AvalancheCrush  .
  LeechRangeWeapon      = Yes
  AttackRange           = 50.0
  MeleeWeapon           = No
  DelayBetweenShots     = 0            ; time between shots, msec
  PreAttackDelay        = 0 ;PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
  PreAttackType         = PER_SHOT 
  FiringDuration        = 0 ;
;  FireFX		= FX_GenericCrushImpactSound

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = BALROG_CRUSH_DAMAGE				; A whole lot of damage.
    Radius        = 50.0
    DelayTime     = 0
    DamageType    = CRUSH
    DeathType     = CRUSHED
    DamageScalar  = 1000% ANY +TREE +SHRUBBERY
  End
End


//------------------------------------------------------------------------------
Weapon PackWolfRadiusWeapon			// Shot out every DelayBetweenShots
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	LeechRangeWeapon		= Yes
	AttackRange				= 9999999.0
	MeleeWeapon				= No
	DelayBetweenShots		= 0				// time between shots, msec
	PreAttackDelay			= 0				// PreAttackDelay+FiringDuration = UseWeaponTiming = Yes duration
	PreAttackType			= PER_SHOT 
	FireFX               		= FX_PackWolfHit
	FiringDuration			= 0 

	// A basic Nugget that just does damage
	DamageNugget							
		Damage        = ANGMAR_SHADE_PACK_DAMAGE	// A whole lot of damage.
		Radius        = ANGMAR_SHADE_PACK_RADIUS
		DelayTime     = 0
		DamageType    = HERO
		DamageFXType  = SWORD_SLASH
		DeathType     = CRUSHED
		DamageScalar  = 0% ANY ALLIES +STRUCTURE						// No damage to allied structures.
		DamageScalar  = 50% ANY ENEMIES +STRUCTURE						// No damage to allied structures.
	End


	// A Nugget that throws things back with force
	MetaImpactNugget                    
		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveArc		= 90
		ShockWaveRadius		= 40.0
		ShockWaveTaperOff	= 0.75
		ShockWaveZMult		= 1.000
		ShockWaveSpeed		= 300.0 
	End
End
;------------------------------------------------------------------------------
Weapon ShadeCallthePack
;	FireFX					= FX_ArwenFlood
	AttackRange				= 150

	WeaponOCLNugget
		WeaponOCLName		= OCL_CallthePack
	End

;	FireLogicNugget
;		LogicType		= DECREASE_BURN_RATE
;		Radius			= ARWEN_FLOOD_DECREASEBURNRATE_RADIUS
;		Damage			= ARWEN_FLOOD_DECREASEBURNRATE_AMOUNT
;		DelayTime		= 200  
;	End
End


;------------------------------------------------------------------------------
Weapon AngmarShadeChompWeapon
	AttackRange        		= 12.0
	DelayBetweenShots		= 30            ; time between shots, msec
	FiringDuration			= 30
	MeleeWeapon			= Yes
	ChaseWeapon			= Yes ; Not full melee, but we get to move to attack a passive acquire, even if player owned.
	LeechRangeWeapon		= Yes

	GrabNugget                    			; A Nugget that makes me grab you
		SpecialObjectFilter		= NONE +INFANTRY -HERO
		ContainTargetOnEffect   = Yes
		RemoveTargetFromOtherContain = Yes	; Rip out of any other contain (eg horde)
		ImpactTargetOnEffect	= Yes ;... if for some reason, I can not contain you, I'll try to give you a shove
		ShockWaveAmount   	= 50.0
		ShockWaveRadius   	= 16.0
		ShockWaveTaperOff 	= 0.75
		ShockWaveZMult    	= 1.1
	End
	
	SpecialModelConditionNugget
		ModelConditionNames = STUNNED_FLAILING
		ModelConditionDuration = 1250
	End

End

;------------------------------------------------------------------------------
Weapon AngmarShadeChompWarhead
  ProjectileCollidesWith = ENEMIES NEUTRAL STRUCTURES WALLS ; Remember, the projectile is a rock, who has no allies
  RadiusDamageAffects	= ENEMIES NEUTRALS SELF				; Self for when this warhead is attached to an already grabbed unit being thrown as projectile instead of a rock
  DamageNugget
	SpecialObjectFilter		= NONE +INFANTRY -HERO
	Radius		  = 0.0				; Second damage nugget does instant death for only the direct target (which will be the unit thrown)
	DamageType    = FROST
    DeathType     = CRUSHED
    ForceKillObjectFilter	= NONE +INFANTRY -HERO
  End
End

//------------------------------------------------------------------------------
//Fake weapon so that the expansion will pick targets that the slaved catapult can attack
Weapon AngmarStoneThrowerExpansionWeapon		
	AttackRange					= ANGMAR_STONETHROWER_ROCK_RANGE
	MinimumAttackRange			= ANGMAR_STONETHROWER_ROCK_MINRANGE
	LeechRangeWeapon			= Yes
	DelayBetweenShots			= ANGMAR_STONETHROWER_ROCK_DELAYBETWEENSHOTS  
	PreAttackDelay				= ANGMAR_STONETHROWER_ROCK_PREATTACKDELAY
	FiringDuration      		= ANGMAR_STONETHROWER_ROCK_FIRINGDURATION
	AcceptableAimDelta			= ANGMAR_STONETHROWER_EXPANSION_AIM_DELTA  
	FinishAttackOnceStarted		= Yes    

	//This nugget tells the objects slave to perform the attack
	SlaveAttackNugget
	End
End

;-----------------------------------
Weapon AngmarStoneThrowerRock  ; BALANCE Catapult Weapon
  ScatterRadiusVsInfantry     = 40.0 ; 

  AttackRange = ANGMAR_STONETHROWER_ROCK_RANGE
  MinimumAttackRange	= 100.0
  
  RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( ANGMAR_STONETHROWER_ROCK_RANGE .003 )
	
	
  WeaponSpeed			= 321         ; dist/sec 
  MinWeaponSpeed		= 321
  FireFX			= FX_CatapultWeapon

  DelayBetweenShots		= ANGMAR_STONETHROWER_ROCK_DELAYBETWEENSHOTS; time between shots, msec
  FXTrigger			= CATAPULT_ROCK
  PreAttackDelay		= ANGMAR_STONETHROWER_ROCK_PREATTACKDELAY
  PreAttackType			= PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration		= ANGMAR_STONETHROWER_ROCK_FIRINGDURATION    ; Catapult firing animation takes 3.0 secs.
;  RequireFollowThru		= Yes
;  ShareTimers			= Yes ; share timer with catapult heads to you can't fire both in quick succession
  NoVictimNeeded		= Yes ; Need no target
  LeechRangeWeapon		= Yes
  HoldAfterFiringDelay = 3500
  
  DisableScatterForTargetsOnWall = Yes
  HitPercentage       = 70 ; always hits.
  ScatterRadius       = 50.0     ;When this weapon misses it can randomly miss by as much as this distance.

  ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
    ProjectileTemplateName = RockBigTroll
    WarheadTemplateName = AngmarStoneThrowerRockWarhead
  End
End

;------------------------------------------------------------------------------
Weapon AngmarStoneThrowerRockWarhead
	ProjectileCollidesWith = MONSTERS NEUTRAL STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%


	// A Nugget that throws things back with force 
	MetaImpactNugget                    
		ShockWaveAmount   = 35.0
		ShockWaveRadius   = 30.0
		ShockWaveTaperOff = 0.75
	End
	
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = ANGMAR_STONETHROWER_FROST_DAMAGE
	    Radius        = 30 ;20.0
	    DelayTime     = 0
	    DamageType    = FROST
	    DamageFXType  = BIG_ROCK
	    DeathType     = BURNED
	    AcceptDamageAdd = No
	    DamageScalar  = 0% ALL ALLIES			; No damage to allies
	    DamageScalar  = 25% ANY ENEMIES +INFANTRY
	    DamageScalar  = 25% ANY ENEMIES +CAVALRY 
	End
	    ; No damage to allies
	
	
	 DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ANGMAR_STONETHROWER_ROCK_DAMAGE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius        = 50.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
		DamageScalar	= 0% ALL ALLIES	
	    DamageScalar  = 25% ANY ENEMIES +INFANTRY
	    DamageScalar  = 25% ANY ENEMIES +CAVALRY 
	End
End

;------------------------------------------------------------------------------
Weapon AngmarStoneThrowerIceRock
	AttackRange			= ANGMAR_STONETHROWER_ICE_RANGE
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( ANGMAR_STONETHROWER_ICE_RANGE .003 )
	
	MinimumAttackRange	= 100.0
	WeaponSpeed			= 201         ; dist/sec 
	MinWeaponSpeed		= 201
	FireFX				= FX_CatapultWeapon
	DelayBetweenShots	= ANGMAR_STONETHROWER_ICE_DELAYBETWEENSHOTS; time between shots, msec
	FXTrigger			= CATAPULT_ROCK
	PreAttackDelay		= ANGMAR_STONETHROWER_ICE_PREATTACKDELAY
	PreAttackType		= PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration		= ANGMAR_STONETHROWER_ICE_FIRINGDURATION    ; Catapult firing animation takes 3.0 secs.
 	RequireFollowThru	= Yes
	ShareTimers			= Yes ; share timer with catapult rocks to you can't fire both in quick succession
	NoVictimNeeded		= Yes ; Need no target
    LeechRangeWeapon    = Yes
	HoldAfterFiringDelay = 3500
	
	HitPercentage			= 70 ;misses 50%
	ScatterRadius  		= 50.0     ;When this weapon misses it can randomly miss by as much as this distance.

	
	ProjectileNugget                    ; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= AngmarStoneThrowerIceProjectile
		WarheadTemplateName		= AngmarStoneThrowerIceWarhead
	End	
End

Weapon AngmarStoneThrowerIceWarhead
	ProjectileCollidesWith = MONSTERS NEUTRAL STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects = ENEMIES NEUTRALS ALLIES
	HitPassengerPercentage = 50%
	
	
	MetaImpactNugget                    
		ShockWaveAmount   = 35.0
		ShockWaveRadius   = 30.0
		ShockWaveTaperOff = 0.75
	End
	

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = ANGMAR_STONETHROWER_ICE_DAMAGE
	    Radius        = 20.0 ;20.0
	    DelayTime     = 0
	    DamageType    = FROST
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
	    AcceptDamageAdd = No
		DamageScalar	= 0% ALL ALLIES	
            DamageScalar  =  0% NONE +MINE // Make sure we one shot kill mines, without risking wasting some poor hero with a torch
	    DamageScalar  = 25% ANY ENEMIES +INFANTRY
	    DamageScalar  = 25% ANY ENEMIES +CAVALRY 
	End
	
	
	 DamageNugget                        ; A basic Nugget that just does damage
		Damage        = ANGMAR_STONETHROWER_ROCK_DAMAGEUPGRADE  ; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
		Radius        = 20.0
		DelayTime     = 0
		DamageType    = SIEGE
		DamageFXType  = BIG_ROCK
		DeathType     = EXPLODED
;		DamageScalar  = 0% ALL -WALL_UPGRADE -WALL_HUB -WALL_SEGMENT -DEFENSIVE_WALL			; No damage to allied structures.
		DamageScalar	= 0% ALL ALLIES	
	    DamageScalar  = 25% ANY ENEMIES +INFANTRY
	    DamageScalar  = 25% ANY ENEMIES +CAVALRY 
	    DamageScalar  = 150% ANY ENEMIES +STRUCTURE 
	End
End


;-----------------------------------
;//-----------------------------------
Weapon AngmarSanctumWeapon		;// BALANCE Spire Weapon
  	AttackRange			= ANGMAR_SANCTUM_ROCK_RANGE
  	MinimumAttackRange		= 100.0
  	WeaponSpeed			= 201			;// dist/sec 
  	MinWeaponSpeed			= 201
  	DelayBetweenShots		= ANGMAR_SANCTUM_ROCK_DELAYBETWEENSHOTS	;// time between shots, msec
  	FXTrigger			= CATAPULT_ROCK
  	PreAttackDelay			= ANGMAR_SANCTUM_ROCK_PREATTACKDELAY
  	PreAttackType			= PER_SHOT		;// Do the delay each time we attack a new target
  	FiringDuration			= ANGMAR_SANCTUM_ROCK_FIRINGDURATION		;// Catapult firing animation takes 3.0 secs.
  	RequireFollowThru		= Yes
  	ShareTimers			= Yes			;// share timer with catapult heads to you can't fire both in quick succession
  	NoVictimNeeded			= Yes			;// Need no target
  	LeechRangeWeapon		= Yes
  	
  	ScatterRadiusVsInfantry		= 40.0  
  	DisableScatterForTargetsOnWall	= Yes
  	HitPercentage			= 100	;// always hits.

	ProjectileNugget                    ;// A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName		= AngmarSanctumProjectile
		WarheadTemplateName		= AngmarSanctumWarhead
		WeaponLaunchBoneSlotOverride 	= SECONDARY	
	End														   
End

;//-----------------------------------
Weapon AngmarSanctumWarhead
	ProjectileCollidesWith	= MONSTERS	STRUCTURES	; Structures is the default, btw.
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR

;	FireLogicNugget
;		LogicType		= INCREASE_FUEL
;		Radius			= 50
;		Damage			= 400
;		MinMaxBurnRate	= 12
;		MaxResistance	= 5
;	End
;	
;	FireLogicNugget ;//@@@ fire logic testing
;		LogicType	=	INCREASE_BURN_RATE
;		Radius		=	50
;		Damage		=	5
;	End

	
	DamageNugget                        ; A basic Nugget that just does damage
	    Damage        = ANGMAR_SANCTUM_ROCK_DAMAGE	; Hella damage.  structures are on a different order of magnitude for hitpoints, and we want to be sure to outscore the fire damage so we can knock bits off.
	    Radius        = 150 ;20.0
	    DelayTime     = 0
	    DamageType    = SIEGE
	    DamageFXType  = BIG_ROCK
	    DeathType     = EXPLODED
;		DamageScalar  = 0% ANY +STRUCTURE			; No damage to allied structures.
	End

	DamageNugget                        ; A basic Nugget that just does damage
	    Damage			= ANGMAR_SANCTUM_FROST_DAMAGE
	    Radius			= 150 ;20.0
	    DelayTime		= 0
	    DamageType		= FROST
	    DamageFXType	= BIG_ROCK
	    DeathType		= BURNED
	    AcceptDamageAdd = No
;		DamageScalar	= 0% ANY +STRUCTURE			; No damage to allied structures.
	End

	MetaImpactNugget                    ;// A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount		= 50.0
		ShockWaveRadius		= 150.0
		ShockWaveTaperOff	= 0.2
		ShockWaveZMult		= 1.20		
	End
End



;------------------------------------------------------------------------------
Weapon IsegardDetonateMine
	LeechRangeWeapon      = Yes
	AttackRange           = 9999.0
	MeleeWeapon           = No
	DelayBetweenShots     = 0							; time between shots, msec
	PreAttackDelay        = 0
	PreAttackType         = PER_SHOT 
	FiringDuration        = 0
 	RadiusDamageAffects	= ALLIES SELF SUICIDE
	DamageDealtAtSelfPosition = Yes

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 1
    Radius        = 20.0
    DelayTime     = 0
    DamageType    = SLASH
    DamageFXType  = SWORD_SLASH
    DeathType     = BURNED
  End
End

;------------------------------------------------------------------------------
Weapon ArnorRangerBow  
	AttackRange         = GONDOR_RANGER_RANGE
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( GONDOR_RANGER_RANGE .003 )
	
    LeechRangeWeapon    = Yes
	WeaponSpeed 		= 321         ; dist/sec 
	MinWeaponSpeed 		= 241
	MaxWeaponSpeed 		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX 				= FX_RohanArcherBowWeapon
	PlayFXWhenStealthed = Yes
	ScaleWeaponSpeed 	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage     	= 100     ;When this weapon is used it will hit exactly 80% of the time.
	ScatterRadius     	= 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots 	= 0
	PreAttackDelay      = GONDOR_RANGER_BOW_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize 			= 1
	AutoReloadsClip 	= Yes
	AutoReloadWhenIdle 	= 1	
	ClipReloadTime 		= Min:GONDOR_RANGER_BOW_RELOADTIME_MIN Max:GONDOR_RANGER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GONDOR_RANGER_BOW_RELOADTIME_MAX
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
  	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent
	
	ProjectileNugget                    ; Default arrow
		ProjectileTemplateName    = GoodFactionArrow
		WarheadTemplateName       = GondorRangerBowWarhead
		ForbiddenUpgradeNames     = Upgrade_ArnorFireArrows
	End
	ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
		ProjectileTemplateName    = GoodFactionFireArrow
		WarheadTemplateName       = GondorRangerBowFireWarhead
		RequiredUpgradeNames      = Upgrade_ArnorFireArrows
	End
End

Weapon ArnorRangerBowBombard  
	AttackRange         = GONDOR_RANGER_BOMBARD_MAXRANGE
	MinimumAttackRange	= #SUBTRACT( GONDOR_RANGER_BOMBARD_MINRANGE 75 )
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( GONDOR_RANGER_BOMBARD_MAXRANGE .003 )
	
    LeechRangeWeapon    = Yes
	WeaponSpeed 		= 321         ; dist/sec 
	MinWeaponSpeed 		= 241
	MaxWeaponSpeed 		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX 				= FX_RohanArcherBowWeapon
	PlayFXWhenStealthed = Yes
	ScaleWeaponSpeed 	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage     	= 0     ; Always scatter
	ScatterRadius     	= ARCHER_BOMBARD_SCATTER_RADIUS     ;When this weapon misses it can randomly miss by as much as this distance.
	
	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots 	= 0
	PreAttackDelay      = GONDOR_RANGER_BOW_PREATTACKDELAY
	PreAttackType       = PER_POSITION
	PreAttackRandomAmount     = 200 
	FiringDuration      = 0
	
	ClipSize 			= 1
	AutoReloadsClip 	= Yes
	AutoReloadWhenIdle 	= 1	
	ClipReloadTime 		= Min:GONDOR_RANGER_BOW_RELOADTIME_MIN Max:GONDOR_RANGER_BOW_RELOADTIME_MAX
	ContinuousFireOne	= 0
	ContinuousFireCoast	= GONDOR_RANGER_BOW_RELOADTIME_MAX
	
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
  	CanBeDodged = Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	NoVictimNeeded			= Yes ; For use with Bombard
	BombardType				= Yes
	
	ProjectileNugget                    ; Default arrow
		ProjectileTemplateName    = GoodFactionArrowBombard
		WarheadTemplateName       = GondorRangerBowBombardWarhead
		ForbiddenUpgradeNames     = Upgrade_ArnorFireArrows
	End
	ProjectileNugget                    ; Fire arrow available from fire arrow upgrade
		ProjectileTemplateName    = GoodFactionFireArrowBombard
		WarheadTemplateName       = GondorRangerBowBombardFireWarhead
		RequiredUpgradeNames      = Upgrade_ArnorFireArrows
	End
End

;------------------------------------------------------------------------------

Weapon RhudaurThrowingAxe
	AttackRange         = DWARVEN_AXETHROWER_RANGE
	
	RangeBonusMinHeight      = 30 ;	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( DWARVEN_AXETHROWER_RANGE .003 )
	
	WeaponSpeed			= 120 ;321         ; dist/sec 
	MinWeaponSpeed      = 120
	MaxWeaponSpeed      = 300      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX              = FX_DwarfAxeThrowerWeapon
	ScaleWeaponSpeed    = Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage       = 100     ;When this weapon is used it will hit exactly 50% of the time.
	ScatterRadius       = 16.0     ;When this weapon misses it can randomly miss by as much as this distance.
;	PreAttackRandomAmount     = 400  

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	PreAttackType       = PER_SHOT
	PreAttackDelay      = 750 ; time from start of anim to axe release
	FiringDuration      = 1584 ; duration of firing cycle
	DelayBetweenShots   = 500;
	CanFireWhileMoving	= No
  
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	HitPassengerPercentage	= 20%
	CanBeDodged				= Yes ; Will check for a DodgePercent on the target to have a second chance at failing HitPercent

	ProjectileNugget	; Default arrow
		ProjectileTemplateName  = DwarvenAxe
		WarheadTemplateName     = RhudaurAxeThrowWarhead
	End
End

Weapon RhudaurAxeThrowWarhead
  	RadiusDamageAffects = ENEMIES 
	HitStoredTarget = Yes
  	
  	DamageNugget
	    Damage        			= DWARVEN_AXETHROWER_DAMAGE
		Radius        			= 0.0
	    DelayTime     			= 0
	    DamageType    			= SLASH  ;PIERCE
	    DamageFXType  			= SWORD_SLASH					; Not GOOD_ARROW_PIERCE as this creates arrows in the victim :)
	    DeathType     			= EXPLODED
	End

End



#include "cah\weapon.inc"



#include "fdwarves\weapon.inc"

#include "felves\weapon.inc"

#include "fgondor\weapon.inc"

#include "fharad\weapon.inc"

#include "fisengard\weapon.inc"

#include "fmordor\weapon.inc"

#include "fmoria\weapon.inc"

#include "frhun\weapon.inc"

#include "frohan\weapon.inc"

//Leave a space at the end of the file, otherwise crash :P