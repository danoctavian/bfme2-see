;------------------------------------------------------------------------------
Object UniversalBuildingFoundation
 
	SelectPortrait			= ZZSelectPortrait

	; *** ART Parameters ***

	Draw = W3DScriptedModelDraw ModuleTag_Draw2
	    DefaultModelConditionState
			Model		= OBBFoundationX
		End

		ModelConditionState = WORLD_BUILDER
  			Model		= GBSizeTemplate
  		End
	End

	Draw = W3DFloorDraw ModuleTag_DrawGondorFloor
		ModelName		= GBFoundationX
		HideIfModelConditions	= USER_2	; Rohan
		HideIfModelConditions	= USER_3	; Lothlorien
		HideIfModelConditions	= USER_4	; Dwarves
		HideIfModelConditions	= USER_5	; Mordor
		HideIfModelConditions	= USER_6	; Isengard
		HideIfModelConditions	= USER_7	; Goblins
		HideIfModelConditions	= USER_8	; Harad
		HideIfModelConditions	= USER_9	; Rhun
	End

	Draw = W3DFloorDraw ModuleTag_DrawRohanFloor
		ModelName		= RBFoundationX
		HideIfModelConditions	= USER_1	; Gondor
		HideIfModelConditions	= USER_3	; Lothlorien
		HideIfModelConditions	= USER_4	; Dwarves
		HideIfModelConditions	= USER_5	; Mordor
		HideIfModelConditions	= USER_6	; Isengard
		HideIfModelConditions	= USER_7	; Goblins
		HideIfModelConditions	= USER_8	; Harad
		HideIfModelConditions	= USER_9	; Rhun
		
	End

	Draw = W3DFloorDraw ModuleTag_DrawLothlorienFloor
		ModelName		= EBFoundationX
		HideIfModelConditions	= USER_1	; Gondor
		HideIfModelConditions	= USER_2	; Rohan
		HideIfModelConditions	= USER_4	; Dwarves
		HideIfModelConditions	= USER_5	; Mordor
		HideIfModelConditions	= USER_6	; Isengard
		HideIfModelConditions	= USER_7	; Goblins
		HideIfModelConditions	= USER_8	; Harad
		HideIfModelConditions	= USER_9	; Rhun
	End

	Draw = W3DFloorDraw ModuleTag_DrawDwarvesFloor
		ModelName		= DBFoundationX
		HideIfModelConditions	= USER_1	; Gondor
		HideIfModelConditions	= USER_2	; Rohan
		HideIfModelConditions	= USER_3	; Lothlorien
		HideIfModelConditions	= USER_5	; Mordor
		HideIfModelConditions	= USER_6	; Isengard
		HideIfModelConditions	= USER_7	; Goblins
		HideIfModelConditions	= USER_8	; Harad
		HideIfModelConditions	= USER_9	; Rhun
	End

	Draw = W3DFloorDraw ModuleTag_DrawMordorFloor
		ModelName		= MBFoundationX
		HideIfModelConditions	= USER_1	; Gondor
		HideIfModelConditions	= USER_2	; Rohan
		HideIfModelConditions	= USER_3	; Lothlorien
		HideIfModelConditions	= USER_4	; Dwarves
		HideIfModelConditions	= USER_6	; Isengard
		HideIfModelConditions	= USER_7	; Goblins
		HideIfModelConditions	= USER_8	; Harad
		HideIfModelConditions	= USER_9	; Rhun
	End

	Draw = W3DFloorDraw ModuleTag_DrawIsengardFloor
		ModelName		= IBFoundationX
		HideIfModelConditions	= USER_1	; Gondor
		HideIfModelConditions	= USER_2	; Rohan
		HideIfModelConditions	= USER_3	; Lothlorien
		HideIfModelConditions	= USER_4	; Dwarves
		HideIfModelConditions	= USER_5	; Mordor
		HideIfModelConditions	= USER_7	; Goblins
		HideIfModelConditions	= USER_8	; Harad
		HideIfModelConditions	= USER_9	; Rhun
	End

	Draw = W3DFloorDraw ModuleTag_DrawGoblinsFloor
		ModelName		= WBFoundationX
		HideIfModelConditions	= USER_1	; Gondor
		HideIfModelConditions	= USER_2	; Rohan
		HideIfModelConditions	= USER_3	; Lothlorien
		HideIfModelConditions	= USER_4	; Dwarves
		HideIfModelConditions	= USER_5	; Mordor
		HideIfModelConditions	= USER_6	; Isengard
		HideIfModelConditions	= USER_8	; Harad
		HideIfModelConditions	= USER_9	; Rhun
	End

;	Draw = W3DFloorDraw ModuleTag_DrawHaradFloor
;		ModelName		= HBFoundationX
;		HideIfModelConditions	= USER_1	; Gondor
;		HideIfModelConditions	= USER_2	; Rohan
;		HideIfModelConditions	= USER_3	; Lothlorien
;		HideIfModelConditions	= USER_4	; Dwarves
;		HideIfModelConditions	= USER_5	; Mordor
;		HideIfModelConditions	= USER_6	; Isengard
;		HideIfModelConditions	= USER_7	; Goblins
;		HideIfModelConditions	= USER_9	; Rhun
;	
;	End

;	Draw = W3DFloorDraw ModuleTag_DrawRhunFloor
;		ModelName		= ESBFoundX
;		HideIfModelConditions	= USER_1	; Gondor
;		HideIfModelConditions	= USER_2	; Rohan
;		HideIfModelConditions	= USER_3	; Lothlorien
;		HideIfModelConditions	= USER_4	; Dwarves
;		HideIfModelConditions	= USER_5	; Mordor
;		HideIfModelConditions	= USER_6	; Isengard
;		HideIfModelConditions	= USER_7	; Goblins
;		HideIfModelConditions	= USER_8	; Harad
;	End

	;PlacementViewAngle		= 0
 
	; ***DESIGN parameters ***
	DisplayName			= OBJECT:GondorBuildingFoundation
	Side				= Civilian
	EditorSorting			= STRUCTURE
	ThreatLevel			= 1.0

	BuildCost			= 1
	BuildTime			= 5.0			; in seconds
	VisionRange			= 160.0			; Shroud clearing distance
	ShroudClearingRange		= 160

	CommandSet			= GondorFoundationCommandSet


	; *** AUDIO Parameters ***

	VoiceSelect			= Gui_PlotSelect2	; Gui_PlotSelect

	; *** ENGINEERING Parameters ***

	RadarPriority			= STRUCTURE
	KindOf = STRUCTURE SELECTABLE IMMOBILE BASE_FOUNDATION UNATTACKABLE MP_COUNT_FOR_VICTORY NO_COLLIDE DO_NOT_CLASSIFY
 
	Behavior = FoundationAIUpdate ModuleTag_foundationAI
	End

	Behavior = CastleMemberBehavior ModuleTag_CMB
	End

	;------------------------------------------------------------------------------
	;                                 Gondor                                      -
	;------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_GondorCommandSet
		TriggeredBy		= Upgrade_GondorFaction 
		ConflictsWith		= Upgrade_RohanFaction Upgrade_ElfFaction Upgrade_DwarfFaction Upgrade_MordorFaction Upgrade_IsengardFaction Upgrade_WildFaction Upgrade_HaradFaction Upgrade_RhunFaction
		CommandSet		= GondorFoundationCommandSet
	End

	Behavior = ModelConditionUpgrade ModuleTag_AddGondorCondition
		TriggeredBy		= Upgrade_MenFaction 
		AddConditionFlags	= USER_1
	End

	;------------------------------------------------------------------------------
	;                                  Rohan                                      -
	;------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_RohanCommandSet
		TriggeredBy		= Upgrade_RohanFaction
		ConflictsWith		= Upgrade_GondorFaction Upgrade_ElfFaction Upgrade_DwarfFaction Upgrade_MordorFaction Upgrade_IsengardFaction Upgrade_WildFaction Upgrade_HaradFaction Upgrade_RhunFaction
		CommandSet		= RohanFoundationCommandSet
	End

	Behavior = ModelConditionUpgrade ModuleTag_AddRohanCondition
		TriggeredBy		= Upgrade_RohanFaction
		AddConditionFlags	= USER_2
	End

	;------------------------------------------------------------------------------
	;                               Lothlorien                                    -
	;------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_LothlorienCommandSet
		TriggeredBy		= Upgrade_ElfFaction
		ConflictsWith		= Upgrade_GondorFaction Upgrade_RohanFaction Upgrade_DwarfFaction Upgrade_ArnorFaction Upgrade_MordorFaction Upgrade_IsengardFaction Upgrade_WildFaction Upgrade_HaradFaction Upgrade_RhunFaction
		CommandSet		= ElvenFoundationCommandSet
	End

	Behavior = ModelConditionUpgrade ModuleTag_AddLothlorienCondition
		TriggeredBy		= Upgrade_ElfFaction
		AddConditionFlags	= USER_3
	End

	;------------------------------------------------------------------------------
	;                                 Dwarves                                     -
	;------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_DwarvesCommandSet
		TriggeredBy		= Upgrade_DwarfFaction
		ConflictsWith		= Upgrade_GondorFaction Upgrade_RohanFaction Upgrade_ElfFaction Upgrade_ArnorFaction Upgrade_MordorFaction Upgrade_IsengardFaction Upgrade_WildFaction Upgrade_HaradFaction Upgrade_RhunFaction
		CommandSet		= DwarvenFoundationCommandSet
	End

	Behavior = ModelConditionUpgrade ModuleTag_AddDwarvesCondition
		TriggeredBy		= Upgrade_DwarfFaction
		AddConditionFlags	= USER_4
	End


	;------------------------------------------------------------------------------
	;                                 Mordor                                      -
	;------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_MordorCommandSet
		TriggeredBy		= Upgrade_MordorFaction
		ConflictsWith		= Upgrade_GondorFaction Upgrade_RohanFaction Upgrade_ElfFaction Upgrade_DwarfFaction Upgrade_IsengardFaction Upgrade_WildFaction Upgrade_HaradFaction Upgrade_RhunFaction
		CommandSet		= MordorFoundationCommandSet
	End

	Behavior = ModelConditionUpgrade ModuleTag_AddMordorCondition
		TriggeredBy		= Upgrade_MordorFaction
		AddConditionFlags	= USER_5
	End

	;------------------------------------------------------------------------------
	;                                Isengard                                     -
	;------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_IsengardCommandSet
		TriggeredBy		= Upgrade_IsengardFaction
		ConflictsWith		= Upgrade_GondorFaction Upgrade_RohanFaction Upgrade_ElfFaction Upgrade_DwarfFaction Upgrade_MordorFaction Upgrade_WildFaction Upgrade_HaradFaction Upgrade_RhunFaction
		CommandSet		= IsengardFoundationCommandSet
	End

	Behavior = ModelConditionUpgrade ModuleTag_AddIsengardCondition
		TriggeredBy		= Upgrade_IsengardFaction
		AddConditionFlags	= USER_6
	End

	;------------------------------------------------------------------------------
	;                                 Goblins                                     -
	;------------------------------------------------------------------------------
	Behavior = CommandSetUpgrade ModueTag_GoblinsCommandSet
		TriggeredBy		= Upgrade_WildFaction
		ConflictsWith		= Upgrade_GondorFaction Upgrade_RohanFaction Upgrade_ElfFaction Upgrade_DwarfFaction Upgrade_MordorFaction Upgrade_IsengardFaction Upgrade_HaradFaction Upgrade_RhunFaction
		CommandSet		= WildFoundationCommandSet
	End

	Behavior = ModelConditionUpgrade ModuleTag_AddWildCondition
		TriggeredBy		= Upgrade_WildFaction
		AddConditionFlags	= USER_7
	End

	;------------------------------------------------------------------------------
	;                                  Harad                                      -
	;------------------------------------------------------------------------------
;	Behavior = CommandSetUpgrade ModueTag_HaradCommandSet
;		TriggeredBy		= Upgrade_HaradFaction
;		ConflictsWith		= Upgrade_GondorFaction Upgrade_RohanFaction ;Upgrade_ElfFaction Upgrade_DwarfFaction Upgrade_MordorFaction Upgrade_IsengardFaction ;Upgrade_WildFaction Upgrade_RhunFaction
;		CommandSet		= HaradFoundationCommandSet
;	End
;
;	Behavior = ModelConditionUpgrade ModuleTag_AddHaradCondition
;		TriggeredBy		= Upgrade_HaradFaction
;		AddConditionFlags	= USER_8
;	End

	;------------------------------------------------------------------------------
	;                                   Rhun                                      -
	;------------------------------------------------------------------------------
;	Behavior = CommandSetUpgrade ModueTag_RhunCommandSet
;		TriggeredBy		= Upgrade_RhunFaction
;		ConflictsWith		= Upgrade_GondorFaction Upgrade_RohanFaction ;Upgrade_ElfFaction Upgrade_DwarfFaction Upgrade_MordorFaction Upgrade_IsengardFaction ;Upgrade_WildFaction Upgrade_HaradFaction 
;		CommandSet		= RhunFoundationCommandSet
;	End
;
;	Behavior = ModelConditionUpgrade ModuleTag_AddRhunCondition
;		TriggeredBy		= Upgrade_RhunFaction
;		AddConditionFlags	= USER_9
;	End


	Body = ImmortalBody ModuleTag_05
		MaxHealth		= 15000.0
	End
 
	Geometry			= BOX
	GeometryMajorRadius		= 24.0
	GeometryMinorRadius		= 24.0
	GeometryHeight			= 0.8
	GeometryIsSmall			= No
	Shadow				= SHADOW_VOLUME
	BuildCompletion			= PLACED_BY_PLAYER
End


