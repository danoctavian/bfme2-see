; ####################################################
; "Battle for Middle Earth II - Special Extended Edition - Director's Cut"
; ####################################################

; GreatGoblin.INI for MORIA (Wild) faction...
; ------------------------------------------------------------------------------
; NOTE: Keep this organized!


Object GreatGoblin //WildGrat

	ButtonImage		= HIGreatGoblin
	SelectPortrait	= HPGreatGoblin
  
  Draw = W3DHordeModelDraw ModuleTag_01
		WadingParticleSys 			= WaterRipplesTrail  	; used when the unit is wading in shallow water.  
		WadingParticleSys				= EntRipples  
		OkToChangeModelColor			= No 				; In SEE we don't want factions colors on units! 
		ShowShadowWhileContained		= Yes
		StaticModelLODMode 			= Yes 				; Will append M or L to the skin name depending on GameLOD
		StaticModelLODMode 			= Yes
		

		DefaultModelConditionState
			Model     	= WUGreatGo_SKN ///MUOrcMorB_SKN
			Skeleton	= MUOrcWarr_SKL
		End
	
		ModelConditionState = USER_9
			Model     	= WUGreatGo_SKN ///MUOrcMorB_SKN
			Skeleton	= MUOrcWarr_SKL
		ParticleSysBone	= NONE MoriaSpellbookScurry
		End
	
	IdleAnimationState
		StateName = STATE_Idle
		Animation = IDLB ; bored
			AnimationName = MUOrcWarr_IDLB
			AnimationPriority = 4
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End
		Animation = IDLO
			AnimationName = MUOrcWarr_IDLO
			AnimationPriority = 1
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End		
		Animation = IDLP
			AnimationName = MUOrcWarr_IDLP
			AnimationPriority = 1
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End		
		Animation = IDLQ
			AnimationName = MUOrcWarr_IDLQ
			AnimationPriority = 1
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End		
		Animation = IDLR
			AnimationName = MUOrcWarr_IDLR
			AnimationPriority = 1
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End		
		Animation = IDLS
			AnimationName = MUOrcWarr_IDLS
			AnimationPriority = 1
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End
		Animation = IDLM
			AnimationName = MUOrcWarr_IDLM
			AnimationPriority = 1
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End
		Animation = IDLL
			AnimationName = MUOrcWarr_IDLL
			AnimationPriority = 1
			AnimationMode		=	ONCE
			AnimationBlendTime	= 15
		End
		Flags				=	RESTART_ANIM_WHEN_COMPLETE								
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") end
		EndScript		
	End
	
    AnimationState = THROWN_PROJECTILE
                ; - McCarthy says this anim sucks, so its cut
		;Animation = Thrown
		;	AnimationName = MUOrcWarr_FLYA
		;    AnimationMode = LOOP
		;End
		Animation = Thrown
			AnimationName = MUOrcWarr_FLYB
		    AnimationMode = LOOP
		End
		Animation = Thrown
			AnimationName = MUOrcWarr_FLYC
		    AnimationMode = LOOP
		End
    End

	AnimationState						= PASSENGER FREEFALL
		Animation						= gettingGrabbed
			AnimationName				= MUOrcWarr_FLLA
			AnimationMode				= LOOP
		End
	End
    
	AnimationState						= FREEFALL
		Animation						= Falling
			AnimationName				= MUOrcWarr_FLYC
			AnimationMode				= LOOP
			AnimationSpeedFactorRange	= 0.45	0.45
			AnimationBlendTime			= 5
		End
    End

    AnimationState						= PASSENGER EATING
		Animation						= being eaten
			AnimationName				= MUOrcWarr_EATA
			AnimationMode				= ONCE
		End
    End

	AnimationState						= PASSENGER SIEGE_CONTAIN
		Animation						= IDLP
			AnimationName				= MUOrcWarr_IDLB ;<- gentle crouch----------------
			AnimationBlendTime			= 5
			AnimationMode				= LOOP
		End
	End
	
	
	
		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= MUOrcWarr_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUOrcWarr_DIEB
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUOrcWarr_DIEC
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUOrcWarr_DIED
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUOrcWarr_DIEE
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= MUOrcWarr_DIEF
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End


    AnimationState = DYING DEATH_2
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_IDLA
			AnimationMode = LOOP
		End
    End
    AnimationState = DYING SPLATTED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = DYING AFLAME
		Animation = Flaming_Death
			AnimationName = MUOrcWarr_MFDA
			AnimationMode = LOOP
		End
    End

    AnimationState = DYING
		Animation = Dying_1
			AnimationName = MUOrcWarr_DIEA
			AnimationMode = ONCE
			AnimationPriority = 1
		End
		Animation = Dying_2
			AnimationName = MUOrcWarr_DIEB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = Dying_3
			AnimationName = MUOrcWarr_DIEC
			AnimationMode = ONCE
			AnimationPriority = 6
		End
		Animation = Dying_4
			AnimationName = MUOrcWarr_DIED
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = Dying_5
			AnimationName = MUOrcWarr_DIEE
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = Dying_6
			AnimationName = MUOrcWarr_DIEF
			AnimationMode = ONCE
			AnimationPriority = 4
		End
    End
    
    AnimationState = STUNNED_STANDING_UP  
		Animation = Standing_Back_Up
			AnimationName = MUOrcWarr_GTPA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End

    AnimationState = STUNNED
		Animation = Splatted_On_Ground
			AnimationName = MUOrcWarr_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End
	
	;-------------------------- Webbed Anims --------------------------------- 
   
    AnimationState = STONED
      StateName = STATE_Idle
      Animation = WIGA ;Medium wiggle
        AnimationName = CUWebdVctm_WIGA
        AnimationMode = ONCE
      End
      Animation = WIGB ;Subtle wiggle
        AnimationName = CUWebdVctm_WIGB
        AnimationMode = ONCE
      End
      Animation = WIGC ;Violent wiggle
        AnimationName = CUWebdVctm_WIGC
        AnimationMode = ONCE
      End
      Flags = RESTART_ANIM_WHEN_COMPLETE
      ;ParticleSysBone     = ROOTTRANSFORM PLACEHOLDER_SpiderWeb FollowBone:no
    End
    
;-------------------------- Webbed Anims --------------------------------- End
 
		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= MUOrcWarr_MFDA
				AnimationMode	= LOOP
				Distance		= 50
			End
		End

	AnimationState						= PARALYZED
		Animation
			AnimationName				= MUOrcWarr_IDLA
			AnimationMode				= LOOP
		End
	End

	AnimationState = MOVING FIRING_OR_PREATTACK_A
			Animation = TrotAndFire
				AnimationName = MUOrcWarr_ATRA
				AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
		End
    
     AnimationState = MOVING CLIMBING BACKING_UP
		ShareAnimation = Yes
		Animation = Climbing_Down
			AnimationName = MUOrcWarr_CLMA
			AnimationMode = LOOP_BACKWARDS
		End
    End

    AnimationState = MOVING CLIMBING
		ShareAnimation = Yes
		Animation = Climbing_Up
			AnimationName = MUOrcWarr_CLMA
			AnimationMode = LOOP
		End
    End

   AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUpA
			AnimationName		=	MUOrcWarr_BAKA
			AnimationMode		=	LOOP
		End
		Animation				=	BackingUpB
			AnimationName		=	MUOrcWarr_BAKB
			AnimationMode		=	LOOP
		End
		Flags					=	RANDOMSTART 
	End

	AnimationState					= MOVING EMOTION_TERROR
		ShareAnimation = Yes
		Animation					= Terror1
			AnimationName			= MUOrcWarr_RUND
			AnimationMode			= LOOP
		End
		Animation					= Terror2
			AnimationName			= MUOrcWarr_RUNE
			AnimationMode			= LOOP
		End
	End
	
	AnimationState = MOVING ATTACKING
		ShareAnimation = Yes
		Animation = RUNA
			AnimationName = MUOrcWarr_RUNA 
			AnimationMode = LOOP
			AnimationPriority = 7
		End
		Animation = RUNB
			AnimationName = MUOrcWarr_RUNB 
			AnimationMode = LOOP
		End
		Animation = RUNC
			AnimationName = MUOrcWarr_RUNC
			AnimationMode = LOOP
			AnimationPriority = 2
		End
	End

    AnimationState = MOVING
		ShareAnimation = Yes
		Animation = RUNB
			AnimationName = MUOrcWarr_RUNB 
			AnimationMode = LOOP
		End
		Animation = RUNC
			AnimationName = MUOrcWarr_RUNC
			AnimationMode = LOOP
			AnimationPriority = 2
		End
		ParticleSysBone = None InfantryDustTrails
    End

    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
		Animation = Flying_2
			AnimationName = MUOrcWarr_FLYC
			AnimationMode = LOOP
			AnimationPriority = 10
			AnimationSpeedFactorRange	= 0.4 0.6
		End
		Animation = Flying_3
			AnimationName = MUOrcWarr_FLYB
			AnimationMode = LOOP
			AnimationPriority = 2
			AnimationSpeedFactorRange	= 0.4 0.6
		End
    End

	; --------- Click and Hit Reactions ------------
	AnimationState = HIT_REACTION HIT_LEVEL_1
		Animation = Hit_Level_1_a
			AnimationName = MUOrcWarr_HITA
			AnimationMode = ONCE
		End
	End
	AnimationState = HIT_REACTION HIT_LEVEL_2
		Animation = Hit_Level_2_a
			AnimationName = MUOrcWarr_HITB
			AnimationMode = ONCE
		End
	End
	AnimationState = HIT_REACTION
		Animation = Hit_Level_1_a
			AnimationName = MUOrcWarr_HITA
			AnimationMode = ONCE
		End
		Animation = Hit_Level_2_a
			AnimationName = MUOrcWarr_HITB
			AnimationMode = ONCE
		End
	End			

    AnimationState = FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName = MUOrcWarr_ATKA
			AnimationMode = LOOP
			UseWeaponTiming		= Yes
		End
		Animation = ATKB
			AnimationName = MUOrcWarr_ATKB
			AnimationMode = LOOP
			UseWeaponTiming		= Yes
		End
		Animation = ATKC
			AnimationName = MUOrcWarr_ATKC
			AnimationMode = LOOP
			UseWeaponTiming		= Yes
		End
		Animation = ATKD
			AnimationName = MUOrcWarr_ATKD
			AnimationMode = LOOP
			UseWeaponTiming		= Yes
		End
    End

    AnimationState = WAR_CHANT
		Animation = ChantA
			AnimationName = MUOrcWarr_CHRA
			AnimationMode = ONCE
		End
		Animation = ChantB
			AnimationName = MUOrcWarr_CHRB
			AnimationMode = ONCE
		End
		Animation = ChantC
			AnimationName = MUOrcWarr_CHRC
			AnimationMode = ONCE
		End
		Animation = ChantD
			AnimationName = MUOrcWarr_CHRD
			AnimationMode = ONCE
		End
		Animation = IDLH
			AnimationName = MUOrcWarr_IDLH
			AnimationMode = ONCE
		End
		Animation = IDLI
			AnimationName = MUOrcWarr_IDLI
			AnimationMode = ONCE
		End
		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End
    
    ; Must go before selected so we don't become unafraid.
    AnimationState					= EMOTION_AFRAID UNCONTROLLABLE
		Animation					= FERA
			AnimationName			= MUOrcWarr_FERA
			AnimationMode			= LOOP
		End
		Animation					= FERB
			AnimationName			= MUOrcWarr_FERB
			AnimationMode			= LOOP
		End
		Animation					= FERC
			AnimationName			= MUOrcWarr_FERC
			AnimationMode			= LOOP
		End
	End
	
	;-emotions--
	AnimationState					= EMOTION_AFRAID
		Animation					= FERA
			AnimationName			= MUOrcWarr_FERA
			AnimationMode			= LOOP
		End
		Animation					= FERB
			AnimationName			= MUOrcWarr_FERB
			AnimationMode			= LOOP
		End
		Animation					= FERC
			AnimationName			= MUOrcWarr_FERC
			AnimationMode			= LOOP
		End
	End
	
	AnimationState							= EMOTION_TAUNTING
		Animation							= TNTA
			AnimationName					= MUOrcWarr_TNTA
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.8 1.2
		End
		Animation							= TNTA
			AnimationName					= MUOrcWarr_TNTC
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.8 1.2
		End
		Flags								= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End
	
	AnimationState							= EMOTION_POINTING
		Animation							= Pointing1
			AnimationName					= MUOrcWarr_PNTA
			AnimationMode					= LOOP
		End
		Animation							= Pointing1
			AnimationName					= MUOrcWarr_PNTB
			AnimationMode					= LOOP
		End
	End
	
	AnimationState							= EMOTION_CELEBRATING
		Animation							= ChantA
			AnimationName					= MUOrcWarr_CHRA
			AnimationMode					= ONCE
		End
		Animation							= ChantB
			AnimationName					= MUOrcWarr_CHRB
			AnimationMode					= ONCE
		End
		Animation							= ChantC
			AnimationName					= MUOrcWarr_CHRC
			AnimationMode					= ONCE
		End
		Animation							= ChantD
			AnimationName					= MUOrcWarr_CHRD
			AnimationMode					= ONCE
		End
		Flags				=	RESTART_ANIM_WHEN_COMPLETE	
	End
	
	AnimationState							= EMOTION_ALERT
		Animation							= ALERT
			AnimationName					= MUOrcWarr_IDLA
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
	End
    
	AnimationState							= RAISING_FLAG
		Animation							= ChantA
			AnimationName					= MUOrcWarr_CHRA
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Animation							= ChantB
			AnimationName					= MUOrcWarr_CHRB
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Animation							= ChantC
			AnimationName					= MUOrcWarr_CHRC
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Animation							= ChantD
			AnimationName					= MUOrcWarr_CHRD
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Flags				=	RESTART_ANIM_WHEN_COMPLETE	
	End

    AnimationState = SELECTED
		StateName			= STATE_Selected
		SimilarRestart		=   Yes
		Flags				= RESTART_ANIM_WHEN_COMPLETE 

		Animation = IDLA
			AnimationName		= MUOrcWarr_IDLA
			AnimationMode		= ONCE
			AnimationPriority	= 4
			AnimationBlendTime	= 10
		End
		Animation = IDLC
			AnimationName		= MUOrcWarr_IDLC
			AnimationMode		= ONCE
			AnimationPriority	= 10
			AnimationBlendTime	= 10
		End
		Animation = IDLE
			AnimationName		= MUOrcWarr_IDLE
			AnimationMode		= ONCE
			AnimationPriority	= 2
			AnimationBlendTime	= 10
		End
		Animation = IDLZ
			AnimationName		= MUOrcWarr_IDLZ
			AnimationMode		= ONCE
			AnimationPriority	= 8
			AnimationBlendTime	= 10
		End
		
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
		EndScript
    End
    
    TransitionState = TRANS_Idle_to_Selected
		Animation = ATNA
			AnimationName		= MUOrcWarr_ATNA
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
		End
    End
    
    TransitionState = TRANS_Selected_to_Idle
		Animation = ATNF
			AnimationName		= MUOrcWarr_ATNF
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
		End
    End
    
    ;-emotions--    
    AnimationState = QUARRELSOME_FIGHTING
		StateName = SomeState
		Animation = ATKB
			AnimationName = MUOrcWarr_ATKB
			AnimationMode = ONCE
		End
		Animation = ATKC
			AnimationName = MUOrcWarr_ATKC
			AnimationMode = ONCE
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
    End
    
    AnimationState = EMOTION_QUARRELSOME
		SimilarRestart = Yes
		StateName = Quarrel
  		Animation = Chant;
			AnimationName = MUOrcWarr_CHRA
			AnimationMode = ONCE
			AnimationPriority = 500
		End
		Animation = Chant1
			AnimationName = MUOrcWarr_IDLB
			AnimationMode = ONCE
			AnimationPriority = 500
		End
		Animation = Chant2
			AnimationName = MUOrcWarr_IDLF
			AnimationMode = ONCE
			AnimationPriority = 500
		End
		Animation = Chant3
			AnimationName = MUOrcWarr_IDLG
			AnimationMode = ONCE
			AnimationPriority = 500
		End
		Animation = Chant4
			AnimationName = MUOrcWarr_IDLJ
			AnimationMode = ONCE
			AnimationPriority = 500
		End
		Animation = BIG_BLEND_QUARREL
			AnimationName = MUOrcWarr_CHRA
			AnimationMode = ONCE
			AnimationBlendTime	= 15
			AnimationPriority = 1
		End
		Flags = RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev ~= "Quarrel"
			then
				return "BIG_BLEND_QUARREL"
			end
		EndScript
    End
  End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

	; ***DESIGN parameters ***
	Side 				= Wild
	EditorSorting 		= UNIT
	ThreatLevel 			= GREAT_GOBLIN_THREAT_LEVEL
	ThingClass 			= CHARACTER_UNIT
	ThreatBreakdown Unit_DetailedThreat
		AIKindOf = HERO
	End
	BuildCost         	= GREAT_GOBLIN_BUILDCOST
	BuildTime         	= HERO_INITIAL_BUILDTIME
	TransportSlotCount 	= TRANSPORTSLOTCOUNT_HERO	
	ShockwaveResistance 	= SHOCKWAVE_RESISTANCE_STRONG
	Scale				= 1.50 //35% bigger!
	MaxSimultaneousOfType = 1

; ------------------------------------------------------------------------------	
	WeaponSet
		Conditions 		= None
		Weapon 			= PRIMARY GreatGoblinClub
	End
; ------------------------------------------------------------------------------	
	ArmorSet
		Conditions      	= None
		Armor           = ToughHeroArmor
		DamageFX        = NormalDamageFX
	End
; ------------------------------------------------------------------------------

	VisionRange 		= VISION_HERO_RANGED
	ShroudClearingRange 	= SHROUD_CLEAR_HERO
	
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius 	= 200
	VisionBonusPercentPerFoot = 1.0%

	DisplayName 	= OBJECT:GreatGoblin
	RecruitText		= CONTROLBAR:GreatGoblinRecruit
	ReviveText		= CONTROLBAR:GreatGoblinRevive
	Hotkey			= CONTROLBAR:GreatGoblinHotkey
	CrushableLevel 	= 2 ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel 		= 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles

	CommandSet 		= GreatGoblinCommandSet
	CommandPoints 	= 00


	; *** AUTO RESOLVE DATA *** 
	AutoResolveUnitType 		= AutoResolveUnit_Hero
	AutoResolveCombatChain 	= AutoResolve_HeroCombatChain
	AutoResolveBody 			= AutoResolve_GoblinKingBody
	AutoResolveLeadership 	= AutoResolve_GoblinKingBonus	
	
	AutoResolveArmor
		Armor = AutoResolve_GoblinKingArmor
	End
	AutoResolveWeapon
		Weapon = AutoResolve_GoblinKingWeapon
	End
	

  	; *** AUDIO Parameters ***;
	VoiceAttack				= BlackOrcVoiceAttack	//HeroOrcVoiceAttack	
	VoiceAttackCharge		= BlackOrcVoiceAttackCharge			
	VoiceAttackStructure		= BlackOrcVoiceAttackBuilding
	VoiceCreated				= BlackOrcVoiceSelect
	VoiceFullyCreated 		= BlackOrcVoiceSelect
	VoiceGuard				= BlackOrcVoiceMove
	VoiceMove				= BlackOrcVoiceMove				
	VoiceMoveToCamp			= BlackOrcVoiceMoveCamp
	VoicePriority				= 99
	VoiceRetreatToCastle		= BlackOrcVoiceRetreat
	VoiceSelect				= BlackOrcVoiceSelect		
	VoiceSelectBattle			= BlackOrcVoiceSelectBattle

	VoiceEnterStateAttack			= BlackOrcVoiceAttack		
 	VoiceEnterStateAttackCharge	= BlackOrcVoiceAttackCharge		
	VoiceEnterStateAttackStructure	= BlackOrcVoiceAttackBuilding
	VoiceEnterStateMove			= BlackOrcVoiceMove			
	VoiceEnterStateMoveToCamp	= BlackOrcVoiceMoveCamp
	VoiceEnterStateRetreatToCastle	= BlackOrcVoiceRetreat
	
	SoundImpact				= ImpactHorse					

	UnitSpecificSounds
		VoiceGarrison						= BlackOrcVoiceMoveGarr
		VoiceEnterUnitMordorMumakil		= BlackOrcVoiceMoveGarr
		VoiceEnterUnitSlaughterHouse		= BlackOrcVoiceMoveGarr
		VoiceEnterUnitEvilMenTransportShip	= BlackOrcVoiceMove
		VoiceInitiateCaptureBuilding			= BlackOrcVoiceCaptureBuilding
	End

	CrowdResponseKey = Goblin

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner			= GoblinKingDie				;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU	;Tie into LargeGroupAudio system
		Key = Goblin Hero
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
      	MaxUpdateRangeCap = 800
			;AnimationSound = Sound:OrcEatenVox		Animation:MUOrcWarr_SKL.MUOrcWarr_EATA	Frames: 29	;too much delay
			AnimationSound = Sound:BodyFallGeneric2	Animation:MUOrcWarr_SKL.MUOrcWarr_DIEA	Frames: 63
			AnimationSound = Sound:BodyFallGeneric2	Animation:MUOrcWarr_SKL.MUOrcWarr_DIEB	Frames: 31
			AnimationSound = Sound:BodyFallOrc			Animation:MUOrcWarr_SKL.MUOrcWarr_DIEC	Frames: 23
			AnimationSound = Sound:BodyFallGeneric2	Animation:MUOrcWarr_SKL.MUOrcWarr_DIED	Frames: 69
			AnimationSound = Sound:BodyFallGeneric2	Animation:MUOrcWarr_SKL.MUOrcWarr_DIEE	Frames: 56
			AnimationSound = Sound:BodyFallGeneric2	Animation:MUOrcWarr_SKL.MUOrcWarr_DIEF	Frames: 157
			AnimationSound = Sound:BodyFallOrc			Animation:MUOrcWarr_SKL.MUOrcWarr_LNDA	Frames: 1
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE ARMY_SUMMARY ARCHER ATTACK_NEEDS_LINE_OF_SIGHT URUK HEAVY_MELEE_HITTER
	PathfindDiameter = 40.0

  	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 				= EMOTION_CHEER_RADIUS
   		MaxHealth         		= GREAT_GOBLIN_HEALTH
  		PermanentlyKilledByFilter	= NONE						;Who kills me permanently?
   		DodgePercent     		= HERO_DODGE_PERCENT
  	End

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING ;STUNNED			;Model condition to play when killed-to-respawn
		DeathFX					= FX_HeroDieToRespawn		;FXList to play when killed-to-respawn
		DeathAnimationTime		= 6033 ; 1133			;How long DeathAnim will take.
		InitialSpawnFX			= FX_HeroInitialSpawn
		RespawnAnim				= LEVELED				;Animation to play when respawning.
		RespawnFX				= FX_HeroRespawn			;FXList to play when respawning.
		RespawnAnimationTime		= 2000				;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage				= HIGreatGoblin_RES
	
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules = AutoSpawn:No Cost:HERO_RESPAWN_COST_MED	 Time:HERO_RESPAWN_TIME Health:100%		;DEFAULT VALUES
	End

	Behavior = AutoHealBehavior ModuleTag_LurtzHealing
		StartsActive		= Yes
		HealingAmount		= HERO_HEAL_AMOUNT
		HealingDelay			= 1000
		StartHealingDelay		= HERO_HEAL_DELAY
		HealOnlyIfNotInCombat	= Yes
	End
	
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End
    
	#include "..\..\..\includes\CaptureBuilding.inc"

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ;ATTACK_BUILDINGS
		MoodAttackCheckRate			= 500
		AttackPriority				= AttackPriority_Cavalry ;Archer
		CanAttackWhileContained	    = Yes
	End

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance			= 300
		TauntAndPointUpdateDelay		= 10000
		AddEmotion					=	Doom_Base
		//	AddEmotion				=   BraceForBeingCrushed_Base
		//	AddEmotion				=	FearIdle_Base
		//	AddEmotion				=	FearBusy_Base
		AddEmotion					=	Point_Base
		AddEmotion					=	Taunt_Base
 		AddEmotion					=	CheerIdle_Base
		AddEmotion					=	CheerBusy_Base
		//	AddEmotion				=	HeroCheerIdle_Base
		//	AddEmotion				=	HeroCheerBusy_Base
		AddEmotion					=	Alert_Base
		AddEmotion					=	CheerForAboutToCrush_Base
	End
	
; ------------------------------------------------------------------------------	
	LocomotorSet
		Locomotor 	= IsengardLurtzLocomotor
		Condition 	= SET_NORMAL 
		Speed     	= NORMAL_DWARF_HERO_SPEED
	End
	LocomotorSet
		Locomotor 	= HumanWanderLocomotor
		Condition		= SET_WANDER 
		Speed     	= 50
	End
; ------------------------------------------------------------------------------

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 2000 ; (2 secs)
	End
	
	Behavior = DualWeaponBehavior ModuleTag_09
		SwitchWeaponOnCloseRangeDistance = 40
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes		= ALL 
		SinkDelay		= 60000 //6000
		SinkRate			= 0.40 //1.5     ; in Dist/Sec
		DestructionDelay	= 90000 //11000
		Sound			= INITIAL GoblinKingVoiceDie //AzogVoiceDie
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2500 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
	End
	
; ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ 	
	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
		LevelToGrant	= 10
		MPOnly = Yes ;No
	End
; ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ 	

	Behavior = SubObjectsUpgrade HideForgedBladeGlow
		TriggeredBy			   = Upgrade_ObjectLevel10 //whatever, quite sure all of em have this... but yea just do lvl 10 since thats all heroes xD
		HideSubObjects		   = FORGED_BLADE 
		FadeTimeInSeconds      = 0.0
	End
	
; ------------------------------------------------------------------------------ LEADERSHIP

	Behavior = AttributeModifierAuraUpdate ModuleTag_HeroLeadership
		StartsActive 	= Yes ;If no, requires upgrade to turn on.
		BonusName 		= GenericHeroLeadership ; Check what this does really. The damage bonus is, what? /Naz
		RefreshDelay 		= 2500
		Range 			= 200
		ObjectFilter	= WILD_GREATGOBLIN_BUFF_RECIPIENT_OBJECT_FILTER
	End	

; ------------------------------------------------------------------------------ DOMINATE

 	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
		SpecialPowerTemplate	= SpecialAbilityDominateEnemy	;OK!
		;TriggeredBy				= Upgrade_ObjectLevel3
	End
	Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
		SpecialPowerTemplate	= SpecialAbilityDominateEnemy 
		StartsPaused				= No ;Yes
		UpdateModuleStartsAttack	= Yes
		InitiateSound				= HeroOrcVoiceCaptureBuilding
	End
 	Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate	= SpecialAbilityDominateEnemy 
		UnpackingVariation			= 1
		StartAbilityRange			= 200.0
		AttributeModifierAffects	= ALL -DOZER -HERO -STRUCTURE -ARMY_OF_DEAD -MOVE_ONLY ENEMIES NEUTRAL
		DominateRadius			= 60
		DominatedFX				= FX_SarumanDominateTargets
		TriggerFX				= FX_SarumanDominateTrigger
		UnpackTime				= 1200 ; ;2000
		PreparationTime			= 1   
		FreezeAfterTriggerDuration	= 2500 ; Hold AI for this long after we fire.		
    End
	
; ------------------------------------------------------------------------------ SUMMON (Obsolete, will be in Spell Book instead /Naz)

	;Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornOathbreakersEnabler
	;	SpecialPowerTemplate = SpecialAbilityTrollsMountains
	;	TriggeredBy = Upgrade_ObjectLevel6 //10
	;End
	;Behavior = OCLSpecialPower ModuleTag_OCLSpecialPower
	;	SpecialPowerTemplate	= SpecialAbilityTrollsMountains
	;	OCL						= OCL_SpawnTrolls
	;	CreateLocation			= CREATE_AT_LOCATION
	;	StartsPaused			= Yes
	;End
	
; ------------------------------------------------------------------------------ POISON MIST

	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_PoisonMistEnabler
        SpecialPowerTemplate = SpecialPowerPoisonMist
        ;TriggeredBy = Upgrade_ObjectLevel8
    End
	Behavior = OCLSpecialPower ModuleTag_PoisonMist
		SpecialPowerTemplate = SpecialPowerPoisonMist
		OCL					= OCL_GreatGoblinPoisonMist
		CreateLocation		= CREATE_AT_LOCATION
		//AvailableAtStart	 	= No
		StartsPaused			= No ;Yes		
	End
	
; ------------------------------------------------------------------------------ SCURRY

	Behavior = AttributeModifierUpgrade ModuleTag_ScurryBonus
		TriggeredBy = Upgrade_MoriaScurry
		AttributeModifier = SpellBookMoriaScurry
	End
	
	;///////////////////
	; AISpecialPowers
	;///////////////////
	
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_SetStanceAggressive
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End
	
	Behavior = AISpecialPowerUpdate InServiceAI
		CommandButtonName = Command_SpecialAbilityInService
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
	End
	
	Behavior = AISpecialPowerUpdate SpecialPowerTrollsMountain
		CommandButtonName = Command_SpecialAbilityTrollsMountain
		SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
		SpecialPowerRadius = 30.0
	End
	

	Geometry			= CYLINDER
	GeometryMajorRadius 	= 12.0 //8.0
	GeometryHeight		= 48 //32 ;;19.2
	GeometryIsSmall		= Yes

	Shadow				= SHADOW_DECAL
	ShadowSizeX			= 19
	ShadowSizeY			= 19
	ShadowTexture		= ShadowI
End
