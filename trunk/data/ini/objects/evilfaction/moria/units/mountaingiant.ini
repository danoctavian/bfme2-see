; ####################################################
; "Battle for Middle Earth II - Special Extended Edition - Director's Cut"
; ####################################################

; WildMountainGiant.INI for MORIA (Wild) faction...
; ------------------------------------------------------------------------------
; NOTE: Keep this organized!


Object WildMountainGiant
	
	ButtonImage		= BWFissure_Giant
	SelectPortrait	= UPWild_Giant
	
	Draw = W3DScriptedModelDraw ModuleTag_01
		WadingParticleSys		= EntRipples
		WadingParticleSys		= EntSplash
		OkToChangeModelColor	= No //Yes			;In SEE we don't want factions colors on units!
		StaticModelLODMode	= Yes				; Will append M or L to the skin name depending on GameLOD
		ExtraPublicBone 		= B_HANDR
		ExtraPublicBone 		= B_PASSENGER01
		
		DefaultModelConditionState
			Model				= WUMntGnt_SKN
			WeaponLaunchBone	= PRIMARY ROCK
			WeaponLaunchBone	= SECONDARY ROCK
		End

		IdleAnimationState
			StateName = Idle
			AllowRepeatInRandomPick = Yes
			Flags = RESTART_ANIM_WHEN_COMPLETE	
			;Animation = stand
			;	AnimationName		= WUMntGnt_SKL.WUMntGnt_IDLA
			;	AnimationMode		= ONCE
			;	AnimationPriority	= 60
			;End			
			Animation = Stand
				AnimationName		= WUMntGnt_SKL.WUMntGnt_IDLB
				AnimationMode		= ONCE
				AnimationPriority		= 60
			End			
			Animation = TugArmour
				AnimationName		= WUMntGnt_SKL.WUMntGnt_IDLD
				AnimationMode		= ONCE
				AnimationPriority		= 30 //10
			End
			Animation = Crouch	//Added for SEE
				AnimationName		= WUMntGnt_SKL.WUMntGnt_IDLF
				AnimationMode		= ONCE
				AnimationPriority    	= 20 //10
			End			
			Animation = BugStep
				AnimationName		= WUMntGnt_SKL.WUMntGnt_IDLE
				AnimationMode		= ONCE
				AnimationPriority		= 15 //5
			End			
			Animation = ScratchButt
				AnimationName		= WUMntGnt_SKL.WUMntGnt_IDLC
				AnimationMode		= ONCE
				AnimationPriority		= 10 //5
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBored")
				elseif Prev == "STATE_Tied" then CurDrawableSetTransitionAnimState("TRANS_SelectedFromTied")
				end
			EndScript			
		End

; ------------------------------------------------------------------------------ DYING ANIMS
; Vastly polished and expanded with BURNINGDEATH for S.E.E. by Nazgûl and Rob38 of T3A Forums! :)
; YOU MAY NOT USE THESE CODES WITHOUT PERMISSION FROM THE SEE TEAM!
; ------------------------- Decay splatted									; Splatted death goes first, independant of death flags!

        ModelConditionState 	= DYING SPLATTED DECAY DEATH_1
            Model 				= WUMntGnt_DISA						; This is decay on back for DEATH_1!
            RetainSubObjects		= Yes
        End
        AnimationState 			= DYING SPLATTED DECAY DEATH_1
            Animation
                AnimationName	= WUMntGnt_DISA.WUMntGnt_DISA
                AnimationMode	= ONCE
            End
            BeginScript
                CurDrawableHideSubObjectPermanently("ROCK")
            EndScript
        End
		
		ModelConditionState 	= DYING SPLATTED DECAY DEATH_2
			Model 				= WUMntGnt_DISA 					; This is decay on back for DEATH_2!
			RetainSubObjects 		= Yes
		End
		AnimationState 			= DYING SPLATTED DECAY DEATH_2
			Animation
			AnimationName 		= WUMntGnt_DISA.WUMntGnt_DISA
			AnimationMode 		= ONCE
		End
		BeginScript
			CurDrawableHideSubObjectPermanently("ROCK")
		EndScript
		End		
		
; ------------------------- Decay 1 with stone, dying burningdeath for DEATH_1 & DEATH_2 (Always falls backwards when carrying stone! /Naz)

		ModelConditionState = DYING DECAY DEATH_1 WEAPONSET_TOGGLE_1 BURNINGDEATH AFLAME	
            Model                = WUMntGnt_DISA 					
            RetainSubObjects    = Yes
        End
        AnimationState = DYING DECAY DEATH_1 WEAPONSET_TOGGLE_1 BURNINGDEATH AFLAME 
            Animation = dead1
                AnimationName    = WUMntGnt_DISA.WUMntGnt_DISA
                AnimationMode    = ONCE
            End
        End
		
		ModelConditionState = DYING DECAY DEATH_2 WEAPONSET_TOGGLE_1 BURNINGDEATH AFLAME	
            Model                = WUMntGnt_DISA 					
            RetainSubObjects    = Yes
        End		
        AnimationState = DYING DECAY DEATH_2 WEAPONSET_TOGGLE_1 BURNINGDEATH AFLAME
            Animation = dead1
                AnimationName    = WUMntGnt_DISA.WUMntGnt_DISA
                AnimationMode    = ONCE
            End
        End		

; ------------------------- Decay 1 without stone, dying burningdeath
		
		ModelConditionState = DYING DECAY DEATH_1 BURNINGDEATH AFLAME	
            Model                = WUMntGnt_DISA 					
            RetainSubObjects    = Yes
        End		
        AnimationState = DYING DECAY DEATH_1 BURNINGDEATH AFLAME
            Animation = dead1
                AnimationName    = WUMntGnt_DISA.WUMntGnt_DISA
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObjectPermanently("ROCK")
            EndScript
        End
		
; ------------------------- Decay 2 without stone, dying burningdeath		
		
		ModelConditionState = DYING DECAY DEATH_2 BURNINGDEATH AFLAME	
            Model                = WUMntGnt_DISB 					; This is decay on belly for DEATH_2! //Added for SEE by Ridder Geel!
            RetainSubObjects    = Yes
        End
        AnimationState = DYING DECAY DEATH_2 BURNINGDEATH AFLAME 
            Animation = dead2
                AnimationName    = WUMntGnt_DISB.WUMntGnt_DISB
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObjectPermanently("ROCK")
            EndScript
        End		

; ------------------------- Decay with stone (Always falls forwards when carrying stone! /Naz)

        ModelConditionState = DYING DECAY DEATH_1 WEAPONSET_TOGGLE_1
            Model                = WUMntGnt_DISA					
            RetainSubObjects    = Yes
        End
        AnimationState = DYING DECAY DEATH_1 WEAPONSET_TOGGLE_1 	
            Animation = dead1
                AnimationName    = WUMntGnt_DISA.WUMntGnt_DISA
                AnimationMode    = ONCE
            End
        End
		
        ModelConditionState = DYING DECAY DEATH_2 WEAPONSET_TOGGLE_1
            Model                = WUMntGnt_DISA					
            RetainSubObjects    = Yes
        End
        AnimationState = DYING DECAY DEATH_2 WEAPONSET_TOGGLE_1 	
            Animation = dead1
                AnimationName    = WUMntGnt_DISA.WUMntGnt_DISA
                AnimationMode    = ONCE
            End
        End		
		
; ------------------------- Decay 1 without stone
		
        ModelConditionState = DYING DECAY DEATH_1
            Model                = WUMntGnt_DISA					
            RetainSubObjects    = Yes
        End		
        AnimationState = DYING DECAY DEATH_1 
            Animation = dead1
                AnimationName    = WUMntGnt_DISA.WUMntGnt_DISA
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObjectPermanently("ROCK")
            EndScript
        End
		
; ------------------------- Decay 2 without stone		
		
        ModelConditionState = DYING DECAY DEATH_2 
            Model                = WUMntGnt_DISB					
            RetainSubObjects    = Yes
        End
        AnimationState = DYING DECAY DEATH_2
            Animation = dead1
                AnimationName    = WUMntGnt_DISB.WUMntGnt_DISB
                AnimationMode    = ONCE
            End
            BeginScript
                CurDrawableHideSubObjectPermanently("ROCK")
            EndScript
        End		
		
; ------------------------- Dying splatted		

        AnimationState = DYING SPLATTED DEATH_1
            Animation
                AnimationName = WUMntGnt_SKL.WuMntGnt_LNDA
                AnimationMode = ONCE
            End
            BeginScript
                CurDrawableHideSubObjectPermanently("ROCK")
            EndScript
            ParticleSysBone = BAT_SPINE1 GiantSplatDust FollowBone:Yes
        End
		AnimationState = DYING SPLATTED DEATH_2
			Animation
			AnimationName = WUMntGnt_SKL.WuMntGnt_LNDA
			AnimationMode = ONCE
		End
			ParticleSysBone = BAT_SPINE1 GiantSplatDust FollowBone:Yes
			BeginScript
				CurDrawableHideSubObjectPermanently("ROCK")
			EndScript
		End		
		AnimationState = DYING DEATH_3
            Animation
                AnimationName = WUMntGnt_SKL.WUMntGnt_IDLA
                AnimationMode = LOOP
            End
        End        
		
; ------------------------- Dying BurningDeath

		ModelConditionState = DYING BURNINGDEATH
        Model               	= WUMntGnt_SKN        
		End    
        AnimationState		= DYING BURNINGDEATH
            Animation           = Aflame //Stoned
                AnimationName		= WUMntGnt_SKL.WUMntGnt_DIEA
                AnimationMode       	= ONCE //LOOP
                AnimationBlendTime   	= 10
            End        
		;	ParticleSysBone = BAT_HEAD TreebeardEmbersStart FollowBone:Yes
		;	ParticleSysBone = B_NECK02 TreebeardFireMediumStart FollowBone:Yes
		;	ParticleSysBone = B_NECK02 TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = B_NECK01 TreebeardFireMediumStart FollowBone:Yes
		;	ParticleSysBone = B_NECK01 TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = BAT_SPINE1 TreebeardSmoke1 FollowBone:Yes
		;	ParticleSysBone = BAT_SPINE2 TrBdFire FollowBone:Yes
		;	ParticleSysBone = BAT_UARMR TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = BAT_UARML TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = BAT_FARMR TreebeardFireMedium FollowBone:Yes
		;	ParticleSysBone = BAT_FARML TreebeardFireMedium FollowBone:Yes
		;	ParticleSysBone = B_HANDR TreebeardFlareStart FollowBone:Yes
		;	ParticleSysBone = B_HANDL TreebeardFlareStart FollowBone:Yes
            ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes 
            ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = B_NECK02 FireSmall FollowBone:yes
            ParticleSysBone     = B_NECK02 FireBuildingLargeSmoke FollowBone:yes		
            ParticleSysBone     = B_NECK01 FireSmall FollowBone:yes
            ParticleSysBone     = B_NECK01 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
            ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
            ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_UARMR FireSmall FollowBone:yes
            ParticleSysBone     = BAT_UARMR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_UARML FireSmall FollowBone:yes
            ParticleSysBone     = BAT_UARML FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_FARMR FireSmall FollowBone:yes
            ParticleSysBone     = BAT_FARMR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_FARML FireSmall FollowBone:yes
            ParticleSysBone     = BAT_FARML FireBuildingLargeSmoke FollowBone:yes			
            ParticleSysBone     = B_HANDR FireSmall FollowBone:yes
            ParticleSysBone     = B_HANDR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = B_HANDL FireSmall FollowBone:yes
            ParticleSysBone     = B_HANDL FireBuildingLargeSmoke FollowBone:yes          
        End        
		
; ------------------------- Dying aflame

        AnimationState        = DYING AFLAME
            Animation            = Aflame //Stoned
                AnimationName        = WUMntGnt_SKL.WUMntGnt_DIEA
                AnimationMode        = ONCE //LOOP
                AnimationBlendTime    = 10
            End
            ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes 
            ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = B_NECK02 FireSmall FollowBone:yes
            ParticleSysBone     = B_NECK02 FireBuildingLargeSmoke FollowBone:yes		
            ParticleSysBone     = B_NECK01 FireSmall FollowBone:yes
            ParticleSysBone     = B_NECK01 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
            ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
            ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_UARMR FireSmall FollowBone:yes
            ParticleSysBone     = BAT_UARMR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_UARML FireSmall FollowBone:yes
            ParticleSysBone     = BAT_UARML FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_FARMR FireSmall FollowBone:yes
            ParticleSysBone     = BAT_FARMR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_FARML FireSmall FollowBone:yes
            ParticleSysBone     = BAT_FARML FireBuildingLargeSmoke FollowBone:yes			
            ParticleSysBone     = B_HANDR FireSmall FollowBone:yes
            ParticleSysBone     = B_HANDR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = B_HANDL FireSmall FollowBone:yes
            ParticleSysBone     = B_HANDL FireBuildingLargeSmoke FollowBone:yes	
		End       

; ------------------------- Dying with stone (Always falls backwards when carrying stone!)

		AnimationState = DYING WEAPONSET_TOGGLE_1
            Animation
                AnimationName     = WUMntGnt_SKL.WUMntGnt_RDIEA
                AnimationMode     = ONCE
            End
            ParticleSysBone = BAT_SPINE1 GiantSplatDust FollowBone:Yes		//AshSplatDust_SEE (???)
			BeginScript 												//Added for SEE by DeeZire!
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Rampage" then CurDrawableHideSubObjectPermanently("ROCK") end
			EndScript
        End      
		
; ------------------------- Dying without stone (Can fall forwards DIEA or backwards DIEB - exclusive to SEE mod /Naz)

		AnimationState = DYING DEATH_2
			Animation
				AnimationName 	= WUMntGnt_SKL.WUMntGnt_DIEB			//Added for SEE by DeeZire!
				AnimationMode 	= ONCE
			End
			ParticleSysBone = BAT_SPINE1 GiantSplatDust FollowBone:Yes
		End
        AnimationState = DYING DEATH_1
            Animation
                AnimationName	= WUMntGnt_SKL.WUMntGnt_DIEA
                AnimationMode	= ONCE
            End
            ParticleSysBone = BAT_SPINE1 GiantSplatDust FollowBone:Yes		
		End

; ------------------------- Burningdeath (the panic run)
		AnimationState        		= BURNINGDEATH
            Animation				= Aflame //Stoned
                AnimationName		= WUMntGnt_SKL.WUMntGnt_MFDA
                AnimationMode		= LOOP
                AnimationBlendTime	= 10
                Distance 			= 250
            End
			Flags = RANDOMSTART
            ParticleSysBone     = BAT_HEAD FireSmall FollowBone:yes 
            ParticleSysBone     = BAT_HEAD FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = B_NECK02 FireSmall FollowBone:yes
            ParticleSysBone     = B_NECK02 FireBuildingLargeSmoke FollowBone:yes		
            ParticleSysBone     = B_NECK01 FireSmall FollowBone:yes
            ParticleSysBone     = B_NECK01 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_SPINE2 FireSmall FollowBone:yes
            ParticleSysBone     = BAT_SPINE2 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_SPINE1 FireSmall FollowBone:yes
            ParticleSysBone     = BAT_SPINE1 FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_UARMR FireSmall FollowBone:yes
            ParticleSysBone     = BAT_UARMR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_UARML FireSmall FollowBone:yes
            ParticleSysBone     = BAT_UARML FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_FARMR FireSmall FollowBone:yes
            ParticleSysBone     = BAT_FARMR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = BAT_FARML FireSmall FollowBone:yes
            ParticleSysBone     = BAT_FARML FireBuildingLargeSmoke FollowBone:yes			
            ParticleSysBone     = B_HANDR FireSmall FollowBone:yes
            ParticleSysBone     = B_HANDR FireBuildingLargeSmoke FollowBone:yes
            ParticleSysBone     = B_HANDL FireSmall FollowBone:yes
            ParticleSysBone     = B_HANDL FireBuildingLargeSmoke FollowBone:yes
					FXEvent = Frame:14 FireWhenSkipped Name:FX_GiantRightFootStep
					FXEvent = Frame:28 FireWhenSkipped Name:FX_GiantLeftFootStep
					FXEvent = Frame:39 FireWhenSkipped Name:FX_GiantRightFootStep
					FXEvent = Frame:54 FireWhenSkipped Name:FX_GiantLeftFootStep
					FXEvent = Frame:67 FireWhenSkipped Name:FX_GiantRightFootStep
					FXEvent = Frame:79 FireWhenSkipped Name:FX_GiantRightFootStep
					FXEvent = Frame:91 FireWhenSkipped Name:FX_GiantLeftFootStep
					FXEvent = Frame:102 FireWhenSkipped Name:FX_GiantRightFootStep          
        End
		
; ------------------------- Stunned with rock

		AnimationState = STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName			  = STATE_StandingUpWithRock
			Animation
				AnimationName     = WUMntGnt_SKL.WUMntGnt_RGRBA
				AnimationMode     = ONCE
				AnimationSpeedFactorRange	= 1.67 1.67
			End
			LuaEvent = Frame:20 Data: show_rock
			FXEvent	= Frame:22	Name: FX_GiantRockGrab
			FXEvent	= Frame:38	Name: FX_GiantRockYank
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev ~= "STATE_StandingUpWithRock" and Prev ~= "TRANS_GetUpWithRock"
					then CurDrawableSetTransitionAnimState("TRANS_GetUpWithRock") end
			EndScript
		End
		
; ------------------------- Stuned without rock
		
		AnimationState = STUNNED_STANDING_UP
			Animation
				AnimationName     = WUMntGnt_SKL.WUMntGnt_GTPA
				AnimationMode     = ONCE
			End
		End

; ------------------------- Tied up!
		AnimationState			= USER_4				; This is a special for being tied up.
			StateName			= STATE_Tied
			Animation
				AnimationName   = WUMntGnt_SKL.WUMntGnt_SPCA
				AnimationMode   = LOOP
			End
;			BeginScript
;				CurDrawableHideSubObjectPermanently("ROCK")
;			EndScript
		End

		AnimationState			= STUNNED_FLAILING
			Animation           = StunFlail
				AnimationName   = WUMntGnt_SKL.WUMntGnt_FLYA
				AnimationMode   = LOOP
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES2
		End

		AnimationState = STUNNED
			Animation
				AnimationName     = WUMntGnt_SKL.WUMntGnt_LNDA
				AnimationMode     = ONCE
			End
		End		
		
		AnimationState						= PARALYZED
			Animation
				AnimationName				= WUMntGnt_SKL.WUMntGnt_IDLB
				AnimationMode				= LOOP
			End
		End

; ------------------------- Special Weapon 1 (Pick up enemy unit and toss him!)
		; Not used! This is too hard for me to code /Naz
		AnimationState = SPECIAL_WEAPON_ONE
			FrameForPristineBonePositions = 64
			Animation
				AnimationName = WUMntGnt_SKL.WUMntGnt_UGRBB
				AnimationMode = ONCE
			End
		End

; ------------------------- Special Weapon 2 (Front kick!)

		AnimationState = SPECIAL_WEAPON_TWO
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_ATKF
				AnimationMode		= ONCE
			End
		End

; ------------------------- Stone!
		// Pull rock out of the ground
		AnimationState = RELOADING_A WEAPONSET_TOGGLE_1			
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_RGRBA
				AnimationMode		= ONCE
			End

			FXEvent	= Frame:22	Name: FX_GiantRockGrab
			FXEvent	= Frame:38	Name: FX_GiantRockYank
			
		End

		// Throw rock close range
		AnimationState = FIRING_OR_PREATTACK_B WEAPONSET_TOGGLE_1
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_RTHRC ;B //C
				AnimationMode		= ONCE
				AnimationBlendTime	= 10
			End
			FrameForPristineBonePositions = 36 ;37							; Just as the rock leaves his hands.
		End

		// Throw rock
		AnimationState = FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_RTHRA
				AnimationMode		= ONCE
				AnimationBlendTime	= 10
			End
			FrameForPristineBonePositions = 35 ;37							; Just as the rock leaves his hands.
		End

		// ATKA - Left arm swat
		AnimationState = FIRING_OR_PREATTACK_A
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_ATKA
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 10
			End
		End
		
		// ATKB - Right backhand
		AnimationState = FIRING_OR_PREATTACK_B
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_ATKB
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 10
			End
		End

		// ATKD - Right football kick	
		AnimationState = FIRING_OR_PREATTACK_C
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_ATKD
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 10
			End
		End

		// ATKE - Left forward kick		
		AnimationState = FIRING_OR_PREATTACK_D							; The anti-structure weapon
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_ATKE
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 10
			End
		End

		// ATRA - Right backhand while moving
		AnimationState = FIRING_OR_PREATTACK_E
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_ATRA
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationBlendTime	= 10
			End
			FXEvent	= Frame:3 FireWhenSkipped Name:FX_GiantRightFootStep
			FXEvent	= Frame:20 FireWhenSkipped Name:FX_GiantLeftFootStep
		End


		AnimationState = TURN_LEFT WEAPONSET_TOGGLE_1
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_RTRNL
				AnimationMode		= LOOP
				AnimationBlendTime	= 10 ;20
			End
		End
		
		AnimationState = TURN_RIGHT WEAPONSET_TOGGLE_1
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_RTRNR
				AnimationMode		= LOOP
				AnimationBlendTime	= 10 ;20
			End
		End

		AnimationState = MOVING WEAPONSET_TOGGLE_1
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_RWLKA
				AnimationMode		= LOOP
				Distance			= 175
			End
			FXEvent	= Frame:21 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent	= Frame:43 FireWhenSkipped Name:FX_GiantRightFootStep
			FXEvent	= Frame:63 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent	= Frame:85 FireWhenSkipped Name:FX_GiantRightFootStep
			FXEvent	= Frame:103 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent	= Frame:127 FireWhenSkipped Name:FX_GiantRightFootStep
		End

		AnimationState = ENGAGED WEAPONSET_TOGGLE_1					; 'Ready' pose with rock. This is to smooth out the reload/attacking anims.
			Animation
				AnimationName	= WUMntGnt_SKL.WUMntGnt_RIDLA
				AnimationMode	= LOOP
				AnimationBlendTime	= 10
			End
			Flags = RANDOMSTART
		End

		AnimationState = ATTACKING WEAPONSET_TOGGLE_1					; 'Ready' pose with rock. This is to smooth out the reload/attacking anims.
			Animation
				AnimationName	= WUMntGnt_SKL.WUMntGnt_RIDLA
				AnimationMode	= LOOP
				AnimationBlendTime	= 10
			End
			Flags = RANDOMSTART
		End

		AnimationState = TURN_LEFT
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_TRNL
				AnimationMode		= LOOP
				AnimationBlendTime	= 10
			End
		End

		AnimationState = TURN_RIGHT
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_TRNR 
				AnimationMode		= LOOP
				AnimationBlendTime	= 10
			End
		End
		
// #########################################################
		AnimationState = MOVING ATTACKING  //Added for SEE!
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_RUNA
				AnimationMode		= LOOP
				AnimationBlendTime	= 10				
				Distance 			= 165 //45 ; Sets speed of anim, not movement. Lower = faster (Naz)
			End
			Flags = RANDOMSTART
			FXEvent = Frame:15 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent = Frame:31 FireWhenSkipped Name:FX_GiantRightFootStep
			FXEvent = Frame:47 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent = Frame:61 FireWhenSkipped Name:FX_GiantRightFootStep		
		End
// #########################################################		
					
		AnimationState = MOVING PANICKING
			Animation
				AnimationName			= WUMntGnt_SKL.WUMntGnt_MFDA
				AnimationMode			= LOOP
				AnimationSpeedFactorRange	= 0.55 0.55						; Feet slide a lot, so slow the anim down.
			End
			Flags = RANDOMSTART
		End

		AnimationState = MOVING
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_WLKA
				AnimationMode		= LOOP
				AnimationBlendTime	= 10
				Distance			= 175
			End
			Flags = RANDOMSTART
			FXEvent	= Frame:21 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent	= Frame:43 FireWhenSkipped Name:FX_GiantRightFootStep
			FXEvent	= Frame:63 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent	= Frame:85 FireWhenSkipped Name:FX_GiantRightFootStep
			FXEvent	= Frame:103 FireWhenSkipped Name:FX_GiantLeftFootStep
			FXEvent	= Frame:127 FireWhenSkipped Name:FX_GiantRightFootStep
		End

		AnimationState = SWAPPING_TO_WEAPONSET_1		; This is required so we get a nice pose to blend from when reloading the rock.
			Animation									; must be before SELECTED
				AnimationName	= WUMntGnt_SKL.WUMntGnt_ATNB
			End
		End

;;------------------ Selected with Rock

		AnimationState = SELECTED WEAPONSET_TOGGLE_1
			StateName			= STATE_SelectedRock
			Animation
				AnimationName	= WUMntGnt_SKL.WUMntGnt_RATNB
				AnimationMode	= LOOP
			End
			Flags = RANDOMSTART
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev ~= "STATE_SelectedRock" and Prev ~= "TRANS_IdleToSelectedRock"
					then CurDrawableSetTransitionAnimState("TRANS_IdleToSelectedRock") end
			EndScript
		End
					
;;------------------ Idle with Rock

		AnimationState = WEAPONSET_TOGGLE_1
			StateName = STATE_RockIdle
			Animation
				AnimationName	= WUMntGnt_SKL.WUMntGnt_RIDLB
				AnimationMode	= LOOP
			End
			Flags = RANDOMSTART
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Tied" then
					CurDrawableSetTransitionAnimState("TRANS_SelectedFromTied")
				elseif Prev ~= "STATE_RockIdle" and Prev ~= "TRANS_SelectedRockToIdle" then
					CurDrawableSetTransitionAnimState("TRANS_SelectedRockToIdle")
				end
			EndScript
		End

;;------------------ Attacking

		AnimationState = ATTACKING								; Between attacks we need to go to this idle since it's the base for the attack animations (needs to be before SELECTED)
			Animation
				AnimationName	= WUMntGnt_SKL.WUMntGnt_IDLA
				AnimationMode	= LOOP
				AnimationBlendTime	= 10
			End
		End

;;------------------ Selected
			
		AnimationState = SELECTED
			StateName			= STATE_Selected
			Animation
				AnimationName	= WUMntGnt_SKL.WUMntGnt_ATNB
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
			EndScript
		End
	
		AnimationState = ENGAGED
			Animation
				AnimationName	= WUMntGnt_SKL.WUMntGnt_IDLB
				AnimationMode	= LOOP
			End
		End
		
;;------------------ Hit Reaction 

		AnimationState = HIT_REACTION
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_HITA
				AnimationMode		= ONCE
			End
		End
		
;;------------------ Emotions

		// Emotions must be beneath WEAPONSET_TOGGLE_1 default idle because there are no emotions-with-rock animations

		AnimationState = EMOTION_TAUNTING
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_TNTA
				AnimationMode		= LOOP
			End
		End

		AnimationState = EMOTION_CELEBRATING
			Animation
				AnimationName		= WUMntGnt_SKL.WUMntGnt_CHRA
				AnimationMode		= ONCE
			End
		End

;;------------------ Transitions

		TransitionState = TRANS_GetUpWithRock
			Animation
				AnimationName = WUMntGnt_SKL.WUMntGnt_GTPA
				AnimationMode = ONCE
				AnimationSpeedFactorRange	=	1.5 1.5
			End		
		End

		TransitionState = TRANS_IdleToSelectedRock
			Animation
				AnimationName = WUMntGnt_SKL.WUMntGnt_RATNA
				AnimationMode = ONCE
			End
		End

		TransitionState = TRANS_SelectedRockToIdle
			Animation
				AnimationName = WUMntGnt_SKL.WUMntGnt_RATNC
				AnimationMode = ONCE
			End
		End

		TransitionState = TRANS_IdleToSelected
			Animation
				AnimationName = WUMntGnt_SKL.WUMntGnt_ATNA
				AnimationMode = ONCE
			End
		End

		TransitionState = TRANS_SelectedToBored
			Animation 
				AnimationName = WUMntGnt_SKL.WUMntGnt_ATNC
				AnimationMode = ONCE
			End
		End

		TransitionState = TRANS_SelectedFromTied
			Animation 
				AnimationName = WUMntGnt_SKL.WUMntGnt_GTPB
				AnimationMode = ONCE
			End
			ParticleSysBone = B_FOOTL GiantRopesBreak
			ParticleSysBone = B_FOOTR GiantRopesBreak
			ParticleSysBone = B_HANDL GiantRopesBreak
			ParticleSysBone = B_HANDR GiantRopesBreak
			ParticleSysBone = B_NECK01 GiantRopesBreak
			ParticleSysBone = B_FOOTL GiantRopesDust
			ParticleSysBone = B_FOOTR GiantRopesDust
			ParticleSysBone = B_HANDL GiantRopesDust
			ParticleSysBone = B_HANDR GiantRopesDust
			ParticleSysBone = B_NECK01 GiantRopesDust
		End	
	End	;Draw Module
	
	;-----------------------------------------------------------------------------------------------------
	Draw = W3DScriptedModelDraw ModuleTag_RopesDraw						; Special draw module just for the USER_4 tied up state.
		DefaultModelConditionState
			Model               = None
		End
		ModelConditionState 	= USER_4
			Model               = WUMntGnt_Ropes
		End
		
		AnimationState = USER_4
			Animation
				AnimationName   = WUMntGnt_Ropes.WUMntGnt_Ropes
				AnimationMode   = LOOP
			End
		End
	End	
	
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState =  MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None CalvaryDustTrails //GenericSiegeTrailDust
	    End
	    AnimationState =  MOVING ACCELERATE
			ParticleSysBone = None CalvaryDustTrails //GenericSiegeTrailDust
	    End
	    AnimationState = MOUNTED MOVING
	    End
	End
	

    #include "..\..\..\includes\StunDrawModuleLarge.inc"

	;-----------------------------------------------------------------------------------------------------
	; ***DESIGN parameters ***
	Side				= Wild	
	EditorSorting		= UNIT
	ThreatLevel			= MOUNTAIN_GIANT_THREAT_LEVEL
	ThreatBreakdown MordorCatapult_DetailedThreat
		AIKindOf = SIEGEWEAPON
	End
	
	ThingClass			= MEDIUM_MONSTER
	ShockwaveResistance 	= SHOCKWAVE_RESISTANCE_STRONG
	TransportSlotCount	= TRANSPORTSLOTCOUNT_MONSTER
	Scale				= 1.2 //20% bigger for SEE!
	
; ------------------------------------------------------------------------------	

	WeaponSet
		Conditions = None
		DefaultWeaponChoiceCritera = SELECT_AT_RANDOM
		ReadyStatusSharedWithinSet = Yes
		
		Weapon			= PRIMARY		WildMountainGiantPunch1		// ATKA - Left arm swat
		Weapon			= SECONDARY	WildMountainGiantPunch2		// ATKB - Right backhand
		Weapon			= TERTIARY		WildMountainGiantPunch3		// ATKD - Right football kick

		Weapon			= QUATERNARY	GiantBuildingTeardown			// ATKE - Left forward kick
		OnlyAgainst		= QUATERNARY	STRUCTURE BLOCKING_GATE ;MONSTER
		
		Weapon			= QUINARY		WildMountainGiantMovingPunch	// ATRA - Right backhand while moving
		OnlyInCondition	= QUINARY		MOVING
	End

	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		DefaultWeaponChoiceCritera = PREFER_LEAST_MOVEMENT
		Weapon			= PRIMARY 		GiantRockThrow
		Weapon			= SECONDARY 	GiantRockThrowCloseRange		//RTHRC - Smash rock into ground (Not used!)
	End
	
; ------------------------------------------------------------------------------	

	ArmorSet
		Conditions = None
		Armor           = MountainGiantArmor
		DamageFX        = GiantDamageFX
	End
	
; ------------------------------------------------------------------------------	
	
	VisionRange			= WILD_MOUNTAIN_GIANT_VISION_RADIUS
	ShroudClearingRange	= WILD_MOUNTAIN_GIANT_SHROUD_RADIUS
	
	VisionSide = 35%
	VisionRear = 25%
	
	MaxVisionBonusPercent 	= 300%
	VisionBonusTestRadius 		= 200
	VisionBonusPercentPerFoot 	= 2.5%
				
	DisplayName			= OBJECT:WildMountainGiant
	CrushableLevel		= 3 ;2  	;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles	
	CrusherLevel			= 2		;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles //Don't work! But it does crush UNITS though...
	CrushWeapon			= GiantCrush		
	UseCrushAttack		= No							; Don't attack using crush, just crush when you walk through. 
	CommandSet			= WildMountainGiantCommandSet
	CommandPoints		= 10	 

	RamPower			= 20
	RamZMult			= 0.5
	CrushKnockback		= 30
	CrushZFactor			= 1.0	
	
; ------------------------------------------------------------------------------	
	
	; *** AUDIO Parameters ***;
	VoiceAttack			= MountainGiantVoxAttack
	VoiceAttackCharge	= MountainGiantVoxAttack
	VoiceAttackMachine	= MountainGiantVoxAttack
	VoiceAttackStructure	= MountainGiantVoxAttack
	VoiceCreated			= EVA:GiantCreated
	VoiceCreated			= +SOUND:MountainGiantVoxCreated
	VoiceFullyCreated		= EVA:GiantCreated
	VoiceFullyCreated		= +SOUND:MountainGiantVoxCreated
	VoiceGuard			= MountainGiantVoxMove
	VoiceMove			= MountainGiantVoxMove
	VoicePriority			= 35
	VoiceSelect			= MountainGiantVoxSelectMS
	VoiceSelectBattle		= MountainGiantVoxSelectMS
	SoundAmbient		= MountainGiantVoxAmbientLoop
	SoundImpact			= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= MountainGiantVoxMove
		VoiceEnterUnitMordorMumakil		= MountainGiantVoxMove
		VoiceEnterUnitSlaughterHouse		= MountainGiantVoxMove
		VoiceGarrison						= MountainGiantVoxMove
		VoiceInitiateCaptureBuilding			= MountainGiantVoxMove
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	;Behavior = LargeGroupAudioUpdate ModuleTag_LGAU		; Tie into LargeGroupAudio system
	;	Key = Ent Unit Infantry
	;	UnitWeight = 2						; Ents count as 2 infantry when computing group size
	;End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800

		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_ATKF	Frames:40
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_ATRA	Frames:22 43
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_MFDA	Frames:14 28 39 54 66 79 90 103
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_BMBA	Frames:38
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RTHRA	Frames:42
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RTRNL	Frames:14 29
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RTRNR	Frames:14 29
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMntGnt_SKL.WUMntGnt_RUNA	Frames:15 30 45 61
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RWLKA	Frames:20 42 65 87 108 129
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_TRNL	Frames:14 29
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_TRNR	Frames:14 29
		AnimationSound = Sound:MountainGiantFootstep	ExcludedMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_WLKA	Frames:20 42 65 87 108 129

		AnimationSound = Sound:MountainGiantVoxCheer						Animation:WUMntGnt_SKL.WUMntGnt_CHRA	Frames:51
		AnimationSound = Sound:MountainGiantVoxCheer						Animation:WUMntGnt_SKL.WUMntGnt_TNTA	Frames:25
		AnimationSound = Sound:MountainGiantGenericChestBeatImpact			Animation:WUMntGnt_SKL.WUMntGnt_TNTA	Frames:44 59 73

		AnimationSound = Sound:MountainGiantBodyfall						Animation:WUMntGnt_SKL.WUMntGnt_DIEA	Frames:104
		AnimationSound = Sound:MountainGiantBodyfall						Animation:WUMNTGNT_SKL.WUMNTGNT_DIEB	Frames:89
		AnimationSound = Sound:MountainGiantBodyfall						Animation:WUMNTGNT_SKL.WUMNTGNT_LNDA	Frames:6
		AnimationSound = Sound:MountainGiantBodyfall						Animation:WUMNTGNT_SKL.WUMNTGNT_RDIEA	Frames:104

		AnimationSound = Sound:MountainGiantBoulderImpacts					Animation:WUMNTGNT_SKL.WUMNTGNT_RDIEA	Frames:6
		AnimationSound = Sound:MountainGiantBoulderImpacts					Animation:WUMNTGNT_SKL.WUMNTGNT_RTHRB	Frames:39

		;----------- water footsteps below -------------

		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_ATKF	Frames:40
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_ATRA	Frames:22 43
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_MFDA	Frames:14 28 39 54 66 79 90 103
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_BMBA	Frames:38
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RTHRA	Frames:42
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RTRNL	Frames:14 29
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RTRNR	Frames:14 29
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMntGnt_SKL.WUMntGnt_RUNA	Frames:15 30 45 61
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_RWLKA	Frames:20 42 65 87 108 129
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_TRNL	Frames:14 29
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_TRNR	Frames:14 29
		AnimationSound = Sound:GiantFootstepWater		RequiredMC:WADING	Animation:WUMNTGNT_SKL.WUMNTGNT_WLKA	Frames:20 42 65 87 108 129

		; ----- tied up escape -----
		AnimationSound = Sound:MountainGiantFreedMS							Animation:WUMNTGNT_SKL.WUMNTGNT_GTPB	Frames:1

	End

; ------------------------------------------------------------------------------
	; *** ENGINEERING Parameters ***

	RadarPriority		= UNIT
	KindOf			= PRELOAD SELECTABLE HEAVY_MELEE_HITTER CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_INFANTRY CAN_ATTACK_WALLS SCARY BIG_MONSTER NO_FREEWILL_ENTER SIEGEENGINE
	BuildCost		= WILD_MOUNTAIN_GIANT_BUILDCOST				
	BuildTime		= WILD_MOUNTAIN_GIANT_BUILDTIME		
	BountyValue		= WILD_MOUNTAIN_GIANT_BOUNTYVALUE
	
	Body = ActiveBody ModuleTag_Body
		CheerRadius			= EMOTION_CHEER_RADIUS
		MaxHealth			= WILD_MOUNTAIN_GIANT_HEALTH
		MaxHealthDamaged 	= WILD_MOUNTAIN_GIANT_HEALTH_DAMAGED
		BurningDeathBehavior 	= Yes										//Added for SEE!
		BurningDeathFX      	= FX_InfantryBurningFlame						//Added for SEE!
	End
	
	Behavior = AutoHealBehavior ModuleTag_MarksModMountainGiantHealing
    StartsActive 			= Yes
		HealingAmount 		= BFME2SEE_HEAL_AMOUNT_LOW
		HealingDelay 			= 2000
		StartHealingDelay 		= BFME2SEE_HEAL_DELAY 
		HealOnlyIfNotInCombat	= Yes
		UnitHealPulseFX		= FX_SpellHealUnitHealBuff
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
    StanceTemplate = Hero
  End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		AILuaEventsList				= MountainGiantFunctions
		AttackPriority				= AttackPriority_Cavalry				//Added for SEE!
		BurningDeathTime 			= BURNINGDEATH_DURATION_CAVALRY				//Added for SEE!
	End
	
  Behavior = FlammableUpdate ModuleTag_BurningDeathPromotor	;ADDED FOR SEE!
		AflameDuration		= TROOP_AFLAME_DURATION	// If I catch fire, I'll burn for this long...
		AflameDamageAmount	= TROOP_AFLAME_DAMAGE_AMOUNT			// taking this much damage...
		AflameDamageDelay	= TROOP_AFLAME_DAMAGE_DELAY		// this often.
		FlameDamageLimit		= TROOP_FLAME_DAMAGE_LIMIT
		FlameDamageExpiration	= TROOP_FLAME_DAMAGE_EXPIRATION
	End	

; ------------------------------------------------------------------------------
	
	Behavior = FireWeaponWhenDeadBehavior FireDeadTag
		RequiredStatus	= DEATH_1
		StartsActive	= Yes
		DelayTime		= 3400
		DeathWeapon		= MountainGiantDeath
		WeaponOffset	= X:-68 Y:0 Z:0	;Fire the death weapon right behind the object.
	End		
	Behavior = FireWeaponWhenDeadBehavior FireDeadTag2 //Added for SEE!
		RequiredStatus	= DEATH_2
		StartsActive	= Yes
		DelayTime		= 3400
		DeathWeapon		= MountainGiantDeath
		WeaponOffset	= X:0 Y:68 Z:0	;Fire the death weapon right in front of the object.
	End		
	
; ------------------------------------------------------------------------------	

	LocomotorSet
		Locomotor 	= GiantLocomotor
		Condition 	= SET_NORMAL 
		Speed     	= 55
	End
	
	LocomotorSet
		Locomotor 	= BurningDeathLocomotorCavalry
		Condition 	= SET_BURNINGDEATH
		Speed	  	= BURNINGDEATH_WANDERSPEED_MUMAK
	End	
	
; ------------------------------------------------------------------------------	

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime =	3600	; tuned to mountain giant's GTPA anim
	End
	
; ------------------------------------------------------------------------------ New SlowDeath for Monsters in SEE! (Naz)	

	Behavior = SlowDeathBehavior ModuleTag_50
		DeathTypes			= ALL -FADED
		DeathFlags			= DEATH_1						; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
		DecayBeginTime		= 30000 //7000		
		SinkDelay			= 60000 //14000		
		SinkRate				= 0.40 //1.3							; in Dist/Sec		
		DestructionDelay		= 120000 //40000
		ProbabilityModifier 	= 50							; Added for SEE since Trolls have this?
		Sound				= INITIAL MountainGiantVoxDie
	End
	Behavior = SlowDeathBehavior ModuleTag_51
		DeathTypes			= ALL -FADED
		DeathFlags			= DEATH_2						; Use this when/if DEATH_2 is implemented! (Naz)					
		DecayBeginTime		= 30000 		
		SinkDelay			= 60000 		
		SinkRate				= 0.40 									
		DestructionDelay		= 120000 
		ProbabilityModifier 	= 50							
		Sound				= INITIAL MountainGiantVoxDie
	End	
	
; ------------------------------------------------------------------------------

	Behavior = SquishCollide ModuleTag_06
	End

;############################################################;Sûlherokhh mod start
;-------------Added for SEE since almost all units use this.
	Behavior = BezierProjectileBehavior ModuleTag_BodyHitHorse ; Module starts asleep, and wakes up when thrown.
		// To tweak a Bezier path
		FirstHeight				= 24	// Height of Bezier control points above highest intervening terrain
		SecondHeight				= 24
		FirstPercentIndent			= 30%	// Percentage of shot distance control points are placed
		SecondPercentIndent		= 70%
		TumbleRandomly			= Yes
		CrushStyle				= Yes	// I don't detonate, I just hit
		DieOnImpact				= Yes
		BounceCount				= 1		// When I hit the ground, I'll arc again
		BounceDistance			= 40	// this far
		BounceFirstHeight			= 24	// Height of Bezier control points above highest intervening terrain
		BounceSecondHeight		= 24
		BounceFirstPercentIndent	= 20%	// Percentage of shot distance control points are placed
		BounceSecondPercentIndent	= 80%
		GroundHitWeapon   		= HorseBodyImpactWarhead_SEE
		GroundBounceWeapon   	= HorseBodyImpactWarhead_SEE
		GroundHitFX       		= FX_ThrownRockGroundHit
		GroundBounceFX    		= FX_ThrownRockBounceHit
		PreLandingStateTime 		= 1000
		PreLandingEmotion 		= DOOM
		PreLandingEmotionRadius 	= 25.0
	End
;############################################################;Sûlherokhh mod end

	Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
	End
	
 	Behavior = EmotionTrackerUpdate	Module_EmotionTracker			; required for faramir's wounding arrow
		TauntAndPointDistance		= 500
		TauntAndPointUpdateDelay	= 1000
		AddEmotion				=	Terror_Base
		AddEmotion				=	Doom_Base
		AddEmotion				=	Point_Base
		AddEmotion				=	Taunt_Base
 		AddEmotion				=	CheerIdle_Base
		AddEmotion				=	CheerBusy_Base
		AddEmotion				=	HeroCheerIdle_Base
		AddEmotion				=	HeroCheerBusy_Base
		AddEmotion				=	Alert_Base
		AddEmotion				=	CheerForAboutToCrush_Base
	End

	;----------------------------------------

 	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
 		HitReactionLifeTimer1 	= 2500 
		HitReactionThreshold1 	= 50.0 
 	End

  Behavior = AimWeaponBehavior AimWeaponModuleTag
		AimNearDistance = 50.0	; If target closer than this, give Near flag.  This and IsAimingWeapon combine to give extra model condition flags
	End

; ------------------------------------------------------------------------------ GRAB ; Added for SEE! (Too complicated for me /Naz)

	//Behavior = SpecialPowerModule ModuleTag_GrabStarter       
	//	SpecialPowerTemplate    = SpecialAbilityWildMountainGiantGrab
	//	UpdateModuleStartsAttack	= Yes
	//	StartsPaused		  	  	= No
	//End
	//Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_GrabWeaponFireUpdate   
	//	SpecialPowerTemplate    = SpecialAbilityWildMountainGiantGrab
	//	WhichSpecialWeapon		= 1		; SPECIAL_WEAPON_ONE
	//	SkipContinue				= Yes
	//	UnpackTime				= 1367		//Frames 1-41 (of 97)
	//	PackTime				= 1867		//Remaining frames 41-97
	//	FreezeAfterTriggerDuration 	= 2000 ; Hold AI for this long after we fire.
	//	AwardXPForTriggering    	= 0
	//	StartAbilityRange			= 25.0 ;80.0
	//	SpecialWeapon			= WildMountainGiantStomp
	//End
	
; ------------------------------------------------------------------------------ STOMP

	Behavior = SpecialPowerModule ModuleTag_StompStarter       
		SpecialPowerTemplate    = SpecialAbilityWildMountainGiantStomp
		UpdateModuleStartsAttack	= Yes
		StartsPaused		  	  	= No
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_StompWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityWildMountainGiantStomp
		WhichSpecialWeapon		= 2		; SPECIAL_WEAPON_TWO
		SkipContinue				= Yes
		UnpackTime				= 1367		//Frames 1-41 (of 97)
		PackTime				= 1867		//Remaining frames 41-97
		FreezeAfterTriggerDuration 	= 2000 ; Hold AI for this long after we fire.
		AwardXPForTriggering    	= 0
		StartAbilityRange			= 25.0 ;80.0
		SpecialWeapon			= WildMountainGiantStomp
	End

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
	End		

	//Toggle CommandSet Based on Weaponset condition flags
	Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper
		ModelConditionFlags			= ATTACKING_POSITION
		ModelConditionCommandSet		= WildMountainGiantRockCommandSetStopBombard
		WeaponSetFlags				= WEAPONSET_TOGGLE_1
		WeaponToggleCommandSet		= WildMountainGiantRockCommandSet
	End
	
	// When created, automatically switch to rock-throwing
	Behavior = DoCommandUpgrade Module_DoCommandUpgrade	
		TriggeredBy = Upgrade_SwitchToRockThrowing
		GetUpgradeCommandButtonName = Command_ToggleMountainGiantRockThrow
	End
	
	Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
	End

	;///////////////////
	; AISpecialPowers
	;///////////////////
	
	Behavior = AISpecialPowerUpdate ToggleSiegeModeAI
		CommandButtonName 	= Command_ToggleMountainGiantRockThrow
		SpecialPowerAIType 	= AI_SPECIAL_POWER_TOGGLE_SIEGE
	End
	
	Behavior = AISpecialPowerUpdate STOMPAI
		CommandButtonName 	= Command_SpecialAbilityWildMountainGiantStomp
		SpecialPowerAIType 	= AI_SPECIAL_POWER_BASIC_SELF_BUFF
		SpecialPowerRadius 	= 50
		SpecialPowerRange 	= 25
	End

	#include "..\..\..\..\SEE_includes\Battlestance_SEE.inc"

	Geometry			= CYLINDER
	GeometryMajorRadius 	= 30 //25 //15 ;So we can crush TREES!
	GeometryHeight		= 67.2 //56.0 (+20%)
	GeometryIsSmall		= No
	Shadow				= SHADOW_VOLUME_NON_SELF_2; volumetric shadow that doesn't cast onto all objects using SHADOW_VOLUME_NON_SELF_2
	ShadowSizeX			= 36; clamp the angle so shadow isn't as long.

End

;---------------------------------------------------------------------------------------------------------------
;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
;---------------------------------------------------------------------------------------------------------------

ChildObject WildMountainGiantSentry WildMountainGiant

	Draw = W3DScriptedModelDraw ModuleTag_01
	
		StaticModelLODMode		= Yes

		OkToChangeModelColor	= Yes
		ExtraPublicBone			= IMPACT
		ExtraPublicBone			= ROCK		

		StaticModelLODMode		= yes ; Will append M or L to the skin name depending on GameLOD
	
	
		DefaultModelConditionState
			Model               = WUMntGnt_SKN
			Skeleton			= WUMntGnt_SKL
			WeaponLaunchBone    = PRIMARY ROCK
			WeaponLaunchBone    = SECONDARY ROCK
		End
		

		IdleAnimationState
			StateName = Idle
			Animation = Breathe
				AnimationName = WUMntGnt_FIDLA 
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 40
			End
			Animation = BellyScratch
				AnimationName = WUMntGnt_FIDLB
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 10
			End			
			Flags						= RESTART_ANIM_WHEN_COMPLETE		
			BeginScript
				CurDrawableHideSubObjectPermanently("ROCK")
			EndScript
		End
		
		AnimationState = DYING
			Animation
				AnimationName     =  WUMntGnt_FDIEA
				AnimationMode     = ONCE
			End
		End		

		AnimationState = FIRING_OR_PREATTACK_A 
			Animation
				AnimationName = WUMntGnt_FATKA
				AnimationMode = ONCE
				UseWeaponTiming = Yes
				AnimationBlendTime = 0
			End
			BeginScript
				CurDrawableShowSubObjectPermanently("ROCK")
			EndScript
			FrameForPristineBonePositions = 99
			StateName = Throw
		End		

		AnimationState = TURN_LEFT
			Animation
				AnimationName = WUMntGnt_FTNL
				AnimationMode = LOOP				
				AnimationBlendTime = 10
			End
			BeginScript
				CurDrawableHideSubObjectPermanently("ROCK")
			EndScript
		End

		AnimationState = TURN_RIGHT
			Animation
				AnimationName = WUMntGnt_FTNR
				AnimationMode = LOOP
				AnimationBlendTime = 10
			End
			BeginScript
				CurDrawableHideSubObjectPermanently("ROCK")
			EndScript
		End
	End	;//Draw Module

	;// No command points for this as it's free.
	CommandPoints			= 0
  VisionRange = #SUBTRACT( WILD_FORTRESS_VISION_RANGE VISION_FORTRESS_EXPANSION_DIF )
  ShroudClearingRange = #SUBTRACT( WILD_FORTRESS_SHROUD_CLEAR SHROUD_CLEAR_FORTRESS_EXPANSION_DIF )
	ShockwaveResistance		= SHOCKWAVE_RESISTANCE_ALWAYS


	;//Should be the same kindof as the Wild Mountain Giant except with IGNORE_SELECT_ALL
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_INFANTRY CAN_ATTACK_WALLS SCARY BIG_MONSTER IGNORES_SELECT_ALL NO_FREEWILL_ENTER SIEGEENGINE

	;// Needs a specialised command set without move based commands.
	CommandSet = WildMountainGiantSentryCommandSet

	Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper
		ModelConditionFlags			= ATTACKING_POSITION
		ModelConditionCommandSet	= WildMountainGiantSentryCommandSetStopBombard
	End
	
	WeaponSet
		Conditions          =  None
		Weapon              =  PRIMARY    WildMountainGiantSentryRockThrow	
		;Weapon              =  PRIMARY    GondorArcherBow
	End

	LocomotorSet
		Locomotor = FloatingCatapultLocomotor
		Condition = SET_NORMAL
		Speed     = 0
	End
			
	; *** AUDIO Parameters ***;

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	VoiceAttack				= MountainGiantVoxAttack
	VoiceAttackCharge		= MountainGiantVoxAttack
	VoiceAttackMachine		= MountainGiantVoxAttack
	VoiceAttackStructure	= MountainGiantVoxAttack
	VoiceCreated			= NoSound
	VoiceCreated			= +SOUND:MountainGiantVoxCreated
	VoiceFullyCreated		= NoSound
	VoiceFullyCreated		= +SOUND:MountainGiantVoxCreated
	VoiceGuard				= MountainGiantVoxMove
	VoiceMove				= MountainGiantVoxMove
	VoicePriority			= 30
	VoiceSelect				= MountainGiantVoxSelectMS
	VoiceSelectBattle		= MountainGiantVoxSelectMS
	
	SoundAmbient			= MountainGiantVoxAmbientLoop
	SoundImpact				= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= NoSound
		VoiceEnterUnitMordorMumakil			= NoSound
		VoiceEnterUnitSlaughterHouse		= NoSound
		VoiceGarrison						= NoSound
		VoiceInitiateCaptureBuilding		= NoSound
	End

	;------------------------------

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= No
	End

	//We should die when the expansion does!
	Behavior = SlavedUpdate ModuleTag_Slave
		DieOnMastersDeath	= Yes
		MarkUnselectable	= No
	End

	Behavior = SlowDeathBehavior ModuleTag_50
		DeathTypes			= ALL							;-KNOCKBACK -FADED
		DestructionDelay	= 1800		
		SinkDelay			= 0
		SinkRate			= 10.0							; in Dist/Sec
		Sound				= INITIAL MountainGiantVoxDie
		DeathFlags			= DEATH_1						; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
	End
    
	Scale = 1.2 //40% bigger for SEE! //Used to be ".80"

	Shadow = SHADOW_VOLUME
End

;---------------------------------------------------------------------------------------------------------------
;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
;---------------------------------------------------------------------------------------------------------------

ChildObject WildMountainGiant_Summoned WildMountainGiant
	IsTrainable	  =	No
	CommandPoints =	0
	CommandSet	  =	WildMountainGiantCommandSet
	EquivalentTo  =	WildMountainGiant
	
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	// This one displays the timer, but the one in the uint does the work 
		MinLifetime		= WILD_MOUNTAIN_GIANT_LIFETIME //CREATE_A_HERO_REINFORCEMENT_LIFETIME
		MaxLifetime		= WILD_MOUNTAIN_GIANT_LIFETIME //CREATE_A_HERO_REINFORCEMENT_LIFETIME
		DeathType		= FADED
	End	

	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes			= NONE +FADED
		FadeDelay			= 0
		FadeTime			= 5000
		DestructionDelay	= 5000
        DeathFlags			= DEATH_3
		FX	  = INITIAL FX_MoriaSpellbookStoneGiantsDeSummon
		Sound = INITIAL SpellGenericUnsummonFasterMS
	End	

End

//-----------------------------------------------------------------------------------------
Object MoriaStoneGiantsEgg
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	
	KindOf	= INERT IMMOBILE UNATTACKABLE
	
	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth	= 1
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay	= 2000
		FX					= INITIAL FX_MoriaSpellbookStoneGiantsSummon
		Sound 				= INITIAL SpellGenericUnsummonFasterMS
		OCL					= INITIAL OCL_MoriaStoneGiants
	End
End
