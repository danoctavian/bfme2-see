; ####################################################
; "Battle for Middle Earth II - Special Extended Edition - Director's Cut"
; ####################################################

; GoblinFighter.INI for MORIA (Wild) faction...
; ------------------------------------------------------------------------------
; NOTE: Keep this organized!


Object GoblinFighter

	ButtonImage 	= WOR_GoblinFighters
	SelectPortrait 	= UPWild_GoblinWarrior
  
	Draw = W3DHordeModelDraw ModuleTag_01
		DefaultModelConditionState
			Model 		= MUSwrdGob_NHA 
			Skeleton 	= MUGblnSwrd_SKL  
		End
		ModelConditionState = USER_9
			Model 		= MUSwrdGob_NHA
			Skeleton 	= MUGblnSwrd_SKL 
			ParticleSysBone = NONE MoriaSpellbookScurry
		End
	End	
		
	;***** IMPORTANT NOTE! *******************************************************************	
	;Certain upgrades and costs may need to be propagated from here. One example was veterancy overlays.
	;*****************************************************************************************	

	Side 			= Wild
	EditorSorting 	= UNIT
	BuildVariations 	= GoblinFighter1 GoblinFighter2 GoblinFighter3
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP CAN_CLIMB_WALLS ORC	

	;Shadow = SHADOW_DECAL
	;ShadowSizeX = 24;
	;ShadowSizeY = 24;
	;ShadowTexture = ShadowI;
	
End	

; ------------------------------------------------------------------------------

Object GoblinFighter1

	ButtonImage 	= WOR_GoblinFighters
	SelectPortrait 	= UPWild_GoblinWarrior
	
	Draw = W3DHordeModelDraw ModuleTag_01	
	
		OkToChangeModelColor 	= No //Yes ;In SEE we don't want factions colors on units! 
		StaticModelLODMode 		= Yes 
	
		LodOptions					= LOW
			AllowMultipleModels		= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions					= MEDIUM
			AllowMultipleModels		= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions					= HIGH
			AllowMultipleModels		= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		= MAX_ANIM_FRAME_DELTA_HIGH
		End
		
		WadingParticleSys = EntRipples  //Used when the unit is wading in shallow water. Make sure ALL units (inc monsters, machines, etc) has this! (Naz)
		
		RandomTexture = MUGblnSwrd.tga 0 MUGblnSwrd.tga	;RandomTexture operates this way: XXX.tga <---------- XXX.tga	
    
		#include "goblinfighter_anims.inc"
	End
	
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState = MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None InfantryDustTrails_SEE
	    End
	    AnimationState = MOVING DECELERATE
			ParticleSysBone = None InfantryDustTrails_SEE
	    End
	    AnimationState = MOVING 
			ParticleSysBone	= None InfantryDustTrails_SEE
	    End
	End  	
  
    #include "..\..\..\includes\StunDrawModuleSmall.inc" //SEE!

; ------------------------------------------------------------------------------
	
  ; ***DESIGN parameters ***
	Side				= Wild
	IsTrainable			= Yes
	EditorSorting		= UNIT
	ThreatLevel			= 1.0
	ThingClass			= HORDE_UNIT
	CommandPoints		= 1
	EquivalentTo 			= GoblinFighter
	TransportSlotCount 	= TRANSPORTSLOTCOUNT_UNIT
	ShockwaveResistance 	= SHOCKWAVE_RESISTANCE_WEAK	

; ------------------------------------------------------------------------------
	
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY GoblinFighterSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = PLAYER_UPGRADE ;WEAPONSET_TOGGLE_1
		Weapon = PRIMARY GoblinFighterSwordPoisoned
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	
; ------------------------------------------------------------------------------	
	ArmorSet
		Conditions      	= None
		Armor           = GoblinFighterArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions		= PLAYER_UPGRADE
		Armor			= GoblinFighterScavengedArmor
		DamageFX        = NormalDamageFX
	End
	
; ------------------------------------------------------------------------------
	
	VisionRange 		= VISION_STANDARD_MELEE_HORDEMEMBER //GOBLIN_FIGHTER_VISION_RANGE	
	ShroudClearingRange 	= SHROUD_CLEAR_STANDARD 
	
	VisionSide 	= 35%
	VisionRear 	= 25%
	
	; MaxVisionBonusPercent = 300% 	//Sûl took this out? Why? Maybe cause the Horde has it? (Naz)
	; VisionBonusTestRadius = 200
	; VisionBonusPercentPerFoot = 2.0%
	
	DisplayName			= OBJECT:GoblinFighter
	CrushableLevel		= 0		;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel			= 0		;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
	BountyValue			= GOBLIN_FIGHTER_BOUNTY_VALUE
	CrushRevengeWeapon	= BasicInfantryCrushRevenge
	CommandSet			= GoblinFighterCommandSet

; ------------------------------------------------------------------------------
	
	; *** AUDIO Parameters ***;

	VoiceAttack							= GoblinWarriorVoiceAttack
	VoiceAttackCharge					= GoblinWarriorVoiceAttackCharge
	VoiceAttackMachine					= GoblinWarriorVoiceAttack
	VoiceAttackStructure					= GoblinWarriorVoiceAttackBuilding
	VoiceCreated							= EVA:GoblinWarriorCreated
	VoiceFullyCreated						= EVA:GoblinWarriorCreated
	VoiceGuard							= GoblinWarriorVoiceGuard
	VoiceMove							= GoblinWarriorVoiceMove
	VoiceMoveOverWalls					= GoblinWarriorVoiceMoveWalls
	VoiceMoveToCamp						= GoblinWarriorVoiceMoveCamp
	VoiceMoveWhileAttacking				= GoblinWarriorVoiceDisengage
	VoicePriority							= 30
	VoiceRetreatToCastle					= GoblinWarriorVoiceRetreat
	VoiceSelect							= GoblinWarriorVoiceSelectMS
	VoiceSelectBattle 						= GoblinWarriorVoiceSelectBattle

	VoiceEnterStateAttack					= GoblinWarriorVoiceEnterStateAttack
	VoiceEnterStateAttackCharge			= GoblinWarriorVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine			= GoblinWarriorVoiceEnterStateAttack
	VoiceEnterStateAttackStructure			= GoblinWarriorVoiceEnterStateAttackBuilding
	VoiceEnterStateMove					= GoblinWarriorVoiceEnterStateMove
	VoiceEnterStateMoveOverWalls			= GoblinWarriorVoiceEnterStateMoveWalls
	VoiceEnterStateMoveToCamp			= GoblinWarriorVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking		= GoblinWarriorVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle			= GoblinWarriorVoiceEnterStateRetreat

	SoundImpact							= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= GoblinWarriorVoiceMoveShip
		VoiceEnterUnitMordorMumakil		= GoblinWarriorVoiceMoveGarrison
		VoiceEnterUnitSlaughterHouse		= GoblinWarriorVoiceMoveGarrison
		VoiceGarrison						= GoblinWarriorVoiceMoveGarrison
		VoiceInitiateCaptureBuilding			= GoblinWarriorVoiceCaptureBuilding
	End

	CrowdResponseKey = Goblin

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		;ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionGoblinCompilationVoxCheerSinglesLoop	;MOVING ATTACKING 
		;ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionGoblinCompilationVoxTauntSinglesLoop	;MOVING ATTACKING
		ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionGoblinCompilationVoxTauntSinglesLoop
	End

	;Waiting to see if the emotion system is going to be improved first before hooking up emotional audio
	;
	;ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_ModelConditionAudioLoop
	;	ModelCondition = Required:EMOTION_POINTING		Sound:GoblinWarriorVoicePointLoop
	;	ModelCondition = Required:EMOTION_AFRAID 		Sound:GoblinWarriorVoiceFearLoop
	;	ModelCondition = Required:EMOTION_TAUNTING		Sound:GoblinWarriorVoiceTauntLoop
	;	ModelCondition = Required:EMOTION_CELEBRATING	Sound:GoblinWarriorVoiceCheerLoop
	;End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
      	MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallGeneric2	Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEA	Frames:10
		AnimationSound = Sound:BodyFallGeneric2	Animation:MUGblnSwrd_SKL.MUGblnSwrd_DIEB	Frames:7
		AnimationSound = Sound:BodyFallOrc			Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDB	Frames:6
		AnimationSound = Sound:BodyFallOrc			Animation:MUGblnSwrd_SKL.MUGblnSwrd_LNDC	Frames:3
	End

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU		;Tie into LargeGroupAudio system
		Key  = Goblin
	End
	
; ------------------------------------------------------------------------------	

  ; *** ENGINEERING Parameters ***
  
 	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP CAN_CLIMB_WALLS ORC
  
	Body = ActiveBody ModuleTag_02
		MaxHealth         	= GOBLIN_FIGHTER_HEALTH
		MaxHealthDamaged  	= GOBLIN_FIGHTER_HEALTH_DAMAGED
		BurningDeathBehavior 	= Yes
		BurningDeathFX       = FX_InfantryBurningFlame
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ;ATTACK_BUILDINGS
		MoodAttackCheckRate			= 500
		AILuaEventsList				= GoblinFighterFunctions //IsengardFighterFunctions
		AttackPriority				= AttackPriority_Infantry
		BurningDeathTime				= BURNINGDEATH_DURATION_INFANTRY
	End	
	
	Behavior = SpecialPowerModule ModuleTag_PoisonedBladeSpecialPower                      
		SpecialPowerTemplate	= SpecialAbilityGoblinFighterPoisonedBlades
		StartsPaused				= No
	End

	Behavior = WeaponModeSpecialPowerUpdate ModuleTag_PoisonedBladeUpdate
		SpecialPowerTemplate	= SpecialAbilityGoblinFighterPoisonedBlades
		Duration					= 20000
		WeaponSetFlags			= WEAPONSET_TOGGLE_1
		StartsPaused				= No
	End

; ------------------------------------------------------------------------------

	LocomotorSet
		Locomotor    	= TestWallScalingHordeLocomotor
		Condition     	= SET_NORMAL
		Speed        	= NORMAL_WILD_FAST_MEMBER_SPEED		; RotWK originally NORMAL_FOOT_VERYFAST_MEMBER_SPEED
	End
	LocomotorSet
		Locomotor    	= HumanWanderLocomotor
		Condition     	= SET_WANDER
		Speed        	= NORMAL_WILD_FAST_MEMBER_SPEED
	End
	LocomotorSet
		Locomotor 		= BurningDeathLocomotorInfantry
		Condition 		= SET_BURNINGDEATH
		Speed	  		= BURNINGDEATH_WANDERSPEED_INFANTRY
	End
	
; ------------------------------------------------------------------------------	
 
	Behavior = FlammableUpdate ModuleTag_BurningDeathPromotor
		AflameDuration		= TROOP_AFLAME_DURATION			// If I catch fire, I'll burn for this long...
		AflameDamageAmount	= TROOP_AFLAME_DAMAGE_AMOUNT		// taking this much damage...
		AflameDamageDelay	= TROOP_AFLAME_DAMAGE_DELAY		// this often.
		FlameDamageLimit		= TROOP_FLAME_DAMAGE_LIMIT
		FlameDamageExpiration	= TROOP_FLAME_DAMAGE_EXPIRATION
	End
  
	Behavior = SlowDeathBehavior ModuleTag_SDB1
		DeathTypes 		= ALL -KNOCKBACK -NORMAL
		SinkDelay		= BURNINGDEATH_SINKDELAY_HUMANIOD
		SinkRate			= BURNINGDEATH_SINKRATE_HUMANIOD
		DestructionDelay	= BURNINGDEATH_DESTRUCTIONDELAY_HUMANIOD
		Sound = INITIAL GoblinVoxDieMS
	End
 
	Behavior = SquishCollide ModuleTag_SC
	;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
	;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_SDB2
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes 		= NONE +KNOCKBACK
		SinkDelay		= BURNINGDEATH_SINKDELAY_HUMANIOD
		SinkRate			= BURNINGDEATH_SINKRATE_HUMANIOD
		DestructionDelay	= BURNINGDEATH_DESTRUCTIONDELAY_HUMANIOD
		Sound = INITIAL GoblinVoxDieMS
	End	

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult				= 1.0
		ShockStunnedTimeLow		= 800	;msec
		ShockStunnedTimeHigh		= 1000	;msec
		ShockStandingTime		= 2133	;msec
	End
; ------------------------------------------------------------------------------  
//  BezierProjectileBehavior is new in RotWK!
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight				= 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight				= 24
    FirstPercentIndent			= 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent		= 70%
    TumbleRandomly			= Yes

    CrushStyle				= Yes ; I don't detonate, I just hit
    DieOnImpact				= Yes
    BounceCount				= 1   ; When I hit the ground, I'll arc again
    BounceDistance			= 40 ; this far
    BounceFirstHeight			= 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight		= 24
    BounceFirstPercentIndent 	= 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX		= FX_ThrownRockGroundHit
    GroundBounceFX	= FX_ThrownRockBounceHit
  End		
  
	#include "..\..\..\..\SEE_includes\GiantBirdDroppingHumanBody_SEE.inc"
	
; ------------------------------------------------------------------------------ FORGED BLADES	
	
	;Behavior = WeaponSetUpgrade WeaponSetUpgradeForgedBlades //WeaponSetUpgradeModuleTag
	;	TriggeredBy = Upgrade_WildForgedBlades
	;End
	;Behavior = SubObjectsUpgrade Sword_Upgrade
	;	TriggeredBy = Upgrade_WildForgedBlades
	;	ShowSubObjects	= Forged_Blade
	;END	
	
; ------------------------------------------------------------------------------ SCAVENGED ARMOR
		
	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy			= Upgrade_WildHeavyArmor
		UpgradeTexture 		= MUGblnSwrd.tga 0 MUGblnSwrd_HA.tga
		ExcludeSubobjects 	= Forged_Blade
		;RecolorHouse		=   Yes		
	End
	
	Behavior = ArmorUpgrade WildModuleArmorUpgrade
		TriggeredBy		=	Upgrade_WildHeavyArmor
		;ArmorSetFlag	=	PLAYER_UPGRADE
	End

	Behavior = ModelConditionUpgrade WildModuleArmorVisualUpgrade
		TriggeredBy			= Upgrade_WildHeavyArmor
		RequiresAllTriggers		= Yes
		AddConditionFlags		= CREATE_A_HERO_00 ;; = The New HA
	End	
	
; ------------------------------------------------------------------------------ POISONED BLADES

	Behavior = WeaponSetUpgrade WeaponSetUpgradeVenomSacks //WeaponSetUpgradeModuleTag
		TriggeredBy				= Upgrade_WildSpiderVenomSacks
		CustomAnimAndDuration	= AnimState:USER_1 AnimTime:0
	End
	
; ------------------------------------------------------------------------------ SCURRY

	Behavior = AttributeModifierUpgrade ModuleTag_ScurryBonus
		TriggeredBy = Upgrade_MoriaScurry
		AttributeModifier = SpellBookMoriaScurry
	End
    
  Geometry				= CYLINDER
  GeometryMajorRadius		= 8.0
  GeometryMinorRadius		= 8.0
  GeometryHeight			= 19.2
  GeometryIsSmall			= Yes
  
  Shadow				= SHADOW_DECAL
  ShadowSizeX			= 11
  ShadowSizeY			= 11
  ShadowTexture			= ShadowI
End

; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------

ChildObject GoblinFighter2 GoblinFighter1

	ButtonImage 	= WOR_GoblinFighters
	SelectPortrait 	= UPWild_GoblinWarrior
	
	Draw = W3DHordeModelDraw ModuleTag_01

		OkToChangeModelColor 	= No
		StaticModelLODMode 		= Yes 

		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End
		
		WadingParticleSys = EntRipples		
		
		RandomTexture = MUGblnSwrd2.tga 0 MUGblnSwrd.tga
		
		#include "goblinfighter_anims.inc"
		
	End

	EquivalentTo = GoblinFighter

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy = Upgrade_WildHeavyArmor
		UpgradeTexture 	= MUGblnSwrd.tga 0 MUGblnSwrd2_HA.tga
		UpgradeTexture	= MUGblnSwrd2.tga 0 MUGblnSwrd2_HA.tga
		ExcludeSubobjects = Forged_Blade
	End
 
	Behavior = SquishCollide ModuleTag_SC
	;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
	;nothing
	End
	
End

; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------

ChildObject GoblinFighter3 GoblinFighter1

	ButtonImage 	= WOR_GoblinFighters
	SelectPortrait 	= UPWild_GoblinWarrior
	
	Draw = W3DHordeModelDraw ModuleTag_01

		OkToChangeModelColor 	= No
		StaticModelLODMode 		= Yes 

		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End
		
		WadingParticleSys = EntRipples		
		
		RandomTexture = MUGblnSwrd3.tga 0 MUGblnSwrd.tga
		
		#include "goblinfighter_anims.inc"
		
	End

	EquivalentTo = GoblinFighter

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy = Upgrade_WildHeavyArmor
		UpgradeTexture 	= MUGblnSwrd.tga 0 MUGblnSwrd3_HA.tga
		UpgradeTexture	= MUGblnSwrd3.tga 0 MUGblnSwrd3_HA.tga
		ExcludeSubobjects = Forged_Blade
	End
 
	Behavior = SquishCollide ModuleTag_SC
	;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
	;nothing
	End

End

;------------------------------------------------------------------------------
;
;	This child object is used in a converted neutral lair.
;
ChildObject GoblinFighterFromDefectedLair GoblinFighter1

  Draw = W3DHordeModelDraw ModuleTag_01
  
	OkToChangeModelColor 	= No //Yes ;In SEE we don't want factions colors on units! 
	StaticModelLODMode 		= Yes 
	
		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End
		
		WadingParticleSys = EntRipples		
		
		RandomTexture = MUGblnSwrd_HA.tga 0 MUGblnSwrd.tga
		RandomTexture = MUGblnSwrd2_HA.tga 0 MUGblnSwrd.tga
		RandomTexture = MUGblnSwrd3_HA.tga 0 MUGblnSwrd.tga
		
		#include "goblinfighter_anims.inc"
	End
	
	BuildCost	= 10
	BuildTime	= 10
	CommandSet	= CreepCommandSet
	DisplayName = OBJECT:GenericGoblinSwordsman

	ThreatBreakdown GoblinSpiderRiderHorde_DetailedThreat
		AIKindOf = INFANTRY
	End

	Behavior = ProductionUpdate ProductionUpdateModuleTag
		GiveNoXP = Yes
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
		StanceTemplate = FighterHorde
	End
	
	Behavior = ObjectCreationUpgrade ModuleTag_MaketheWarg
		TriggeredBy		= Upgrade_ObjectLevel1		
		FadeInTime		= 0
		GrantUpgrade		= Upgrade_WildSpiderVenomSacks
	End

	; *** AUDIO Parameters ***;

	VoiceAttack 							= GoblinCreepVoxAttack
	VoiceAttackAir						= GoblinCreepVoxAttack
	VoiceAttackStructure					= GoblinCreepVoxAttack
	VoiceAttackCharge					= GoblinCreepVoxAttack
	;VoiceCreated						= EVA:OrcArchersCreated
	;VoiceFullyCreated 					= EVA:OrcArchersCreated
	VoiceMove 							= GoblinCreepVoxMove
	VoiceMoveWhileAttacking				= GoblinCreepVoxMove
	VoicePriority							= 3
	VoiceRetreatToCastle					= GoblinCreepVoxMove
	VoiceSelect 							= GoblinCreepVoxSelectMS
	VoiceSelectBattle						= GoblinCreepVoxSelectMS

	;VoiceEnterStateAttack 				= OrcArcherVoiceEnterStateAttack		
	;VoiceEnterStateAttackStructure			= OrcArcherVoiceEnterStateAttackBuilding
	;VoiceEnterStateAttackCharge			= OrcArcherVoiceEnterStateAttackCharge
	;VoiceEnterStateMove 					= OrcArcherVoiceEnterStateMove		
	;VoiceEnterStateMoveWhileAttacking		= OrcArcherVoiceEnterStateDisengage
	;VoiceEnterStateRetreatToCastle		= OrcArcherVoiceEnterStateRetreat
	
	SoundImpact 						= ImpactHorse					;UrukDie

	UnitSpecificSounds
		VoiceGarrison						= GoblinCreepVoxMove
		VoiceEnterUnitSlaughterHouse		= GoblinCreepVoxMove
		VoiceEnterUnitMordorMumakil		= GoblinCreepVoxMove
		VoiceEnterUnitEvilMenTransportShip	= GoblinCreepVoxMove
		VoiceEnterUnitTransportShip			= GoblinCreepVoxMove
		VoiceInitiateCaptureBuilding			= GoblinCreepVoxMove
	End
	
	Behavior = SlowDeathBehavior ModuleTag_SDB1
		DeathTypes 		= ALL -KNOCKBACK -NORMAL
		SinkDelay		= BURNINGDEATH_SINKDELAY_HUMANIOD
		SinkRate			= BURNINGDEATH_SINKRATE_HUMANIOD
		DestructionDelay	= BURNINGDEATH_DESTRUCTIONDELAY_HUMANIOD
		Sound = INITIAL GoblinVoxDieMS
	End
 
	Behavior = SquishCollide ModuleTag_SC
	;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
	;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_SDB2
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes 		= NONE +KNOCKBACK
		SinkDelay		= BURNINGDEATH_SINKDELAY_HUMANIOD
		SinkRate			= BURNINGDEATH_SINKRATE_HUMANIOD
		DestructionDelay	= BURNINGDEATH_DESTRUCTIONDELAY_HUMANIOD
		Sound = INITIAL GoblinVoxDieMS
	End	

 	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	350		; max distance to taunted/pointed objet
		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
		TauntAndPointExcluded		=	NONE
		AfraidOf					=	EMOTION_AFRAIDOF_OBJECTFILTER
		AlwaysAfraidOf			=	EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER
		PointAt					=	EMOTION_POINTAT_OBJECTFILTER
		HeroScanDistance			=	150
		FearScanDistance			=	250

		AddEmotion	=	Terror_Base
		AddEmotion	=	Doom_Base
		AddEmotion	=   BraceForBeingCrushed_Base
		AddEmotion	=	UncontrollableFear_Base_Evil
		AddEmotion	=	FearIdle_Base
		AddEmotion	=	FearBusy_Base
		AddEmotion	=	Point_Base
		AddEmotion	=	Taunt_Base	
		AddEmotion	=	CheerIdle_Base
		AddEmotion	=	CheerBusy_Base
		AddEmotion	=	HeroCheerIdle_Base
		AddEmotion	=	HeroCheerBusy_Base
		AddEmotion	=	Alert_Base
	End

	#include "..\..\..\..\SEE_includes\Battlestance_SEE.inc"

End

;------------------------------------------------------------------------------
;
;	This child object is used in the neutral lair.
;
ChildObject GoblinFighter_Slaved GoblinFighterFromDefectedLair

	; Should be the same as MordorGoblinSwordsman but with CREEP
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP CAN_CLIMB_WALLS ORC CREEP CAN_ATTACK
	VisionRange = CREEP_VISION
	EquivalentTo 	= GoblinFighterFromDefectedLair
	
	EvaEnemyObjectSightedEvent = GoblinCreepSighted ; Special event for goblins showing up. Helps distinguish the real enemies from random creeps
	EvaEnemyObjectSightedAfterRespawnEvent = GoblinCreepSighted ; Event to run after the Goblin Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units
	
	WeaponSet
		Conditions = None
		Weapon = PRIMARY GoblinFighterSwordPoisoned
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ThreatBreakdown MordorGoblinSwordsmanSlaved_ThreatBreakdown
		AIKindOf = CREEP
	End

	Behavior = SlowDeathBehavior ModuleTag_SDB1
		DeathTypes 		= ALL -KNOCKBACK -NORMAL
		SinkDelay		= BURNINGDEATH_SINKDELAY_HUMANIOD
		SinkRate			= BURNINGDEATH_SINKRATE_HUMANIOD
		DestructionDelay	= BURNINGDEATH_DESTRUCTIONDELAY_HUMANIOD
		Sound = INITIAL GoblinVoxDieMS
	End
 
	Behavior = SquishCollide ModuleTag_SC
	;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
	;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_SDB2
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes 		= NONE +KNOCKBACK
		SinkDelay		= BURNINGDEATH_SINKDELAY_HUMANIOD
		SinkRate			= BURNINGDEATH_SINKRATE_HUMANIOD
		DestructionDelay	= BURNINGDEATH_DESTRUCTIONDELAY_HUMANIOD
		Sound = INITIAL GoblinVoxDieMS
	End	
	
	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 250
		GuardWanderRange	= 40
		UseSlaverAsControlForEvaObjectSightedEvents = Yes
	End
	
	Behavior = ModelConditionUpgrade ModuleTag_VenomFX
		TriggeredBy			= Upgrade_ObjectLevel1
		AddConditionFlags	= USER_1
	End

End
