;------------------------------------------------------------------------------
; aka Ranger NoStealth
//So as you can see, he is no longer allowed to be an awesome ninja :(
Object GondorRangerNoStealth

	; *** ART Parameters ***

	SelectPortrait         = UPGondor_Ranger
;	SelectPortrait         = SP_Gondor_Swordman

	Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes	
		StaticModelLODMode = Yes
		
		; specify options for static LODs
		LodOptions	= LOW
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions	= MEDIUM
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions	= HIGH
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		End

;;=================== MODELS ============================================================
; --------- With Bow ------------
; Bah, must come first even though all the other bow stuff is below the sword stuff
		DefaultModelConditionState
			Model							= GURanger_SKNM
			WeaponLaunchBone				= PRIMARY ARROW
		End

		ModelConditionState				WEAPONSET_PLAYER_UPGRADE
			Model							= GURanger_SKNM
			WeaponLaunchBone				= PRIMARY ARROW
			WeaponLaunchBone				= SECONDARY ARROWNOCK	; when upgraded to flaming arrow
			ParticleSysBone					= FireArowTip arrowFire FollowBone:Yes
			ParticleSysBone					= FireArowTip arrowFire FollowBone:Yes
		End
		
; -------- With Sword ------------

		ModelConditionState				WEAPONSET_TOGGLE_1
			Model							= GURanger_SKNM
		End

;;================== ANIMATIONS ==============================================================		
; -------- Falling and flying and dying ----------
		
		AnimationState						= STUNNED_STANDING_UP 
			Animation						= GTPA
				AnimationName				= GURanger_SKL.GURanger_GTPA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.7 1.1
			End
		End
		
		AnimationState						= PASSENGER
			Animation						= FLLA
				AnimationName				= GURanger_SKL.GURanger_FLLA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
			StateName						= Bow
		End
		
		AnimationState						= THROWN_PROJECTILE
			Animation						= FLYA
				AnimationName				= GURanger_SKL.GURanger_FLYA
				AnimationMode				= LOOP
			End
		End

		AnimationState						= DYING SPLATTED
			Animation						= Splattered
				AnimationName				= GURanger_SKL.GURanger_LNDA
				AnimationMode				= ONCE
			End
		End

		AnimationState						= STUNNED 
			Animation						= Stun
				AnimationName				= GURanger_SKL.GURanger_LNDA
				AnimationMode				= ONCE
			End
		End

		AnimationState						= DYING
			Animation						= Die
				AnimationName				= GURanger_SKL.GURanger_DIEA
				AnimationMode				= ONCE
			End
		End
		
		
		
; --------- With Sword ------------
	
;		AnimationState						= MOVING DAMAGED WEAPONSET_TOGGLE_1
;			Animation						= STATE_Damaged_Walk_Sword
;				AnimationName				= GURanger_SKL.GURanger_IWKA
;				AnimationMode				= LOOP
;			End
;			Flags							= RANDOMSTART
;			StateName						= Sword
;			;ParticleSysBone				= None InfantryDustTrails
;			BeginScript
;				CurDrawableHideSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
;			EndScript
;		End
		
;		AnimationState						= MOVING ATTACKING WEAPONSET_TOGGLE_1
;			
;			StateName						= STATE_Run_Sword
;			
;			Animation						= RunWithSword
;				AnimationName				= GURanger_SKL.GURanger_RUNB
;				AnimationMode				= LOOP
;			End
;			
;			Flags							= RANDOMSTART
;			;ParticleSysBone				= None InfantryDustTrails
;			
;			BeginScript
;				CurDrawableHideSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "Bow" then CurDrawableSetTransitionAnimState("TransBowToSword") end
;			EndScript
;		End
		
		AnimationState						= MOVING WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Run_Sword
		
			Animation						= RunWithSword
				AnimationName				= GURanger_SKL.GURanger_RUNB
				AnimationMode				= LOOP
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End

		AnimationState						= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Idle_Sword ;;this is what they look like at the end of the animation
		
			Animation						= AttackWithSwordA
				AnimationName				= GURanger_SKL.GURanger_ATKA
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= AttackWithSwordB
				AnimationName				= GURanger_SKL.GURanger_ATKB
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End

		AnimationState						= DYING WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Dead_Sword
			
			Animation						= DieWithSword
				AnimationName				= GURanger_SKL.GURanger_DIEB
				AnimationMode				= ONCE
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End
		
	

;---- Bow --------------------------------

		;;---- Bow Idle Animation State
		
		
		AnimationState						= MOVING BACKING_UP WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= BackingUp
				AnimationName				= GURanger_SKL.GURanger_RUNC
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End

		AnimationState						= MOVING DAMAGED WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Damaged_Walk_Bow
		
			ShareAnimation					= Yes
			Animation						= InjuredWalk
				AnimationName				= GURanger_SKL.GURanger_IWKA
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING PANICKING WEAPONSET_PLAYER_UPGRADE
		
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= RUNM
				AnimationName				= GURanger_SKL.GURanger_MFDA
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= Run
				AnimationName				= GURanger_SKL.GURanger_RUNA
				AnimationMode				= LOOP
                AnimationSpeedFactorRange	= .7 .7 ;
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING BACKING_UP
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= BackingUp
				AnimationName				= GURanger_SKL.GURanger_RUNC
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART  
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End

;		AnimationState						= MOVING DAMAGED
;			
;			StateName						= STATE_Damaged_Walk_Bow
;		
;			ShareAnimation					= Yes
;			Animation						= InjuredWalk
;				AnimationName				= GURanger_SKL.GURanger_IWKA
;				AnimationMode				= LOOP
;			End
;			
;			Flags							= RANDOMSTART
;			
;			BeginScript
;				CurDrawableShowSubObject("arrow")
;				CurDrawableHideSubObject("arrownock")
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
;				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
;			EndScript
;		End
		
		AnimationState						= MOVING PANICKING
		
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= RUNM
				AnimationName				= GURanger_SKL.GURanger_MFDA
				AnimationMode				= LOOP
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		
		AnimationState						= MOVING
			
			StateName						= STATE_Run_Bow
		
			ShareAnimation					= Yes
			Animation						= Run
				AnimationName				= GURanger_SKL.GURanger_RUNA
				AnimationMode				= LOOP
                AnimationSpeedFactorRange	= .7 .7 ;
			End
			
			Flags							= RANDOMSTART
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End

;---------------------------------------------------
		;New style firing
		AnimationState						= PREATTACK_A 
		
			StateName						= STATE_Firing
			
			Animation						= ReadyToDrawn
				AnimationName				= GURanger_SKL.GURanger_ATKD1
				AnimationMode				= ONCE
;				UseWeaponTiming				= Yes
				AnimationBlendTime			= 0
			End
		End

		AnimationState						= FIRING_A
		
			StateName						= STATE_Firing
			
			Animation						= OneFrameOfShooting
				AnimationName				= GURanger_SKL.GURanger_ATKD2
				AnimationMode				= MANUAL
			End
		End

		AnimationState						= RELOADING_A 
		
			StateName						= STATE_Firing
			
			Animation						= LooseReloadDraw
				AnimationName				= GURanger_SKL.GURanger_ATKD2
				AnimationMode				= ONCE
;				UseWeaponTiming				= Yes
			End
		End
		
		AnimationState						= CONTINUOUS_FIRE_MEAN
		
			StateName						= STATE_Firing
			
			Animation						= HangFrameWhileCoasting
				AnimationName				= GURanger_SKL.GURanger_ATKD2
				AnimationMode				= MANUAL
			End
		End
		
		AnimationState						= CONTINUOUS_FIRE_SLOW
		
			StateName						= STATE_Idle_Bow
			
			Animation						= PutAwayArrow
				AnimationName				= GURanger_SKL.GURanger_ATKD3
				AnimationMode				= ONCE
			End
		End
		
		;End New style firing
;---------------------------------------------------


; --------- Click and Hit Reactions ------------	
		AnimationState						= HIT_REACTION
			Animation						= Hit_Level_1_a
				AnimationName				= GURanger_SKL.GURanger_HITA
				AnimationMode				= ONCE
			End
		End


;;------------- EMOTIONS ------------------------------------------------
		AnimationState						= EMOTION_AFRAID WEAPONSET_TOGGLE_1
			ShareAnimation					= Yes
			Animation						= &&FEAR WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_AFRAID
			ShareAnimation					= Yes
			StateName						= STATE_Afraid
			Animation						= FERA
				AnimationName				= GURanger_SKL.GURanger_FERA
				AnimationMode				= LOOP
			End
			Animation						= FERB
				AnimationName				= GURanger_SKL.GURanger_FERB
				AnimationMode				= LOOP
			End
		End
		
		AnimationState						= EMOTION_TAUNTING WEAPONSET_TOGGLE_1
			Animation						= &&TAUNT WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_TAUNTING
			ShareAnimation					= Yes
			Animation						= Taunting
				AnimationName				= GURanger_SKL.GURanger_TNTA
				AnimationMode				= ONCE
			End
			Animation						= Taunting2
				AnimationName				= GURanger_SKL.GURanger_TNTB
				AnimationMode				= ONCE
			End
			Flags							= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState						= EMOTION_POINTING WEAPONSET_TOGGLE_1
			Animation						= &&POINT WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_POINTING
			Animation						= Pointing1
				AnimationName				= GURanger_SKL.GURanger_PNTA
				AnimationMode				= LOOP
			End
		End

		AnimationState						= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			Animation						= &&CHEER WITH SWORD&&
				AnimationName				= GURanger_SKL.GURanger_IDLA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= EMOTION_CELEBRATING
			ShareAnimation					= Yes
			Animation						= CHRA
				AnimationName				= GURanger_SKL.GURanger_CHRA
				AnimationMode				= Once
			End
			Animation						= CHRB
				AnimationName				= GURanger_SKL.GURanger_CHRB
				AnimationMode				= Once
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState						= EMOTION_ALERT
			Animation						= IdleBowA
				AnimationName				= GURanger_SKL.GURanger_IDLA 
				AnimationMode				= ONCE
			End
		End
	;--------- selected animation -----------------------------
	
		AnimationState						= SELECTED WEAPONSET_TOGGLE_1
			StateName						= STATE_Idle_Sword
			
			Animation						= SwordIdle
				AnimationName				= GURanger_SKL.GURanger_IDLB
				AnimationMode				= LOOP
			End
		End
		AnimationState						= SELECTED
			StateName						= STATE_Idle_Bow
			
			Animation						= selected
				AnimationName				= GURanger_SKL.GURanger_IDLA 
				AnimationMode				= ONCE
			End
		End

	;;---- Idle Animation State ---------------------------------------
		AnimationState						= WEAPONSET_TOGGLE_1
		
			StateName						= STATE_Idle_Sword
			
			Animation						= SwordIdle
				AnimationName				= GURanger_SKL.GURanger_IDLB
				AnimationMode				= LOOP
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
				if Prev == "STATE_Idle_Bow" then CurDrawableSetTransitionAnimState("TRANS_Bow_To_Sword") end
			EndScript
		End
		AnimationState						= WEAPONSET_PLAYER_UPGRADE
			
			StateName						= STATE_Idle_Bow
		
			Animation						= IdleBow
				AnimationName				= GURanger_SKL.GURanger_IDLA 
				AnimationMode				= LOOP
			End

			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
			EndScript
		End
		IdleAnimationState
			StateName						= STATE_Idle_Bow

			Animation						= IdleBowG
				AnimationName				= GURanger_SKL.GURanger_IDLG
				AnimationMode				= ONCE
			End

			Animation						= IdleBowF
				AnimationName				= GURanger_SKL.GURanger_IDLF 
				AnimationMode				= ONCE
			End
			
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Run_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end
				if Prev == "STATE_Idle_Sword" then CurDrawableSetTransitionAnimState("TRANS_Sword_To_Bow") end	
			EndScript
		End

;---transitions--------------------------------------------
		TransitionState						= TRANS_Bow_To_Sword
			Animation						= DrawSwords
				AnimationName				= GURanger_SKL.GURanger_STHA
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.9 1.1
			End
		End

		TransitionState						= TRANS_Sword_To_Bow
			Animation						= DrawBow
				AnimationName				= GURanger_SKL.GURanger_STHB
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 0.9 1.1
			End
		End
	End
	
	
	; ***DESIGN parameters ***
	Side = Men
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1
	BountyValue = GONDOR_RANGER_BOUNTY_VALUE

	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GondorRangerBow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		Weapon = PRIMARY    GondorRangerSword
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = RangerArmor
		DamageFX        = NormalDamageFX
	End
	
;	ArmorSet
;		Conditions      = PLAYER_UPGRADE
;		Armor           = HeavyArmor
;		DamageFX        = NormalDamageFX
;	End
	
	VisionRange = VISION_STANDARD_MELEE
	VisionSide = 35%
	VisionRear = 25%
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	DisplayName = OBJECT:GondorRanger
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon = RangedInfantryCrushRevenge
	
	CommandSet = GondorRangerCommandSet


  ; *** AUDIO Parameters ***;

	VoiceAttack					= RangerVoiceAttack
	VoiceAttackAir				= RangerVoiceAttack				
	VoiceAttackCharge				= RangerVoiceAttack
	VoiceAttackMachine			= RangerVoiceAttack
	VoiceAttackStructure			= RangerVoiceAttackBuilding
	VoiceEnterStateAttack			= RangerVoiceEnterStateAttack	
	VoiceEnterStateAttackCharge		= RangerVoiceEnterStateAttack
	VoiceEnterStateAttackMachine		= RangerVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackStructure	= RangerVoiceEnterStateAttackBuilding
	VoiceCreated				= RangerVoiceSalute
	VoiceFullyCreated 			= RangerVoiceSalute		
	VoiceGuard					= RangerVoiceMove
	VoiceMove					= RangerVoiceMove		
	VoiceMoveToCamp				= RangerVoiceMoveCamp
	VoiceMoveWhileAttacking			= RangerVoiceDisengage
	VoiceEnterStateMove			= RangerVoiceEnterStateMove
	VoiceEnterStateMoveToCamp		= RangerVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking	= RangerVoiceEnterStateDisengage
	VoicePriority				= 43
	VoiceRetreatToCastle			= RangerVoiceRetreat
	VoiceEnterStateRetreatToCastle	= RangerVoiceEnterStateRetreat
	VoiceSelect					= RangerVoiceSelectMS		;GondorArcherVoiceSelect
	VoiceSelectBattle 			= RangerVoiceSelectBattle	;GondorArcherVoiceSelect ;GondorArcherVoiceSelectBattle

	SoundImpact					= ImpactHorse

	UnitSpecificSounds
		VoiceGarrison			= RangerVoiceGarrison              
	End

    #include "..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU			; Tie into LargeGroupAudio system
		Key = Human Unit Infantry Ranger
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:ArrowDrawBow					Animation:GURanger_SKL.GURanger_ATKD1	Frames:7
		AnimationSound = Sound:ArrowDrawBow					Animation:GURanger_SKL.GURanger_ATKD2	Frames:17

		AnimationSound = Sound:SwordShingClean1ForHordes 		Animation:GURanger_SKL.GURanger_STHA 	Frames:10
		AnimationSound = Sound:SwordIntoScabbard1ForHordes		Animation:GURanger_SKL.GURanger_STHB 	Frames:6

		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_LNDA	Frames:4
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_LNDB	Frames:5

		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_DIEA	Frames:50
		AnimationSound = Sound:BodyFallGenericNoArmor			Animation:GURanger_SKL.GURanger_DIEB	Frames:51
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP
	
	Body = ActiveBody ModuleTag_02
		MaxHealth         = GONDOR_RANGER_HEALTH                  ;BALANCE Ranger Health
		MaxHealthDamaged  = GONDOR_RANGER_HEALTH_DAMAGED
		;RecoveryTime      = GONDOR_RANGER_HEALTH_RECOVERY_TIME
	End
	
	; Fire arrow upgrade
	Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgradeTag
		TriggeredBy = Upgrade_GondorFireArrows
	End
	
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		StopChaseDistance = 562
		MoodAttackCheckRate        = 500
		HoldGroundCloseRangeDistance = 40
		CanAttackWhileContained    = Yes
		AILuaEventsList				=	RangerFunctions
		MinCowerTime				=	4000
		MaxCowerTime				=	6000
		AttackPriority				= 	AttackPriority_Archer
	End
	
	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_GOOD_INFANTRY_MEMBER_SPEED	
	End

	Behavior = DualWeaponBehavior ModuleTag_13
		SwitchWeaponOnCloseRangeDistance = 24
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 15000
		Sound = INITIAL HumanVoiceDie ;RangerVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 15000
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; To tweak a Bezier path
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 4
	GeometryMinorRadius = 4
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

    Shadow = SHADOW_DECAL
    ShadowSizeX = 19;
    ShadowSizeY = 19;
    ShadowTexture = ShadowI;
End