; ####################################################
; "Battle for Middle Earth II - Special Extended Edition - Director's Cut"
; ####################################################

; GoblinArcher.INI for MORIA (Wild) faction...
; ------------------------------------------------------------------------------
; NOTE: Keep this organized!


Object GoblinArcher ;New for SEE: Creating this Warrior will randomize between several variations!

	ButtonImage 	= WOR_GoblinArcher 	;We used the BCFarm_Peasants as base!
	SelectPortrait 	= UPWild_GoblinArcher	;UPRohan_Peasant

	Draw = W3DHordeModelDraw ModuleTag_01  ;W3DScriptedModelDraw
		DefaultModelConditionState
			Model 		= MUBowGob_SKN
			Skeleton 	= MUGobArch_SKL
		End
		ModelConditionState 	= USER_9
			Model 		= MUBowGob_SKN
			Skeleton 	= MUGobArch_SKL
			ParticleSysBone     = NONE MoriaSpellbookScurry
		End
	End

	;***** IMPORTANT NOTE! *******************************************************************	
	;Certain upgrades and costs may need to be propagated from here. One example was veterancy overlays.
	;*****************************************************************************************	

	Side 				= Wild
	EditorSorting 	= UNIT
	BuildVariations 		= GoblinArcher1 GoblinArcher2 GoblinArcher3
	KindOf 			= PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP CAN_CLIMB_WALLS ORC
					 
	;Shadow = SHADOW_DECAL
	;ShadowSizeX = 24;
	;ShadowSizeY = 24;
	;ShadowTexture = ShadowI;

End

; ------------------------------------------------------------------------------

Object GoblinArcher1

	ButtonImage = WOR_GoblinArcher
	SelectPortrait =  UPWild_GoblinArcher
	UpgradeCameo1 = Upgrade_FireArrows ;Maybe this should be poison upgrade?

	Draw = W3DHordeModelDraw ModuleTag_01

		OkToChangeModelColor 	= No //Yes ;In SEE we don't want factions colors on units! 
		StaticModelLODMode 		= Yes 

		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End

		RandomTexture = MUGobArch.tga 0 MUGobArch.tga //its amazing how useless this line of code is... ;D

		#include "goblinarcher_art.inc"
	End

    #include "..\..\..\includes\StunDrawModuleSmall.inc"
	
; ------------------------------------------------------------------------------	

	; ***DESIGN parameters ***
	Side = Wild
	IsTrainable = Yes
	EditorSorting = UNIT
	ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1
	EquivalentTo = GoblinArcher
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	ShockwaveResistance 	= SHOCKWAVE_RESISTANCE_WEAK  

; ------------------------------------------------------------------------------

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY GoblinArcherBow									;SEE!
		Weapon = TERTIARY GoblinArcherBowBombard							;SEE!
		Weapon = QUINARY GenericArcherFlamingArrows 						;SEE!				;GoblinArcherPoisonArrows
		AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT	; Not AI.
		AutoChooseSources = QUINARY FROM_PLAYER FROM_SCRIPT	; Not AI.
	End

	WeaponSet
		Conditions = CLOSE_RANGE CONTESTING_BUILDING
		Weapon = PRIMARY	GoblinArcherBow								;SEE!
		Weapon = SECONDARY	GoblinArcherBowMelee							;SEE!
		Weapon = TERTIARY  GoblinArcherBowBombard							;SEE!
		Weapon = QUINARY	GenericArcherFlamingArrows 					;SEE!				;GoblinArcherPoisonArrows
		OnlyAgainst = PRIMARY STRUCTURE
		AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT	; Not AI.
		AutoChooseSources = QUINARY FROM_PLAYER FROM_SCRIPT	; Not AI.
	End

; ------------------------------------------------------------------------------

	ArmorSet
		Conditions = None
		Armor = GoblinArcherArmor
		DamageFX = NormalDamageFX
	End
	ArmorSet
		Conditions = PLAYER_UPGRADE
		Armor = WildArcherScavengedArmor
		DamageFX = NormalDamageFX
	End

; ------------------------------------------------------------------------------

	VisionRange = GOBLIN_ARCHER_VISION_RANGE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

	VisionSide = 35%
	VisionRear = 25%

	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 1.0%

	DisplayName = OBJECT:GoblinArcher
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
	CrushRevengeWeapon = RangedInfantryCrushRevenge
	BountyValue = GOBLIN_ARCHER_BOUNTY_VALUE
	CommandSet = GoblinArcherCommandSet

; ------------------------------------------------------------------------------

	; *** AUDIO Parameters ***;

	VoiceAttack = GoblinArcherVoiceAttack
	VoiceAttackCharge = GoblinArcherVoiceAttackCharge
	VoiceAttackMachine = GoblinArcherVoiceAttack
	VoiceAttackStructure = GoblinArcherVoiceAttackBuilding
	VoiceCreated = EVA:GoblinArcherCreated
	VoiceFullyCreated = EVA:GoblinArcherCreated
	VoiceGuard = GoblinArcherVoiceGuard
	VoiceMove = GoblinArcherVoiceMove
	VoiceMoveOverWalls = GoblinArcherVoiceMoveWalls
	VoiceMoveToCamp = GoblinArcherVoiceMoveCamp
	VoiceMoveToHigherGround = GoblinArcherVoiceMoveHighGround
	VoiceMoveWhileAttacking = GoblinArcherVoiceDisengage
	VoicePriority = 35
	VoiceRetreatToCastle = GoblinArcherVoiceRetreat
	VoiceSelect = GoblinArcherVoiceSelectMS
	VoiceSelectBattle = GoblinArcherVoiceSelectBattle

	VoiceEnterStateAttack = GoblinArcherVoiceEnterStateAttack
	VoiceEnterStateAttackCharge = GoblinArcherVoiceEnterStateAttackCharge
	VoiceEnterStateAttackMachine = GoblinArcherVoiceEnterStateAttack
	VoiceEnterStateAttackStructure = GoblinArcherVoiceEnterStateAttackBuilding
	VoiceEnterStateMove = GoblinArcherVoiceEnterStateMove
	VoiceEnterStateMoveOverWalls = GoblinArcherVoiceEnterStateMoveWalls
	VoiceEnterStateMoveToCamp = GoblinArcherVoiceEnterStateMoveCamp
	VoiceEnterStateMoveToHigherGround = GoblinArcherVoiceEnterStateMoveHighGround
	VoiceEnterStateMoveWhileAttacking = GoblinArcherVoiceEnterStateDisengage


	SoundImpact = ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip = GoblinArcherVoiceMoveShip
		VoiceEnterUnitMordorMumakil = GoblinArcherVoiceMoveGarrison
		VoiceEnterUnitSlaughterHouse = GoblinArcherVoiceMoveGarrison
		VoiceGarrison = GoblinArcherVoiceMoveGarrison
		VoiceInitiateCaptureBuilding = GoblinArcherVoiceCaptureBuilding
		VoiceInitiatePoisonArrowAttack = GoblinArcherVoiceAttack
	End

	CrowdResponseKey = Goblin

	#include "..\..\..\includes\StandardUnitEvaEvents.inc"

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		;ModelCondition = Required:EMOTION_CELEBRATING Excluded:DYING ENGAGED	Sound:EmotionGoblinCompilationVoxCheerSinglesLoop	;MOVING ATTACKING 
		;ModelCondition = Required:EMOTION_TAUNTING Excluded:DYING ENGAGED	Sound:EmotionGoblinCompilationVoxTauntSinglesLoop	;MOVING ATTACKING
		ModelCondition = Required:RAISING_FLAG Excluded:DYING ENGAGED	Sound:EmotionGoblinCompilationVoxCheerSinglesLoop
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:ArrowDrawBow Animation:MUGobArch_SKL.MUGobArch_ATKF2 	Frames:29 
		AnimationSound = Sound:BodyFallGeneric2 Animation:MUGobArch_SKL.MUGobArch_DIEA		Frames:10
		AnimationSound = Sound:BodyFallGeneric2 Animation:MUGobArch_SKL.MUGobArch_DIEB		Frames:7
		AnimationSound = Sound:BodyFallGeneric2 Animation:MUGOBARCH_SKL.MUGOBARCH_DIEC		Frames:10
		AnimationSound = Sound:BodyFallOrc Animation:MUGobArch_SKL.MUGobArch_LNDB		Frames:5
		AnimationSound = Sound:BodyFallOrc Animation:MUGobArch_SKL.MUGobArch_LNDC		Frames:2
	End

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU				;Tie into LargeGroupAudio system
		Key = Goblin_Archer
	End

; ------------------------------------------------------------------------------

	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARCHER GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT CAN_CLIMB_WALLS ORC

	Body = ActiveBody ModuleTag_02
		MaxHealth = GOBLIN_ARCHER_HEALTH
		MaxHealthDamaged = GOBLIN_ARCHER_HEALTH_DAMAGED
		BurningDeathBehavior = Yes
		BurningDeathFX = FX_InfantryBurningFlame
	End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		CanAttackWhileContained = Yes
		AILuaEventsList = GoblinArcherFunctions ;WildGoblinArcherFunctions ;MordorFighterFunctions    
		AttackPriority = AttackPriority_Archer
		BurningDeathTime = BURNINGDEATH_DURATION_INFANTRY
	End

; ------------------------------------------------------------------------------

	LocomotorSet
		Locomotor = TestWallScalingHordeLocomotor
		Condition = SET_NORMAL
		Speed = NORMAL_WILD_FAST_MEMBER_SPEED
	End
	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed = BURNINGDEATH_WANDERSPEED_INFANTRY
	End

; ------------------------------------------------------------------------------

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 2000	;msec
	End

	Behavior = FlammableUpdate ModuleTag_BurningDeathPromotor
		AflameDuration = TROOP_AFLAME_DURATION	// If I catch fire, I'll burn for this long...
		AflameDamageAmount = TROOP_AFLAME_DAMAGE_AMOUNT			// taking this much damage...
		AflameDamageDelay = TROOP_AFLAME_DAMAGE_DELAY		// this often.
		FlameDamageLimit = TROOP_FLAME_DAMAGE_LIMIT
		FlameDamageExpiration = TROOP_FLAME_DAMAGE_EXPIRATION
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK //-NORMAL
		SinkDelay			= 15000 //3000
		SinkRate				= 0.40     ; in Dist/Sec
		DestructionDelay		= 30000 //8000
		Sound = INITIAL GoblinVoxDieMS
	End

	Behavior = SquishCollide ModuleTag_06
	;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
	;nothing
	End

	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes = NONE +KNOCKBACK
		SinkDelay			= 15000 //3000
		SinkRate				= 0.40     ; in Dist/Sec
		DestructionDelay		= 30000 //15000
		Sound = INITIAL GoblinVoxDieMS
	End

	#include "..\..\..\..\SEE_includes\GiantBirdDroppingHumanBody_SEE.inc"

	; ------------------------------------------------------------------------------ SCAVENGED ARMOR

	Behavior = ArmorUpgrade WildModuleArmorUpgrade
		TriggeredBy = Upgrade_WildHeavyArmor
		;ArmorSetFlag =	PLAYER_UPGRADE
	End

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy = Upgrade_WildHeavyArmor
		UpgradeTexture = MUGobArch.tga MUGobArch_HA.tga
		ExcludeSubobjects = FireArowTip
	End

	; ------------------------------------------------------------------------------ FIRE ARROWS ; Was POISONED ARROWS

	Behavior = ModelConditionUpgrade ModuleTag_FireArrows
		TriggeredBy 	= Upgrade_WildFireArrows
	//  AddConditionFlags = USER_2
	//  Permanent 		= Yes
	End

	; ------------------------------------------------------------------------------ POISONED ARROWS ;Was FIRE ARROWS

	Behavior = WeaponSetUpgrade ModuleTag_SetVenomFlag
		TriggeredBy = Upgrade_WildSpiderVenomSacks
		//derp?
	End

	Behavior = SubObjectsUpgrade ModuleTag_FireArrowSwapUpgrade
		TriggeredBy = Upgrade_WildFireArrows
	//   ShowSubObjects = FireArowTip
	End

	Behavior = DualWeaponBehavior ModuleTag_10
		SwitchWeaponOnCloseRangeDistance = 20
	End

	; Moria Scurry!
	Behavior = AttributeModifierUpgrade ModuleTag_ScurryBonus
		TriggeredBy = Upgrade_MoriaScurry
		AttributeModifier = SpellBookMoriaScurry
	End

	Geometry = CYLINDER
	GeometryMajorRadius	= 8.0
	GeometryMinorRadius	= 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

	Shadow = SHADOW_DECAL
	ShadowSizeX = 11
	ShadowSizeY = 11
	ShadowTexture = ShadowI
End

; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------

ChildObject GoblinArcher2 GoblinArcher1
  ; *** ART Parameters ***

	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = WOR_GoblinArcher
	SelectPortrait =  UPWild_GoblinArcher
	UpgradeCameo1 = Upgrade_FireArrows
	Draw = W3DHordeModelDraw ModuleTag_01

		OkToChangeModelColor 	= No //Yes ;In SEE we don't want factions colors on units! 
		StaticModelLODMode 		= Yes 

		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End
		RandomTexture = MUGobArch2.tga 0 MUGobArch.tga
		
		#include "goblinarcher_art.inc"
	End

	EquivalentTo = GoblinArcher

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy = Upgrade_WildHeavyArmor
		UpgradeTexture = MUGobArch.tga 0 MUGobArch2_HA.tga
		ExcludeSubobjects = FireArowTip
	End
  
End

; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------

ChildObject GoblinArcher3 GoblinArcher1
  ; *** ART Parameters ***

	; This is required for garrisoned objects - please put in all objects.
	ButtonImage = WOR_GoblinArcher
	SelectPortrait =  UPWild_GoblinArcher
	UpgradeCameo1 = Upgrade_FireArrows
	Draw = W3DHordeModelDraw ModuleTag_01

		OkToChangeModelColor 	= No //Yes ;In SEE we don't want factions colors on units! 
		StaticModelLODMode 		= Yes 

		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End

		RandomTexture = MUGobArch3.tga 0 MUGobArch.tga
		
		#include "goblinarcher_art.inc"

	End

	EquivalentTo = GoblinArcher

	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy = Upgrade_WildHeavyArmor
		UpgradeTexture = MUGobArch.tga 0 MUGobArch3_HA.tga
		ExcludeSubobjects = FireArowTip
	End

End

; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------
; ------------------------------------------------------------------------------
;
;	This child object is used in the converted lair.
;
ChildObject GoblinArcherFromDefectedLair GoblinArcher1

  Draw = W3DHordeModelDraw ModuleTag_01

	OkToChangeModelColor 	= No //Yes ;In SEE we don't want factions colors on units! 
	StaticModelLODMode 		= Yes 
	
		LodOptions							= LOW
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_LOW
		End
		LodOptions							= MEDIUM
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_MED
		End
		LodOptions							= HIGH
			AllowMultipleModels				= ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures				= MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations				= MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta				= MAX_ANIM_FRAME_DELTA_HIGH
		End
		RandomTexture = MUGobArch.tga 0 MUGobArch.tga
		RandomTexture = MUGobArch2.tga 0 MUGobArch.tga
		RandomTexture = MUGobArch3.tga 0 MUGobArch.tga
		
		#include "goblinarcher_art.inc"
	End

	BuildCost = 8
	BuildTime = 5
	CommandSet = CreepCommandSet
	DisplayName = OBJECT:GenericGoblinArcher

	ThreatBreakdown GoblinSpiderRiderHorde_DetailedThreat
		AIKindOf = ARCHER
	End

	Behavior = ProductionUpdate ProductionUpdateModuleTag
	  GiveNoXP = Yes
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
		StanceTemplate = ArcherHorde
	End

	Behavior = ObjectCreationUpgrade ModuleTag_MakePoisonArrows
		TriggeredBy = Upgrade_ObjectLevel1		
		FadeInTime = 100
		GrantUpgrade = Upgrade_WildSpiderVenomSacks
	End

	; *** AUDIO Parameters ***;

	VoiceAttack = GoblinCreepVoxAttack
	VoiceAttackAir = GoblinCreepVoxAttack
	VoiceAttackStructure = GoblinCreepVoxAttack
	VoiceAttackCharge = GoblinCreepVoxAttack
	;VoiceCreated = EVA:OrcArchersCreated
	;VoiceFullyCreated = EVA:OrcArchersCreated
	VoiceMove = GoblinCreepVoxMove
	VoiceMoveWhileAttacking = GoblinCreepVoxMove
	VoicePriority = 3
	VoiceRetreatToCastle = GoblinCreepVoxMove
	VoiceSelect = GoblinCreepVoxSelectMS
	VoiceSelectBattle = GoblinCreepVoxSelectMS

	;VoiceEnterStateAttack 					= OrcArcherVoiceEnterStateAttack		
	;VoiceEnterStateAttackStructure			= OrcArcherVoiceEnterStateAttackBuilding
	;VoiceEnterStateAttackCharge				= OrcArcherVoiceEnterStateAttackCharge
	;VoiceEnterStateMove 					= OrcArcherVoiceEnterStateMove		
	;VoiceEnterStateMoveWhileAttacking		= OrcArcherVoiceEnterStateDisengage
	;VoiceEnterStateRetreatToCastle			= OrcArcherVoiceEnterStateRetreat

	SoundImpact 							= ImpactHorse					;UrukDie

	UnitSpecificSounds
		VoiceGarrison						= GoblinCreepVoxMove
		VoiceEnterUnitSlaughterHouse		= GoblinCreepVoxMove
		VoiceEnterUnitMordorMumakil			= GoblinCreepVoxMove
		VoiceEnterUnitEvilMenTransportShip	= GoblinCreepVoxMove
		VoiceEnterUnitTransportShip			= GoblinCreepVoxMove
		VoiceInitiateCaptureBuilding		= GoblinCreepVoxMove
	End

	;--------------------------------

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -KNOCKBACK
		SinkDelay			= 3000
		SinkRate				= 0.40     ; in Dist/Sec
		DestructionDelay		= 8000
		Sound = INITIAL GoblinCreepVoxDie
	End

	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 250
		GuardWanderRange	= 40
		UseSlaverAsControlForEvaObjectSightedEvents = Yes
	End

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance		=	350		; max distance to taunted/pointed objet
		TauntAndPointUpdateDelay	=	1000	; how often scan (milliseconds)
		TauntAndPointExcluded		=	NONE
		AfraidOf					=	EMOTION_AFRAIDOF_OBJECTFILTER
		AlwaysAfraidOf				=	EMOTION_ALWAYS_AFRAIDOF_OBJECTFILTER
		PointAt						=	EMOTION_POINTAT_OBJECTFILTER
		HeroScanDistance			=	150
		FearScanDistance			=	250

		AddEmotion	=	Terror_Base
		AddEmotion	=	Doom_Base
		AddEmotion	=   BraceForBeingCrushed_Base
		AddEmotion	=	UncontrollableFear_Base_Evil
		AddEmotion	=	FearIdle_Base
		AddEmotion	=	FearBusy_Base
		AddEmotion	=	Point_Base
		AddEmotion	=	Taunt_Base	
		AddEmotion	=	CheerIdle_Base
		AddEmotion	=	CheerBusy_Base
		AddEmotion	=	HeroCheerIdle_Base
		AddEmotion	=	HeroCheerBusy_Base
		AddEmotion	=	Alert_Base
	End

	#include "..\..\..\..\SEE_includes\Battlestance_SEE.inc"

End


;------------------------------------------------------------------------------
;
;	This child object is used in the neutral lair.
;
ChildObject GoblinArcher_Slaved GoblinArcherFromDefectedLair

  EvaEnemyObjectSightedEvent = GoblinCreepSighted ; Special event for goblins showing up. Helps distinguish the real enemies from random creeps
  EvaEnemyObjectSightedAfterRespawnEvent = GoblinCreepSighted ; Event to run after the Goblin Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units

  ; Should be the same as MordorGoblinArcher but with CREEP.
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER THROWN_OBJECT ARCHER GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT CAN_CLIMB_WALLS ORC CREEP SCORE CAN_ATTACK
  EquivalentTo = GoblinArcherFromDefectedLair

  VisionRange = CREEP_VISION
  
  ThreatBreakdown MordorGoblinArcherSlaved_ThreatBreakdown
    AIKindOf = CREEP
  End
  
  Behavior = SlavedUpdate ModuleTag_Slave
    GuardMaxRange		= 250
    GuardWanderRange	= 40
    UseSlaverAsControlForEvaObjectSightedEvents = Yes
  End

End
