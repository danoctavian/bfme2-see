; ####################################################
; "Battle for Middle Earth II - Special Extended Edition - Director's Cut"
; ####################################################

; GreatGoblin.INI for MORIA (Wild) faction...
; ------------------------------------------------------------------------------
; NOTE: Keep this organized!


Object GreatGoblin //WildGrat

	ButtonImage		= HIGreatGoblin
	SelectPortrait	= HPGreatGoblin
  
  Draw = W3DHordeModelDraw ModuleTag_01
		WadingParticleSys 			= WaterRipplesTrail  	; used when the unit is wading in shallow water.  
		;WadingParticleSys				= EntRipples  		; Small splash
		;WadingParticleSys				= EntSplash			; Medium splash 
		OkToChangeModelColor			= No 				; In SEE we don't want factions colors on units! 
		ShowShadowWhileContained		= Yes
		StaticModelLODMode 			= Yes 				; Will append M or L to the skin name depending on GameLOD
		

		DefaultModelConditionState
			Model     	= WUGreatGobl_SKN //WUGreatGo_SKN ///MUOrcMorB_SKN
			Skeleton	= CHtl_ht_U_SKL //MUOrcWarr_SKL
		End
	
		ModelConditionState = USER_9
			Model     	= WUGreatGobl_SKN //WUGreatGo_SKN ///MUOrcMorB_SKN
			Skeleton	= CHtl_ht_U_SKL //MUOrcWarr_SKL
		ParticleSysBone	= NONE MoriaSpellbookScurry
		End
	
	IdleAnimationState
		StateName = STATE_Idle
		Animation = IDLB ; bored
			AnimationName = CHtl_ht_U_IDLB
			AnimationPriority = 10
			AnimationMode =	ONCE
			AnimationBlendTime = 15
		End
		Animation = IDLA
			AnimationName = CHtl_ht_U_IDLA
			AnimationPriority = 5
			AnimationMode =	ONCE
			AnimationBlendTime = 15
		End		
		Animation = IDLA
			AnimationName = CHtl_ht_U_IBFA
			AnimationPriority = 2
			AnimationMode =	ONCE
			AnimationBlendTime = 15
		End			
		Flags = RESTART_ANIM_WHEN_COMPLETE								
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_to_Idle") end
		EndScript		
	End
	
    AnimationState = THROWN_PROJECTILE
		Animation = Thrown
			AnimationName = CHtl_ht_U_FLYA
		    AnimationMode = LOOP
		End
    End

	AnimationState						= PASSENGER FREEFALL
		Animation						= gettingGrabbed
			AnimationName				= CHtl_ht_U_FLYA
			AnimationMode				= LOOP
		End
	End
    
	AnimationState						= FREEFALL
		Animation						= Falling
			AnimationName				= CHtl_ht_U_FLYA
			AnimationMode				= LOOP
			AnimationSpeedFactorRange		= 0.45	0.45
			AnimationBlendTime			= 5
		End
    End

	
	
	
		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= CHtl_ht_U_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End


    AnimationState = DYING DEATH_2
		Animation = Splatted_On_Ground
			AnimationName = CHtl_ht_U_IDLA
			AnimationMode = LOOP
		End
    End
    AnimationState = DYING SPLATTED
		Animation = Splatted_On_Ground
			AnimationName = CHtl_ht_U_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End

    AnimationState = DYING AFLAME
		Animation = Flaming_Death
			AnimationName = CHtl_ht_U_MFDA
			AnimationMode = LOOP
		End
		ParticleSysBone = None CavalryDustTrails //InfantryDustTrails			
		Flags		
    End

    AnimationState = DYING
		Animation = Dying_1
			AnimationName = CHtl_ht_U_DIEA
			AnimationMode = ONCE
			AnimationPriority = 1
		End
    End
    
    AnimationState = STUNNED_STANDING_UP  
		Animation = Standing_Back_Up
			AnimationName = CHtl_ht_U_GTPA
			AnimationMode = ONCE
			;AnimationSpeedFactorRange = 1.5 1.5
		End
    End

    AnimationState = STUNNED
		Animation = Splatted_On_Ground
			AnimationName = CHtl_ht_U_LNDA
			AnimationMode = ONCE
		End
		EnteringStateFX = FX_OrcHitGround
    End
	
; ------------------------------ WEBBED ANIMS ------------------------------ Start!
; This must be in all heroes that are subject to Shelob's new Hero Webbing in SEE!
   
    AnimationState = STONED
      StateName = STATE_Idle
      Animation = WIGA ;Medium wiggle
        AnimationName = CUWebdVctm_WIGA
        AnimationMode = ONCE
      End
      Animation = WIGB ;Subtle wiggle
        AnimationName = CUWebdVctm_WIGB
        AnimationMode = ONCE
      End
      Animation = WIGC ;Violent wiggle
        AnimationName = CUWebdVctm_WIGC
        AnimationMode = ONCE
      End
      Flags = RESTART_ANIM_WHEN_COMPLETE
      ;ParticleSysBone     = ROOTTRANSFORM PLACEHOLDER_SpiderWeb FollowBone:no
    End
    
; ------------------------------ Webbed anims ------------------------------ End!
 
	AnimationState = BURNINGDEATH
		Animation
			AnimationName = CHtl_ht_U_MFDA
			AnimationMode = LOOP
			Distance = 50
		End
		ParticleSysBone = None CavalryDustTrails //InfantryDustTrails			
		Flags		
	End

	AnimationState = PARALYZED
		Animation
			AnimationName = CHtl_ht_U_IDLA
			AnimationMode = LOOP
		End
	End
   

   AnimationState				=	MOVING BACKING_UP
		Animation				=	BackingUpA
			AnimationName		=	CHtl_ht_U_BAKA
			AnimationMode		=	LOOP
		End
	End

	AnimationState					= MOVING EMOTION_TERROR
		ShareAnimation = Yes
		Animation					= Terror
			AnimationName			= CHtl_ht_U_RUNA
			AnimationMode			= LOOP
		End
		;ParticleSysBone = None InfantryDustTrails
		FXEvent	= Frame:5 FireWhenSkipped Name:FX_GreatGoblinRightFootStep
		FXEvent	= Frame:20 FireWhenSkipped Name:FX_GreatGoblinLeftFootStep		
	End
	
	AnimationState = MOVING ATTACKING
		ShareAnimation = Yes
		Animation = RUNA
			AnimationName = CHtl_ht_U_RUNA 
			AnimationMode = LOOP
		End
		;ParticleSysBone = None InfantryDustTrails
		FXEvent	= Frame:5 FireWhenSkipped Name:FX_GreatGoblinRightFootStep
		FXEvent	= Frame:20 FireWhenSkipped Name:FX_GreatGoblinLeftFootStep		
	End

    AnimationState = MOVING
		ShareAnimation = Yes
		Animation = RUNA
			AnimationName = CHtl_ht_U_RUNA 
			AnimationMode = LOOP
		End
		;ParticleSysBone = None InfantryDustTrails
		FXEvent	= Frame:5 FireWhenSkipped Name:FX_GreatGoblinRightFootStep
		FXEvent	= Frame:20 FireWhenSkipped Name:FX_GreatGoblinLeftFootStep		
    End

    ; --- stunned anims
    AnimationState = STUNNED_FLAILING
		Animation = Flying
			AnimationName = CHtl_ht_U_FLYA
			AnimationMode = LOOP
			AnimationPriority = 10
			AnimationSpeedFactorRange	= 0.4 0.6
		End
    End

	; --------- Click and Hit Reactions ------------
	AnimationState = HIT_REACTION HIT_LEVEL_1
		Animation = Hit_Level_1_a
			AnimationName = CHtl_ht_U_HITA
			AnimationMode = ONCE
		End
	End
	AnimationState = HIT_REACTION HIT_LEVEL_2
		Animation = Hit_Level_2_a
			AnimationName = CHtl_ht_U_HITA
			AnimationMode = ONCE
		End
	End
	AnimationState = HIT_REACTION
		Animation = Hit_Level_1_a
			AnimationName = CHtl_ht_U_HITA
			AnimationMode = ONCE
		End
	End			

    AnimationState = FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName = CHtl_ht_U_ATKA
			AnimationMode = LOOP
			UseWeaponTiming		= Yes
		End
		Animation = ATKC
			AnimationName = CHtl_ht_U_ATKC	// This anim is too slow for the weapon and I can't time it? /Naz
			AnimationMode = LOOP
			UseWeaponTiming		= Yes
			AnimationSpeedFactorRange = 1.2 1.2 //Won't work? /Naz
			Distance	= 50 //Won't work?
		End
    End
    ;AnimationState = FIRING_OR_PREATTACK_B
	;	Animation = ATKC
	;		AnimationName = CHtl_ht_U_ATKC
	;		AnimationMode = LOOP
	;		UseWeaponTiming		= Yes
	;	End
    ;End	

    AnimationState = WAR_CHANT
		Animation = ChantA
			AnimationName = CHtl_ht_U_CHRA
			AnimationMode = ONCE
		End
		Animation = ChantB
			AnimationName = CHtl_ht_U_PNTA
			AnimationMode = ONCE
		End
		Flags						= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End
    
    ; Must go before selected so we don't become unafraid.
    AnimationState					= EMOTION_AFRAID UNCONTROLLABLE
		Animation					= FERA
			AnimationName			= CHtl_ht_U_FERA
			AnimationMode			= LOOP
		End
	End
	
	;-emotions--
	AnimationState					= EMOTION_AFRAID
		Animation					= FERA
			AnimationName			= CHtl_ht_U_FERA
			AnimationMode			= LOOP
		End
	End
	
	AnimationState							= EMOTION_TAUNTING
		Animation							= TNTA
			AnimationName					= CHtl_ht_U_TNTA
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.8 1.2
		End
		Animation							= TNTB
			AnimationName					= CHtl_ht_U_TNTB
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.8 1.2
		End
		Flags								= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
	End
	
	AnimationState							= EMOTION_POINTING
		Animation							= Pointing1
			AnimationName					= CHtl_ht_U_PNTA
			AnimationMode					= LOOP
		End
	End
	
	AnimationState							= EMOTION_CELEBRATING
		Animation							= ChantA
			AnimationName					= CHtl_ht_U_CHRA
			AnimationMode					= ONCE
		End
		Animation							= ChantB
			AnimationName					= CHtl_ht_U_TNTA
			AnimationMode					= ONCE
		End
		Flags				=	RESTART_ANIM_WHEN_COMPLETE	
	End
	
	AnimationState							= EMOTION_ALERT
		Animation							= ALERT
			AnimationName					= CHtl_ht_U_IDLA
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
	End
    
	AnimationState							= RAISING_FLAG
		Animation							= ChantA
			AnimationName					= CHtl_ht_U_CHRA
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Animation							= ChantB
			AnimationName					= CHtl_ht_U_PNTA
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Flags				=	RESTART_ANIM_WHEN_COMPLETE	
	End

    AnimationState = SELECTED
		StateName			= STATE_Selected
		SimilarRestart			=   Yes
		Flags				= RESTART_ANIM_WHEN_COMPLETE 
		Animation = IDLA
			AnimationName		= CHtl_ht_U_ATNB //IDLA
			AnimationMode		= ONCE
			AnimationPriority		= 4
			AnimationBlendTime	= 10
		End
		;Animation = IDLB
		;	AnimationName		= CHtl_ht_U_IDLB
		;	AnimationMode		= ONCE
		;	AnimationPriority		= 10
		;	AnimationBlendTime	= 10
		;End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
		EndScript
    End
    
    TransitionState = TRANS_Idle_to_Selected
		Animation = ATNA
			AnimationName		= CHtl_ht_U_ATNA
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
		End
    End
    
    TransitionState = TRANS_Selected_to_Idle
		Animation = ATNC
			AnimationName		= CHtl_ht_U_ATNC
			AnimationMode		= ONCE
			AnimationBlendTime	= 10
		End
    End
  End
  
; ------------------------------------------------------------------------------

	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState =  MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None CalvaryDustTrails //GenericSiegeTrailDust
	    End
	    AnimationState =  MOVING ACCELERATE
			ParticleSysBone = None CalvaryDustTrails //GenericSiegeTrailDust
	    End
	    AnimationState = MOUNTED MOVING
	    End
	End  

    #include "..\..\..\includes\StunDrawModuleSmall.inc"

	; ***DESIGN parameters ***
	Side 				= Wild
	EditorSorting 		= UNIT
	ThreatLevel 			= GREAT_GOBLIN_THREAT_LEVEL
	ThingClass 			= CHARACTER_UNIT
		ThreatBreakdown Unit_DetailedThreat
		AIKindOf = HERO
	End
	BuildCost         	= GREAT_GOBLIN_BUILDCOST
	BuildTime         	= HERO_INITIAL_BUILDTIME
	TransportSlotCount 	= TRANSPORTSLOTCOUNT_HERO	
	ShockwaveResistance 	= SHOCKWAVE_RESISTANCE_STRONG
	Scale				= 0.75
	MaxSimultaneousOfType = 1

; ------------------------------------------------------------------------------	
	WeaponSet
		Conditions 		= None
		Weapon 			= PRIMARY GreatGoblinClubSwing
		//Weapon 			= SECONDARY GreatGoblinClubSmash
		;ReadyStatusSharedWithinSet = Yes
	End
; ------------------------------------------------------------------------------	
	ArmorSet
		Conditions      	= None
		Armor           = ToughHeroArmor
		DamageFX        = NormalDamageFX
	End
; ------------------------------------------------------------------------------

	VisionRange 		= VISION_HERO_RANGED
	ShroudClearingRange 	= SHROUD_CLEAR_HERO
	
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius 	= 200
	VisionBonusPercentPerFoot = 1.0%

	DisplayName 	= OBJECT:GreatGoblin
	RecruitText		= CONTROLBAR:GreatGoblinRecruit
	ReviveText		= CONTROLBAR:GreatGoblinRevive
	Hotkey			= CONTROLBAR:GreatGoblinHotkey
	CrushableLevel 	= 2 ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel 		= 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles

	CommandSet 		= GreatGoblinCommandSet
	CommandPoints 	= 00

; ------------------------------------------------------------------------------ LW
	; *** AUTO RESOLVE DATA *** 
	AutoResolveUnitType 		= AutoResolveUnit_Hero
	AutoResolveCombatChain 	= AutoResolve_HeroCombatChain
	AutoResolveBody 			= AutoResolve_GoblinKingBody
	AutoResolveLeadership 	= AutoResolve_GoblinKingBonus	
	
	AutoResolveArmor
		Armor = AutoResolve_GoblinKingArmor
	End
	AutoResolveWeapon
		Weapon = AutoResolve_GoblinKingWeapon
	End
	
; ------------------------------------------------------------------------------ AUDIO & SPEECH
  	; *** AUDIO Parameters ***;
	VoiceAttack				= GreatGoblinVoiceAttack	//HeroOrcVoiceAttack	
	VoiceAttackCharge		= GreatGoblinVoiceAttackCharge			
	VoiceAttackStructure		= GreatGoblinVoiceAttackBuilding
	VoiceCreated				= GreatGoblinVoiceSelect
	VoiceFullyCreated 		= GreatGoblinVoiceSelect
	VoiceGuard				= GreatGoblinVoiceMove
	VoiceMove				= GreatGoblinVoiceMove				
	VoiceMoveToCamp			= GreatGoblinVoiceMoveCamp
	VoicePriority				= 99
	VoiceRetreatToCastle		= GreatGoblinVoiceRetreat
	VoiceSelect				= GreatGoblinVoiceSelect		
	VoiceSelectBattle			= GreatGoblinVoiceSelectBattle

	VoiceEnterStateAttack			= GreatGoblinVoiceAttack		
 	VoiceEnterStateAttackCharge	= GreatGoblinVoiceAttackCharge		
	VoiceEnterStateAttackStructure	= GreatGoblinVoiceAttackBuilding
	VoiceEnterStateMove			= GreatGoblinVoiceMove			
	VoiceEnterStateMoveToCamp	= GreatGoblinVoiceMoveCamp
	VoiceEnterStateRetreatToCastle	= GreatGoblinVoiceRetreat
	
	SoundImpact				= ImpactHorse					

	UnitSpecificSounds
		VoiceGarrison						= GreatGoblinVoiceMoveGarr
		VoiceEnterUnitMordorMumakil		= GreatGoblinVoiceMoveGarr
		VoiceEnterUnitSlaughterHouse		= GreatGoblinVoiceMoveGarr
		VoiceEnterUnitEvilMenTransportShip	= GreatGoblinVoiceMove
		VoiceInitiateCaptureBuilding			= GreatGoblinVoiceCaptureBuilding
	End

	CrowdResponseKey = Goblin

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner			= GoblinKingDie				;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU	;Tie into LargeGroupAudio system
		Key = Goblin Hero
	End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
      	MaxUpdateRangeCap = 800
			;AnimationSound = Sound:OrcEatenVox		Animation:MUOrcWarr_SKL.MUOrcWarr_EATA	Frames: 29	;too much delay
			AnimationSound = Sound:BodyFallGeneric2	Animation:CHtl_ht_U_SKL.CHtl_ht_U_DIEA	Frames: 72
			AnimationSound = Sound:BodyFallOrc			Animation:CHtl_ht_U_SKL.CHtl_ht_U_DIEA	Frames: 72
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE ARMY_SUMMARY ARCHER ATTACK_NEEDS_LINE_OF_SIGHT URUK HEAVY_MELEE_HITTER
	PathfindDiameter = 40.0

  	Body = RespawnBody ModuleTag_RespawnBody
		CheerRadius 				= EMOTION_CHEER_RADIUS
   		MaxHealth         		= GREAT_GOBLIN_HEALTH
  		PermanentlyKilledByFilter	= NONE						;Who kills me permanently?
   		DodgePercent     		= HERO_DODGE_PERCENT
  	End

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim				= DYING ;STUNNED			;Model condition to play when killed-to-respawn
		DeathFX					= FX_HeroDieToRespawn		;FXList to play when killed-to-respawn
		DeathAnimationTime		= 6033 ; 1133			;How long DeathAnim will take.
		InitialSpawnFX			= FX_HeroInitialSpawn
		RespawnAnim				= LEVELED				;Animation to play when respawning.
		RespawnFX				= FX_HeroRespawn			;FXList to play when respawning.
		RespawnAnimationTime		= 2000				;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP		;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage				= HIGreatGoblin_RES
	
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules = AutoSpawn:No Cost:HERO_RESPAWN_COST_MED	 Time:HERO_RESPAWN_TIME Health:100%		;DEFAULT VALUES
	End

	Behavior = AutoHealBehavior ModuleTag_LurtzHealing
		StartsActive		= Yes
		HealingAmount		= HERO_HEAL_AMOUNT
		HealingDelay			= 1000
		StartHealingDelay		= HERO_HEAL_DELAY
		HealOnlyIfNotInCombat	= Yes
	End
	
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End
    
	#include "..\..\..\includes\CaptureBuilding.inc"

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ;ATTACK_BUILDINGS
		MoodAttackCheckRate			= 500
		AttackPriority				= AttackPriority_Cavalry ;Archer
		CanAttackWhileContained	    = Yes
	End

	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		TauntAndPointDistance			= 300
		TauntAndPointUpdateDelay		= 10000
		AddEmotion					=	Doom_Base
		//	AddEmotion				=   BraceForBeingCrushed_Base
		//	AddEmotion				=	FearIdle_Base
		//	AddEmotion				=	FearBusy_Base
		AddEmotion					=	Point_Base
		AddEmotion					=	Taunt_Base
 		AddEmotion					=	CheerIdle_Base
		AddEmotion					=	CheerBusy_Base
		//	AddEmotion				=	HeroCheerIdle_Base
		//	AddEmotion				=	HeroCheerBusy_Base
		AddEmotion					=	Alert_Base
		AddEmotion					=	CheerForAboutToCrush_Base
	End
	
; ------------------------------------------------------------------------------	
	LocomotorSet
		Locomotor 	= IsengardLurtzLocomotor
		Condition 	= SET_NORMAL 
		Speed     	= 40 //NORMAL_DWARF_HERO_SPEED
	End
	LocomotorSet
		Locomotor 	= HumanWanderLocomotor
		Condition		= SET_WANDER 
		Speed     	= 30 //50
	End
; ------------------------------------------------------------------------------

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 2000 ; (2 secs)
	End
	
	Behavior = DualWeaponBehavior ModuleTag_09
		SwitchWeaponOnCloseRangeDistance = 40
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes		= ALL 
		SinkDelay		= 60000 //6000
		SinkRate			= 0.40 //1.5     ; in Dist/Sec
		DestructionDelay	= 90000 //11000
		Sound			= INITIAL GoblinKingVoiceDie //AzogVoiceDie
	End

	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2500 ; level 1 (light  damage)  hit reaction animations in frames (5 per sec)
		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
	End
	
; ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ ALL SEE HEROES @LVL 10!	
	Behavior = ExperienceLevelCreate ModuleTag_LevelBonus
		LevelToGrant	= 10
		MPOnly = Yes ;No
	End
; ¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤ 	

	Behavior = SubObjectsUpgrade HideForgedBladeGlow
		TriggeredBy			   = Upgrade_ObjectLevel10 //whatever, quite sure all of em have this... but yea just do lvl 10 since thats all heroes xD
		HideSubObjects		   = FORGED_BLADE 
		FadeTimeInSeconds      = 0.0
	End
	
; ------------------------------------------------------------------------------ LEADERSHIP

	Behavior = AttributeModifierAuraUpdate ModuleTag_HeroLeadership
		StartsActive 	= Yes ;If no, requires upgrade to turn on.
		BonusName 		= GenericHeroLeadership ; Check what this does really. The damage bonus is, what? /Naz
		RefreshDelay 		= 2500
		Range 			= 200
		ObjectFilter	= WILD_GREATGOBLIN_BUFF_RECIPIENT_OBJECT_FILTER
	End	

; ------------------------------------------------------------------------------ DOMINATE

 	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
		SpecialPowerTemplate	= SpecialAbilityDominateEnemy	;OK!
		;TriggeredBy				= Upgrade_ObjectLevel3
	End
	Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
		SpecialPowerTemplate	= SpecialAbilityDominateEnemy 
		StartsPaused				= No ;Yes
		UpdateModuleStartsAttack	= Yes
		InitiateSound				= HeroOrcVoiceCaptureBuilding
	End
 	Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate	= SpecialAbilityDominateEnemy 
		UnpackingVariation			= 1
		StartAbilityRange			= 200.0
		AttributeModifierAffects	= ALL -DOZER -HERO -STRUCTURE -ARMY_OF_DEAD -MOVE_ONLY ENEMIES NEUTRAL
		DominateRadius			= 60
		DominatedFX				= FX_SarumanDominateTargets
		TriggerFX				= FX_SarumanDominateTrigger
		UnpackTime				= 1200 ; ;2000
		PreparationTime			= 1   
		FreezeAfterTriggerDuration	= 2500 ; Hold AI for this long after we fire.		
    End
	
; ------------------------------------------------------------------------------ SUMMON (Obsolete, will be in Spell Book instead /Naz)

	;Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornOathbreakersEnabler
	;	SpecialPowerTemplate = SpecialAbilityTrollsMountains
	;	TriggeredBy = Upgrade_ObjectLevel6 //10
	;End
	;Behavior = OCLSpecialPower ModuleTag_OCLSpecialPower
	;	SpecialPowerTemplate	= SpecialAbilityTrollsMountains
	;	OCL						= OCL_SpawnTrolls
	;	CreateLocation			= CREATE_AT_LOCATION
	;	StartsPaused			= Yes
	;End
	
; ------------------------------------------------------------------------------ POISON MIST

	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_PoisonMistEnabler
        SpecialPowerTemplate = SpecialPowerPoisonMist
        ;TriggeredBy = Upgrade_ObjectLevel8
    End
	Behavior = OCLSpecialPower ModuleTag_PoisonMist
		SpecialPowerTemplate = SpecialPowerPoisonMist
		OCL					= OCL_GreatGoblinPoisonMist
		CreateLocation		= CREATE_AT_LOCATION
		//AvailableAtStart	 	= No
		StartsPaused			= No ;Yes		
	End
	
; ------------------------------------------------------------------------------ SCURRY

	Behavior = AttributeModifierUpgrade ModuleTag_ScurryBonus
		TriggeredBy = Upgrade_MoriaScurry
		AttributeModifier = SpellBookMoriaScurry
	End
	
; ------------------------------------------------------------------------------ SLAVED GOBLINS

   Behavior = SpawnBehavior ModuleTag_Spawn
        SpawnNumber			= 10
        InitialBurst        	= 10
        SpawnTemplateName	= GoblinFighter_Slaved
        SpawnReplaceDelay	= 60000 ; 60 secs!
        CanReclaimOrphans	= Yes
    End
    Behavior = QueueProductionExitUpdate ModuleTag_11
		UnitCreatePoint		= X:0.0 Y:0.0 Z:0.0 //X:0.0 Y:30.0 Z:0.0
        NaturalRallyPoint    	= X:0.0 Y:0.0 Z:0.0 //X:80.0 Y:80.0 Z:0.0
        ExitDelay            	= 3000 ; Make them come out one at a time. 3 secs!
    End

; ------------------------------------------------------------------------------ AI	
	
	;///////////////////
	; AISpecialPowers
	;///////////////////
	
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_SetStanceAggressive
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End
	
	Behavior = AISpecialPowerUpdate InServiceAI
		CommandButtonName = Command_SpecialAbilityInService
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
	End
	
;	Behavior = AISpecialPowerUpdate SpecialPowerTrollsMountain					// Obsolete!
;		CommandButtonName = Command_SpecialAbilityTrollsMountain
;		SpecialPowerAIType = AI_SPECIAL_POWER_TARGETAOE_SUMMON
;		SpecialPowerRadius = 30.0
;	End
	
; ------------------------------------------------------------------------------ GEOMETRY
	
	Geometry			= CYLINDER
	GeometryMajorRadius 	= 12.0 //8.0
	GeometryHeight		= 48 //32 ;;19.2
	GeometryIsSmall		= Yes

	Shadow				= SHADOW_DECAL
	ShadowSizeX			= 19
	ShadowSizeY			= 19
	ShadowTexture		= ShadowI
	
; ------------------------------------------------------------------------------ END	
End
