; ####################################################
; "Battle for Middle Earth II - Special Extended Edition - Director's Cut"
; ####################################################

; WildStoneGiant.INI for MORIA (Wild) faction...
; ------------------------------------------------------------------------------
; NOTE: Keep this organized!


Object WildStoneGiant
	
	ButtonImage		= BWFissure_Giant
	SelectPortrait	= UPWild_StoneGiant //UPWild_Giant

	//DescriptionStrategic = CONTROLBAR:LW_ToolTip_GoblinCaveTroll	
	
	Draw = W3DScriptedModelDraw ModuleTag_01
		WadingParticleSys			= EntRipples			; Small splash
		WadingParticleSys			= EntSplash			; Medium splash
		OkToChangeModelColor		= No //Yes			; In SEE we don't want factions colors on units!
		StaticModelLODMode		= Yes				; Will append M or L to the skin name depending on GameLOD
		ExtraPublicBone = B_POINT1R
		ExtraPublicBone = PASSENGER01
		ExtraPublicBone = PASSENGER02
		ExtraPublicBone = IMPACT
		ExtraPublicBone = ROCK	
		
		DefaultModelConditionState
			Model				= WUStGiant_SKC //WUMntGnt_SKN
			Skeleton	    	= RUTreeberd_SKL
			WeaponLaunchBone	= PRIMARY Firepoint //ROCK
			WeaponLaunchBone	= SECONDARY Firepoint //ROCK
			// ParticleSysBone     = BAT_SPINE1 TreeBeardIdleLeaves FollowBone: no
		End	
		
; ------------------------------------------------------------------------------ ANIMATIONS!		
		#include "StoneGiantAnims.inc"

	End	;Draw Module
	
	;-----------------------------------------------------------------------------------------------------
	
	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState =  MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None CalvaryDustTrails //GenericSiegeTrailDust
	    End
	    AnimationState =  MOVING ACCELERATE
			ParticleSysBone = None CalvaryDustTrails //GenericSiegeTrailDust
	    End
	    AnimationState = MOUNTED MOVING
	    End
	End
	

     #include "..\..\..\includes\StunDrawModuleLarge.inc"

	;-----------------------------------------------------------------------------------------------------
	; ***DESIGN parameters ***
	Side				= Wild	
	EditorSorting		= UNIT
	ThreatLevel			= MOUNTAIN_GIANT_THREAT_LEVEL
	ThreatBreakdown MordorCatapult_DetailedThreat
		AIKindOf = SIEGEWEAPON
	End
	
	ThingClass			= LARGE_MONSTER //MEDIUM_MONSTER
	ShockwaveResistance 	= SHOCKWAVE_RESISTANCE_ALWAYS //SHOCKWAVE_RESISTANCE_STRONG
	TransportSlotCount	= TRANSPORTSLOTCOUNT_NOT_TRANSPORTABLE //TRANSPORTSLOTCOUNT_MONSTER
	Scale				= 3.0 //200% bigger for SEE!
	
; ------------------------------------------------------------------------------	

	WeaponSet
		Conditions = None
		DefaultWeaponChoiceCritera = SELECT_AT_RANDOM
		ReadyStatusSharedWithinSet = Yes
		
		Weapon			= PRIMARY		RohanTreeBeardPunch
		Weapon			= SECONDARY	RohanBuildingTeardown
		OnlyAgainst      = SECONDARY	STRUCTURE BLOCKING_GATE
	End
	WeaponSet
		Conditions          = WEAPONSET_TOGGLE_1
		Weapon              = PRIMARY	StoneGiantRockThrow
	End
	WeaponSet
		Conditions          = ENRAGED
		Weapon              = PRIMARY	RohanTreeBeardPunch
		Weapon              = SECONDARY	RohanBuildingTeardown
		OnlyAgainst         = SECONDARY	STRUCTURE BLOCKING_GATE
	End
	WeaponSet
		Conditions          = ENRAGED WEAPONSET_TOGGLE_1
		Weapon              = PRIMARY	RohanTreeBeardPunch
		Weapon              = SECONDARY	RohanBuildingTeardown
		OnlyAgainst         = SECONDARY	STRUCTURE BLOCKING_GATE
	End
	WeaponSet
		Conditions = WEAPONSET_TOGGLE_1
		DefaultWeaponChoiceCritera = PREFER_LEAST_MOVEMENT
		Weapon			= PRIMARY 		GiantRockThrow
		Weapon			= SECONDARY 	GiantRockThrowCloseRange		//RTHRC - Smash rock into ground (Not used!)
	End
	
; ------------------------------------------------------------------------------	

	ArmorSet
		Conditions = None
		Armor           = BalrogArmor //MountainGiantArmor
		DamageFX        = GiantDamageFX
	End
	
; ------------------------------------------------------------------------------	
	
	VisionRange			= WILD_MOUNTAIN_GIANT_VISION_RADIUS
	ShroudClearingRange	= WILD_MOUNTAIN_GIANT_SHROUD_RADIUS
	
	VisionSide = 35%
	VisionRear = 25%
	
	MaxVisionBonusPercent 	= 300%
	VisionBonusTestRadius 		= 200
	VisionBonusPercentPerFoot 	= 2.5%
				
	DisplayName			= OBJECT:WildMountainGiant
	CrushableLevel		= 3 //4 ;2  	;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles	
	CrusherLevel			= 2 //4 //3		;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles //Don't work! But it does crush UNITS though...
	CrushWeapon			= GiantCrush		
	UseCrushAttack		= No							; Don't attack using crush, just crush when you walk through. 
	CommandSet			= WildMountainGiantCommandSet
	CommandPoints		= 10	 

	RamPower			= 20
	RamZMult			= 0.5
	CrushKnockback		= 30
	CrushZFactor			= 1.0	
	
	//DeadCollideSize 		= LARGE ; How big does the AOD consider this unit for damage fx & behavior.
	
; ------------------------------------------------------------------------------	
	
	; *** AUDIO Parameters ***;
	VoiceAttack			= MountainGiantVoxAttack
	VoiceAttackCharge	= MountainGiantVoxAttack
	VoiceAttackMachine	= MountainGiantVoxAttack
	VoiceAttackStructure	= MountainGiantVoxAttack
	VoiceCreated			= EVA:GiantCreated
	VoiceCreated			= +SOUND:MountainGiantVoxCreated
	VoiceFullyCreated		= EVA:GiantCreated
	VoiceFullyCreated		= +SOUND:MountainGiantVoxCreated
	VoiceGuard			= MountainGiantVoxMove
	VoiceMove			= MountainGiantVoxMove
	VoicePriority			= 35
	VoiceSelect			= MountainGiantVoxSelectMS
	VoiceSelectBattle		= MountainGiantVoxSelectMS
	SoundAmbient		= MountainGiantVoxAmbientLoop
	SoundImpact			= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= MountainGiantVoxMove
		VoiceEnterUnitMordorMumakil		= MountainGiantVoxMove
		VoiceEnterUnitSlaughterHouse		= MountainGiantVoxMove
		VoiceGarrison						= MountainGiantVoxMove
		VoiceInitiateCaptureBuilding			= MountainGiantVoxMove
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	;Behavior = LargeGroupAudioUpdate ModuleTag_LGAU		; Tie into LargeGroupAudio system
	;	Key = Ent Unit Infantry
	;	UnitWeight = 2						; Ents count as 2 infantry when computing group size
	;End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800

		AnimationSound = Sound:BuildingEntMootCouncil				Animation:RUTReeBerd_SKL.RUTreeberd_MOTA	Frames:1
		AnimationSound = Sound:BalrogFootstep				ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_MOTA	Frames:225 253
		AnimationSound = Sound:BuildingEntMootCouncil				Animation:RUTReeBerd_SKL.RUTreeberd_MOTB	Frames:1
		AnimationSound = Sound:BuildingEntMootCouncil				Animation:RUTReeBerd_SKL.RUTreeberd_MOTC	Frames:1

		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GBA1	Frames:9 13
		AnimationSound = Sound:TrollTreeSwingLight				Animation:RUTReeBerd_SKL.RUTreeBerd_GBA1	Frames:10
		AnimationSound = Sound:EntGrabRock						Animation:RUTReeBerd_SKL.RUTreeberd_GBA1	Frames:16
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GBA2	Frames:28 34
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GBB1	Frames:18
		AnimationSound = Sound:TrollTreeSwingLight				Animation:RUTReeBerd_SKL.RUTreeBerd_GBB1	Frames:16
		AnimationSound = Sound:EntGrabRock						Animation:RUTReeBerd_SKL.RUTreeBerd_GBB1	Frames:21
		AnimationSound = Sound:EntGrabBuildingChunk				Animation:RUTReeBerd_SKL.RUTreeberd_GBB1	Frames:37
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GBB2	Frames:24

		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GRBC	Frames:13 26 117 179 223
		AnimationSound = Sound:EntGrabRock						Animation:RUTReeBerd_SKL.RUTreeberd_GRBC	Frames:48
		AnimationSound = Sound:EntVoxEfforts					Animation:RUTReeBerd_SKL.RUTreeberd_GRBC	Frames:160
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GRBD	Frames:13 26 117 179 223
		AnimationSound = Sound:EntGrabRock						Animation:RUTReeBerd_SKL.RUTreeberd_GRBD	Frames:48
		AnimationSound = Sound:EntVoxEfforts					Animation:RUTReeBerd_SKL.RUTreeberd_GRBD	Frames:160
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GRBE	Frames:13 26 117 179 223
		AnimationSound = Sound:EntGrabRock						Animation:RUTReeBerd_SKL.RUTreeberd_GRBE	Frames:48
		AnimationSound = Sound:EntVoxEfforts					Animation:RUTReeBerd_SKL.RUTreeberd_GRBE	Frames:160
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_GRBF	Frames:13 26 117 179 223
		AnimationSound = Sound:EntGrabRock						Animation:RUTReeBerd_SKL.RUTreeberd_GRBF	Frames:48
		AnimationSound = Sound:EntVoxEfforts					Animation:RUTReeBerd_SKL.RUTreeberd_GRBF	Frames:160

		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_ATKA	Frames:9 78
		AnimationSound = Sound:ImpactEntGenericPunch				Animation:RUTReeBerd_SKL.RUTreeberd_ATKA	Frames:31
 		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_ATKD	Frames:65
		AnimationSound = Sound:ImpactEntGenericKick				Animation:RUTReeBerd_SKL.RUTreeberd_ATKD	Frames:32
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_ATKE	Frames:70
		AnimationSound = Sound:ImpactEntGenericKick				Animation:RUTReeBerd_SKL.RUTreeberd_ATKE	Frames:31
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_ATKF	Frames:16 82
		AnimationSound = Sound:ImpactEntGenericPunch				Animation:RUTReeBerd_SKL.RUTreeberd_ATKF	Frames:32

		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_ACLA	Frames:9
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_DCLA	Frames:17 42
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_DCLB	Frames:17 44
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_DCLC	Frames:11 41
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_DCLD	Frames:32

		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_WLKA	Frames:40 80 //33 76
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_WLKB	Frames:40 80 //33 76		
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_WLKC	Frames:25 50 //22 48 
		AnimationSound = Sound:EntRunStep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_RUNA	Frames:4 24

		AnimationSound = Sound:EntRunStep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_TRNL	Frames:12 27
		AnimationSound = Sound:EntRunStep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_TRNR	Frames:12 27
		AnimationSound = Sound:EntRunStep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_TNL2	Frames:18 38 
		AnimationSound = Sound:EntRunStep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_TNR2	Frames:18 38

		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_THRB	Frames:12 44
		AnimationSound = Sound:TrollTreeSwing					Animation:RUTReeBerd_SKL.RUTreeBerd_THRB	Frames:36
		AnimationSound = Sound:TrollTreeSwingLight				Animation:RUTReeBerd_SKL.RUTreeBerd_THRC	Frames:29
		
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_MADA	Frames:75
		AnimationSound = Sound:EntPanic						Animation:RUTReeBerd_SKL.RUTreeBerd_MADA	Frames:17
		AnimationSound = Sound:EntRunStep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_MFDA	Frames:2 14

		AnimationSound = Sound:EntRunStep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeBerd_RCTD	Frames:5 120 206
		AnimationSound = Sound:EntSeeFirePart1					Animation:RUTReeBerd_SKL.RUTreeBerd_RCTD	Frames:40 
		AnimationSound = Sound:EntSeeFirePart2					Animation:RUTReeBerd_SKL.RUTreeBerd_RCTD	Frames:70
		AnimationSound = Sound:TrollTreeSwing					Animation:RUTReeBerd_SKL.RUTreeBerd_RCTD	Frames:121
		AnimationSound = Sound:EntPanic						Animation:RUTReeBerd_SKL.RUTreeBerd_RCTD	Frames:150

		AnimationSound = Sound:EntSplashWater					Animation:RUTReeBerd_SKL.RUTreeBerd_SPLA	Frames:0

		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_HITA	Frames:11 52
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_GTPA	Frames:14 24
		AnimationSound = Sound:BalrogFootstep			ExcludedMC:WADING	Animation:RUTReeBerd_SKL.RUTreeberd_DIEA	Frames:7 
		AnimationSound = Sound:EntDieFall						Animation:RUTReeBerd_SKL.RUTreeBerd_DIEA	Frames:63
		AnimationSound = Sound:EntDieFall						Animation:RUTReeBerd_SKL.RUTreeBerd_LNDA	Frames:3
		AnimationSound = Sound:EntBodyfall						Animation:RUTReeBerd_SKL.RUTreeBerd_LNDA	Frames:24

		;----------- water footsteps below -------------

		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_MOTA	Frames:225 253
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GBA1	Frames:9 13
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GBA2	Frames:28 34
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GBB1	Frames:18
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GBB2	Frames:24
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GRBC	Frames:13 26 117 179 223
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GRBD	Frames:13 26 117 179 223
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GRBE	Frames:13 26 117 179 223
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_GRBF	Frames:13 26 117 179 223
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_ATKA	Frames:9 78	
 		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_ATKD	Frames:65
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_ATKE	Frames:70
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_ATKF	Frames:16 82
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_ACLA	Frames:9
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_DCLA	Frames:17 42
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_DCLB	Frames:17 44
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_DCLC	Frames:11 41
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_DCLD	Frames:32 	
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_WLKA	Frames:33 76
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_WLKC	Frames:22 48
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_THRB	Frames:12 44
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_MADA	Frames:75	
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_HITA	Frames:11 52
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_GTPA	Frames:14 24
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeberd_DIEA	Frames:7

		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_RUNA	Frames:4 24
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_TRNL	Frames:12 27
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_TRNR	Frames:12 27
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_TNL2	Frames:18 38
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_TNR2	Frames:18 38
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_MFDA	Frames:2 14
		AnimationSound = Sound:EntFootstepWater		RequiredMC:WADING	Animation:RUTreeberd_SKL.RUTreeBerd_RCTD	Frames:5 120 206

	End

; ------------------------------------------------------------------------------
	; *** ENGINEERING Parameters ***

	RadarPriority		= UNIT
	KindOf			= PRELOAD SELECTABLE HEAVY_MELEE_HITTER CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_INFANTRY CAN_ATTACK_WALLS SCARY BIG_MONSTER NO_FREEWILL_ENTER SIEGEENGINE
	BuildCost		= WILD_MOUNTAIN_GIANT_BUILDCOST				
	BuildTime		= WILD_MOUNTAIN_GIANT_BUILDTIME		
	BountyValue		= WILD_MOUNTAIN_GIANT_BOUNTYVALUE
	
	Body = ActiveBody ModuleTag_Body
		CheerRadius			= EMOTION_CHEER_RADIUS
		MaxHealth			= WILD_MOUNTAIN_GIANT_HEALTH
		MaxHealthDamaged 	= WILD_MOUNTAIN_GIANT_HEALTH_DAMAGED
		BurningDeathBehavior 	= No //Yes										//Added for SEE!
		BurningDeathFX      	= FX_InfantryBurningFlame						//Added for SEE!
	End
	
	Behavior = AutoHealBehavior ModuleTag_MarksModMountainGiantHealing
    StartsActive 			= Yes
		HealingAmount 		= BFME2SEE_HEAL_AMOUNT_LOW
		HealingDelay 			= 2000
		StartHealingDelay 		= BFME2SEE_HEAL_DELAY 
		HealOnlyIfNotInCombat	= Yes
		UnitHealPulseFX		= FX_SpellHealUnitHealBuff
	End

	Behavior = StancesBehavior ModuleTag_StancesBehavior
    StanceTemplate = Hero
  End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		AILuaEventsList				= MountainGiantFunctions
		AttackPriority				= AttackPriority_Cavalry				//Added for SEE!
		BurningDeathTime 			= BURNINGDEATH_DURATION_CAVALRY				//Added for SEE!
	End
	
  Behavior = FlammableUpdate ModuleTag_BurningDeathPromotor	;ADDED FOR SEE!
		AflameDuration		= TROOP_AFLAME_DURATION	// If I catch fire, I'll burn for this long...
		AflameDamageAmount	= TROOP_AFLAME_DAMAGE_AMOUNT			// taking this much damage...
		AflameDamageDelay	= TROOP_AFLAME_DAMAGE_DELAY		// this often.
		FlameDamageLimit		= TROOP_FLAME_DAMAGE_LIMIT
		FlameDamageExpiration	= TROOP_FLAME_DAMAGE_EXPIRATION
	End	

; ------------------------------------------------------------------------------
	
	Behavior = FireWeaponWhenDeadBehavior FireDeadTag
		RequiredStatus	= DEATH_1
		StartsActive	= Yes
		DelayTime		= 2300 
		DeathWeapon		= RohanEntDeath
		WeaponOffset	= X:-48 Y:0 Z:0	;Fire the death weapon right behind the object.
	End		
	
; ------------------------------------------------------------------------------	

	LocomotorSet
		Locomotor 	= StoneGiantLocomotor
		Condition 	= SET_NORMAL 
		Speed     	= 35 //ROHAN_ENT_WALK_SPEED (50)
	End
	
; ------------------------------------------------------------------------------	

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime =	3600	; tuned to mountain giant's GTPA anim
	End
	
; ------------------------------------------------------------------------------ New SlowDeath for Monsters in SEE! (Naz)	

	Behavior = SlowDeathBehavior ModuleTag_50
		DeathTypes			= ALL -FADED
		DeathFlags			= DEATH_1						; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
		DecayBeginTime		= 30000 //7000		
		SinkDelay			= 60000 //14000		
		SinkRate				= 0.40 //1.3							; in Dist/Sec		
		DestructionDelay		= 120000 //40000
		ProbabilityModifier 	= 50							; Added for SEE since Trolls have this?
		Sound				= INITIAL MountainGiantVoxDie
	End
	Behavior = SlowDeathBehavior ModuleTag_51
		DeathTypes			= ALL -FADED
		DeathFlags			= DEATH_2						; Use this when/if DEATH_2 is implemented! (Naz)					
		DecayBeginTime		= 30000 		
		SinkDelay			= 60000 		
		SinkRate				= 0.40 									
		DestructionDelay		= 120000 
		ProbabilityModifier 	= 50							
		Sound				= INITIAL MountainGiantVoxDie
	End	
	
; ------------------------------------------------------------------------------

	Behavior = SquishCollide ModuleTag_06
	End

;############################################################;Sûlherokhh mod start
;-------------Added for SEE since almost all units use this.
	Behavior = BezierProjectileBehavior ModuleTag_BodyHitMonster ; Module starts asleep, and wakes up when thrown.
		// To tweak a Bezier path
		FirstHeight				= 24	// Height of Bezier control points above highest intervening terrain
		SecondHeight				= 24
		FirstPercentIndent			= 30%	// Percentage of shot distance control points are placed
		SecondPercentIndent		= 70%
		TumbleRandomly			= Yes
		CrushStyle				= Yes	// I don't detonate, I just hit
		DieOnImpact				= Yes
	;	BounceCount				= 1		// When I hit the ground, I'll arc again
	;	BounceDistance			= 40	// this far
	;	BounceFirstHeight			= 24	// Height of Bezier control points above highest intervening terrain
	;	BounceSecondHeight		= 24
	;	BounceFirstPercentIndent	= 20%	// Percentage of shot distance control points are placed
	;	BounceSecondPercentIndent	= 80%
		GroundHitWeapon   		= RohanEntDeath
	;	GroundBounceWeapon   	= HorseBodyImpactWarhead_SEE
		GroundHitFX       		= FX_ThrownRockGroundHit
	;	GroundBounceFX    		= FX_ThrownRockBounceHit
		PreLandingStateTime 		= 1000
		PreLandingEmotion 		= DOOM
		PreLandingEmotionRadius 	= 25.0
	End
;############################################################;Sûlherokhh mod end

	Behavior = NotifyTargetsOfImminentProbableCrushingUpdate ModuleTag_NotifyCrushScan
	End
	
 	Behavior = EmotionTrackerUpdate	Module_EmotionTracker			; required for faramir's wounding arrow
		TauntAndPointDistance		= 500
		TauntAndPointUpdateDelay	= 1000
		AddEmotion				=	Terror_Base
		AddEmotion				=	Doom_Base
		AddEmotion				=	Point_Base
		AddEmotion				=	Taunt_Base
 		AddEmotion				=	CheerIdle_Base
		AddEmotion				=	CheerBusy_Base
		AddEmotion				=	HeroCheerIdle_Base
		AddEmotion				=	HeroCheerBusy_Base
		AddEmotion				=	Alert_Base
		AddEmotion				=	CheerForAboutToCrush_Base
	End

	;----------------------------------------

 	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
 		HitReactionLifeTimer1 	= 2500 
		HitReactionThreshold1 	= 50.0 
 	End

  Behavior = AimWeaponBehavior AimWeaponModuleTag
		AimNearDistance = 50.0	; If target closer than this, give Near flag.  This and IsAimingWeapon combine to give extra model condition flags
	End

; ------------------------------------------------------------------------------ GRAB ; Added for SEE! (Too complicated for me /Naz)

	//Behavior = SpecialPowerModule ModuleTag_GrabStarter       
	//	SpecialPowerTemplate    = SpecialAbilityWildMountainGiantGrab
	//	UpdateModuleStartsAttack	= Yes
	//	StartsPaused		  	  	= No
	//End
	//Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_GrabWeaponFireUpdate   
	//	SpecialPowerTemplate    = SpecialAbilityWildMountainGiantGrab
	//	WhichSpecialWeapon		= 1		; SPECIAL_WEAPON_ONE
	//	SkipContinue				= Yes
	//	UnpackTime				= 1367		//Frames 1-41 (of 97)
	//	PackTime				= 1867		//Remaining frames 41-97
	//	FreezeAfterTriggerDuration 	= 2000 ; Hold AI for this long after we fire.
	//	AwardXPForTriggering    	= 0
	//	StartAbilityRange			= 25.0 ;80.0
	//	SpecialWeapon			= WildMountainGiantStomp
	//End
	
; ------------------------------------------------------------------------------ STOMP

	Behavior = SpecialPowerModule ModuleTag_StompStarter       
		SpecialPowerTemplate    = SpecialAbilityWildMountainGiantStomp
		UpdateModuleStartsAttack	= Yes
		StartsPaused		  	  	= No
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_StompWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityWildMountainGiantStomp
		WhichSpecialWeapon		= 2		; SPECIAL_WEAPON_TWO
		SkipContinue				= Yes
		UnpackTime				= 1367		//Frames 1-41 (of 97)
		PackTime				= 1867		//Remaining frames 41-97
		FreezeAfterTriggerDuration 	= 2000 ; Hold AI for this long after we fire.
		AwardXPForTriggering    	= 0
		StartAbilityRange			= 25.0 ;80.0
		SpecialWeapon			= WildMountainGiantStomp
	End

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
	End		

	//Toggle CommandSet Based on Weaponset condition flags
	Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper
		ModelConditionFlags			= ATTACKING_POSITION
		ModelConditionCommandSet		= WildMountainGiantRockCommandSetStopBombard
		WeaponSetFlags				= WEAPONSET_TOGGLE_1
		WeaponToggleCommandSet		= WildMountainGiantRockCommandSet
	End
	
	// When created, automatically switch to rock-throwing
	Behavior = DoCommandUpgrade Module_DoCommandUpgrade	
		TriggeredBy = Upgrade_SwitchToRockThrowing
		GetUpgradeCommandButtonName = Command_ToggleMountainGiantRockThrow
	End
	
	Behavior = CommandButtonHuntUpdate ModuleTag_CommandButtonHuntUpdate
	End

	;///////////////////
	; AISpecialPowers
	;///////////////////
	
	Behavior = AISpecialPowerUpdate ToggleSiegeModeAI
		CommandButtonName 	= Command_ToggleMountainGiantRockThrow
		SpecialPowerAIType 	= AI_SPECIAL_POWER_TOGGLE_SIEGE
	End
	
	Behavior = AISpecialPowerUpdate STOMPAI
		CommandButtonName 	= Command_SpecialAbilityWildMountainGiantStomp
		SpecialPowerAIType 	= AI_SPECIAL_POWER_BASIC_SELF_BUFF
		SpecialPowerRadius 	= 50
		SpecialPowerRange 	= 25
	End

	#include "..\..\..\..\SEE_includes\Battlestance_SEE.inc"

	Geometry			= CYLINDER
	GeometryMajorRadius 	= 30 //52.8 //17.6 ;So we can crush TREES!
	GeometryHeight		= 168 //56.0 (+20%)
	GeometryIsSmall		= No
	Shadow				= SHADOW_VOLUME_NON_SELF_2 ;volumetric shadow that doesn't cast onto all objects using SHADOW_VOLUME_NON_SELF_2
	ShadowSizeX			= 108 //36 ;clamp the angle so shadow isn't as long.

End

;---------------------------------------------------------------------------------------------------------------
;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
;---------------------------------------------------------------------------------------------------------------

ChildObject WildStoneGiantSentry WildStoneGiant

	Draw = W3DScriptedModelDraw ModuleTag_01
	
		;StaticModelLODMode		= Yes

		OkToChangeModelColor		= No
		ExtraPublicBone			= IMPACT
		ExtraPublicBone			= ROCK		

		StaticModelLODMode		= Yes ; Will append M or L to the skin name depending on GameLOD
	
		DefaultModelConditionState
			Model               = WUStGiant_SKB //WUMntGnt_SKN
			Skeleton			= WUMntGnt_SKL
			WeaponLaunchBone    = PRIMARY ROCK
			WeaponLaunchBone    = SECONDARY ROCK
		End
		

		IdleAnimationState
			StateName = Idle
			Animation = Breathe
				AnimationName = WUMntGnt_FIDLA 
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 40
			End
			Animation = BellyScratch
				AnimationName = WUMntGnt_FIDLB
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 10
			End			
			Flags						= RESTART_ANIM_WHEN_COMPLETE		
			BeginScript
				CurDrawableHideSubObjectPermanently("ROCK")
			EndScript
		End
		
		AnimationState = DYING
			Animation
				AnimationName     =  WUMntGnt_FDIEA
				AnimationMode     = ONCE
			End
		End		

		AnimationState = FIRING_OR_PREATTACK_A 
			Animation
				AnimationName = WUMntGnt_FATKA
				AnimationMode = ONCE
				UseWeaponTiming = Yes
				AnimationBlendTime = 0
			End
			BeginScript
				CurDrawableShowSubObjectPermanently("ROCK")
			EndScript
			FrameForPristineBonePositions = 99
			StateName = Throw
		End		

		AnimationState = TURN_LEFT
			Animation
				AnimationName = WUMntGnt_FTNL
				AnimationMode = LOOP				
				AnimationBlendTime = 10
			End
			BeginScript
				CurDrawableHideSubObjectPermanently("ROCK")
			EndScript
		End

		AnimationState = TURN_RIGHT
			Animation
				AnimationName = WUMntGnt_FTNR
				AnimationMode = LOOP
				AnimationBlendTime = 10
			End
			BeginScript
				CurDrawableHideSubObjectPermanently("ROCK")
			EndScript
		End
	End	;//Draw Module

	;// No command points for this as it's free.
	CommandPoints			= 0
  VisionRange = #SUBTRACT( WILD_FORTRESS_VISION_RANGE VISION_FORTRESS_EXPANSION_DIF )
  ShroudClearingRange = #SUBTRACT( WILD_FORTRESS_SHROUD_CLEAR SHROUD_CLEAR_FORTRESS_EXPANSION_DIF )
	ShockwaveResistance		= SHOCKWAVE_RESISTANCE_ALWAYS


	;//Should be the same kindof as the Wild Mountain Giant except with IGNORE_SELECT_ALL
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_INFANTRY CAN_ATTACK_WALLS SCARY BIG_MONSTER IGNORES_SELECT_ALL NO_FREEWILL_ENTER SIEGEENGINE

	;// Needs a specialised command set without move based commands.
	CommandSet = WildMountainGiantSentryCommandSet

	Behavior = MonitorConditionUpdate ModuleTag_CommandSetSwapper
		ModelConditionFlags			= ATTACKING_POSITION
		ModelConditionCommandSet	= WildMountainGiantSentryCommandSetStopBombard
	End
	
	WeaponSet
		Conditions          =  None
		Weapon              =  PRIMARY    WildMountainGiantSentryRockThrow	
		;Weapon              =  PRIMARY    GondorArcherBow
	End

	LocomotorSet
		Locomotor = FloatingCatapultLocomotor
		Condition = SET_NORMAL
		Speed     = 0
	End
			
	; *** AUDIO Parameters ***;

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	VoiceAttack				= MountainGiantVoxAttack
	VoiceAttackCharge		= MountainGiantVoxAttack
	VoiceAttackMachine		= MountainGiantVoxAttack
	VoiceAttackStructure	= MountainGiantVoxAttack
	VoiceCreated			= NoSound
	VoiceCreated			= +SOUND:MountainGiantVoxCreated
	VoiceFullyCreated		= NoSound
	VoiceFullyCreated		= +SOUND:MountainGiantVoxCreated
	VoiceGuard				= MountainGiantVoxMove
	VoiceMove				= MountainGiantVoxMove
	VoicePriority			= 30
	VoiceSelect				= MountainGiantVoxSelectMS
	VoiceSelectBattle		= MountainGiantVoxSelectMS
	
	SoundAmbient			= MountainGiantVoxAmbientLoop
	SoundImpact				= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= NoSound
		VoiceEnterUnitMordorMumakil			= NoSound
		VoiceEnterUnitSlaughterHouse		= NoSound
		VoiceGarrison						= NoSound
		VoiceInitiateCaptureBuilding		= NoSound
	End

	;------------------------------

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= No
	End

	//We should die when the expansion does!
	Behavior = SlavedUpdate ModuleTag_Slave
		DieOnMastersDeath	= Yes
		MarkUnselectable	= No
	End

	Behavior = SlowDeathBehavior ModuleTag_50
		DeathTypes			= ALL							;-KNOCKBACK -FADED
		DestructionDelay	= 1800		
		SinkDelay			= 0
		SinkRate			= 10.0							; in Dist/Sec
		Sound				= INITIAL MountainGiantVoxDie
		DeathFlags			= DEATH_1						; Controls animation and weapon choice. Sets BOTH model condition and object status bits.
	End
    
	Scale = 1.8 //100% bigger for SEE! //Used to be ".80"

	Shadow = SHADOW_VOLUME
End

;---------------------------------------------------------------------------------------------------------------
;¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤¤
;---------------------------------------------------------------------------------------------------------------

ChildObject WildStoneGiant_Summoned WildStoneGiant
	IsTrainable	  =	No
	CommandPoints =	0
	CommandSet	  =	WildMountainGiantCommandSet
	EquivalentTo  =	WildStoneGiant //WildMountainGiant
	
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
	// This one displays the timer, but the one in the uint does the work 
		MinLifetime		= WILD_MOUNTAIN_GIANT_LIFETIME //CREATE_A_HERO_REINFORCEMENT_LIFETIME
		MaxLifetime		= WILD_MOUNTAIN_GIANT_LIFETIME //CREATE_A_HERO_REINFORCEMENT_LIFETIME
		DeathType		= FADED
	End	

	Behavior = SlowDeathBehavior ModuleTag_FadeDeath
		DeathTypes			= NONE +FADED
		FadeDelay			= 0
		FadeTime			= 5000
		DestructionDelay	= 5000
        DeathFlags			= DEATH_3
		FX	  = INITIAL FX_MoriaSpellbookStoneGiantsDeSummon
		Sound = INITIAL SpellGenericUnsummonFasterMS
	End	

End

//-----------------------------------------------------------------------------------------
Object WildStoneGiantsEgg //MoriaStoneGiantsEgg
	Draw = W3DScriptedModelDraw ModuleTag_Draw
		DefaultModelConditionState
			Model = None
		End
	End
	
	KindOf	= INERT IMMOBILE UNATTACKABLE
	
	Body = ActiveBody ModuleTag_MakesKillWork
		MaxHealth	= 1
	End
	Behavior = LifetimeUpdate ModuleTag_HatchTrigger
		MinLifetime = 0.0
		MaxLifetime = 0.0
	End
	Behavior = SlowDeathBehavior ModuleTag_HatchProcess
		DestructionDelay	= 2000
		FX					= INITIAL FX_MoriaSpellbookStoneGiantsSummon
		Sound 				= INITIAL SpellGenericUnsummonFasterMS
		OCL					= INITIAL OCL_WildStoneGiants //OCL_MoriaStoneGiants
	End
End

; Tip from DeeZire to use as FX for burning death...

		;	ParticleSysBone = BAT_HEAD TreebeardEmbersStart FollowBone:Yes
		;	ParticleSysBone = B_NECK02 TreebeardFireMediumStart FollowBone:Yes
		;	ParticleSysBone = B_NECK02 TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = B_NECK01 TreebeardFireMediumStart FollowBone:Yes
		;	ParticleSysBone = B_NECK01 TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = BAT_SPINE1 TreebeardSmoke1 FollowBone:Yes
		;	ParticleSysBone = BAT_SPINE2 TrBdFire FollowBone:Yes
		;	ParticleSysBone = BAT_UARMR TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = BAT_UARML TreebeardSmokeStart FollowBone:Yes
		;	ParticleSysBone = BAT_FARMR TreebeardFireMedium FollowBone:Yes
		;	ParticleSysBone = BAT_FARML TreebeardFireMedium FollowBone:Yes
		;	ParticleSysBone = B_HANDR TreebeardFlareStart FollowBone:Yes
		;	ParticleSysBone = B_HANDL TreebeardFlareStart FollowBone:Yes
		