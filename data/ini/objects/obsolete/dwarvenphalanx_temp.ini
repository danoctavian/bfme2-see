;------------------------------------------------------------------------------
; aka Isengard Pike Man UrukPikeman UrukHaiPikeman
///Gotta love how EA fails at descriptions, or they just can't be arsed to change them :P

Object DwarvenPhalanx_Temp              ;BALANCE Isengard Pikeman
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  ButtonImage = BIUrukPit_Pikemen
  SelectPortrait         = UPIsenguard_UrukPikeman
  
  ;SelectPortrait         = SP_OrcAxe
  
  
Draw = W3DHordeModelDraw ModuleTag_01

	OkToChangeModelColor = Yes
	  
	StaticModelLODMode = Yes

    DefaultModelConditionState
      Model = DUPhalanx_Temp
    End

   	
	IdleAnimationState
		Animation = IDLA
			AnimationName		= DUPhalanx_Temp.DUPhalanx_Temp
			AnimationMode		= LOOP
			AnimationPriority	= 30
			AnimationBlendTime	= 15
		End
		StateName = Bored
	End
End
	  
  
  
  ; ***DESIGN parameters ***

  Side = Dwarves
  EditorSorting = UNIT
	ThreatLevel = 1.0
  ThingClass = HORDE_UNIT
  CommandPoints = 2

  TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
  
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardPikemanPike ;BALANCE Isengard Pikeman Weapon
	End
	
  ArmorSet
    Conditions      = None
    Armor           = PikemenArmor
    DamageFX        = NormalDamageFX
  End
  ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = PikemenHeavyArmor
		DamageFX        = NormalDamageFX	
  End

  	; This is required so that the build phase lasts as long as the anim.
	BuildFadeInOnCreateTime = 0 ; 2.0 ;temporarily set to 0

  VisionRange = VISION_STANDARD_MELEE
	VisionSide = 35%
	VisionRear = 25%
	VisionBonusPercentPerFoot = 2.0%
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	ShroudClearingRange = SHROUD_CLEAR_STANDARD

  BountyValue = ISENGARD_URUKPIKEMAN_BOUNTY_VALUE
  DisplayName = OBJECT:DwarvenPhalanx
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
 	CrushRevengeWeapon = AntiCavalryInfantryCrushRevenge

  CommandSet = IsengardPikemanCommandSet

 
  ; *** AUDIO Parameters ***;
    #include "..\Includes\StandardUnitEvaEvents.inc"



  ; *** ENGINEERING Parameters ***

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP URUK ATTACK_NEEDS_LINE_OF_SIGHT
 

	Body					=	PorcupineFormationBodyModule ModuleTag_porcupineFormation
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth			=	ISENGARD_URUKPIKEMAN_HEALTH				;BALANCE Isengard Pikeman Health
		MaxHealthDamaged		=	ISENGARD_URUKPIKEMAN_HEALTH_DAMAGED		
		;RecoveryTime			=	ISENGARD_URUKPIKEMAN_HEALTH_RECOVERY_TIME	
		DamageWeaponTemplate		=	PikemenPorcupineDamage
		CrushDamageWeaponTemplate	=	PikemenPorcupineCrushDamage
		CrusherLevelResisted		=	1;	;What crusher level can I resist?: 1 = infantry, 2 = trees, 3 = vehicles
	End



	
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
	AILuaEventsList			   = IsengardFighterFunctions    
    MoodAttackCheckRate        = 500
    HoldGroundCloseRangeDistance = 80
    AttackPriority				= 	AttackPriority_Spearman
  End

  LocomotorSet
    Locomotor     = HumanLocomotor
    Condition     = SET_NORMAL
    Speed         = NORMAL_EVIL_FAST_MEMBER_SPEED		
  End

  Behavior = PhysicsBehavior ModuleTag_04
    GravityMult				= 1.0
    ShockStunnedTimeLow		= 1400  ;msec
    ShockStunnedTimeHigh	= 2400 ;msec
    ShockStandingTime		= 2133 ;msec
  End
  

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie			;UrukWarriorVoiceDie
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
 
  Behavior = SlowDeathBehavior ModuleTag_07
    ; Same as normal death, but no sound (sound already played by SoundImpact = ... )
    DeathTypes = NONE +KNOCKBACK
    SinkDelay = 3000
    SinkRate = 0.40     ; in Dist/Sec
    DestructionDelay = 8000
    Sound = INITIAL UrukVoiceDie
  End
 
  Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
    ; 
    FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 24
    FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 70%
    TumbleRandomly = Yes

    CrushStyle = Yes ; I don't detonate, I just hit
    DieOnImpact = Yes
    BounceCount = 1   ; When I hit the ground, I'll arc again
    BounceDistance = 40 ; this far
    BounceFirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
    BounceSecondHeight = 24
    BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    BounceSecondPercentIndent = 80%

    GroundHitFX       = FX_ThrownRockGroundHit
    GroundBounceFX    = FX_ThrownRockBounceHit
  End

  Behavior = HordeMemberCollide ModuleTag_HMC
    ;nothing
  End
  

  Geometry = CYLINDER
  GeometryMajorRadius = 4
  GeometryMinorRadius = 4
  GeometryHeight = 19.2
  GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 21;
  ShadowSizeY = 21;
  ShadowTexture = ShadowI;
End