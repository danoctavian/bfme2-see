////are YOU wild enough to carry the banner?

;------------------------------------------------------------------------------
; aka WildmanIsengard, Dunland
Object IsengardWildmanBanner
  ; *** ART Parameters ***

  ; This is required for garrisoned objects - please put in all objects.
  
  	SelectPortrait  =  UPIsengard_WildmenofDunland
  	ButtonImage = BCInn_WildmenofDunland
  
  Draw = W3DHordeModelDraw ModuleTag_01

	OkToChangeModelColor = Yes	  
	StaticModelLODMode = Yes
	; specify options for static LODs
	LodOptions	= LOW
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
	End
	
	LodOptions	= MEDIUM
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
	End
	
	LodOptions	= HIGH
		AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
		MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
		MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
		MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
	End
	
    DefaultModelConditionState
      Model = IUWldBnr_SKN
    End

		IdleAnimationState
			Animation = IDL
	      AnimationName = IUBanner_SKL.IUBanner_IDLA
	      AnimationMode = ONCE
			End
			StateName = Idle
		End

    AnimationState = DYING
			Animation = Dying
	      AnimationName = IUBanner_SKL.IUBanner_DIEA
		    AnimationMode = ONCE
			End
    End
    
	AnimationState						= PARALYZED
		Animation
			AnimationName				= IUBanner_SKL.IUBanner_IDLA
			AnimationMode				= LOOP
		End
	End

	AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = IUBanner_SKL.IUBanner_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End
	
	AnimationState = MOVING EMOTION_TERROR
		Animation = Moving
			AnimationName = IUBanner_SKL.IUBanner_RUNA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End
	
    AnimationState = MOVING DAMAGED
			Animation = Moving
	      AnimationName = IUBanner_SKL.IUBanner_WLK
		    AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
    End
 
    AnimationState = MOVING
			Animation = Moving
	      AnimationName = IUBanner_SKL.IUBanner_RUNA
		    AnimationMode = LOOP
			End
			Flags = RANDOMSTART
			ParticleSysBone = None InfantryDustTrails
    End
    
	AnimationState							= EMOTION_UNCONTROLLABLY_AFRAID
		Animation							= FERA
			AnimationName					= IUBanner_SKL.IUBanner_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
	End

    AnimationState = ATTACKING
			Animation = Attacking
	      AnimationName = IUBanner_SKL.IUBanner_ATA
		    AnimationMode = LOOP
			End
    End

    AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = IUBanner_SKL.IUBanner_TNTA
			AnimationMode = LOOP
		End
	End

			
	;-emotions--
	
	AnimationState							= EMOTION_AFRAID
		Animation							= FERA
			AnimationName					= IUBanner_SKL.IUBanner_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
	End
	AnimationState							= EMOTION_TAUNTING
		Animation							= TNTA
			AnimationName					= IUBanner_SKL.IUBanner_TNTA
			AnimationMode					= LOOP
		End
	End
	AnimationState							= EMOTION_POINTING
		Animation							= Pointing1
			AnimationName					= IUBanner_SKL.IUBanner_PNTA
			AnimationMode					= LOOP
		End
	End
	AnimationState							= EMOTION_CELEBRATING
		Animation                           = CHRA
			AnimationName					= IUBanner_SKL.IUBanner_CHRA
			AnimationMode					= ONCE
		End
	End
	
	AnimationState							= EMOTION_ALERT
		Animation							= ALERT
			AnimationName					= IUBanner_SKL.IUBanner_IDLA
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
	End
    
    
  End

;//    #include "..\..\..\includes\StunDrawModuleSmall.inc"


	; ***DESIGN parameters ***
	Side = Isengard
	EditorSorting = UNIT
		ThreatLevel = 1.0
	ThingClass = HORDE_UNIT
	CommandPoints = 1
	BountyValue = ISENGARD_WILDMAN_BOUNTY_VALUE


	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    IsengardWildmanCudgel
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CONTAINED
		Weapon = PRIMARY    GarrisonedWildmanRockThrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions = CONTAINED PLAYER_UPGRADE
		Weapon = PRIMARY    GarrisonedWildmanTorchThrow
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = NoArmor
		DamageFX        = NormalDamageFX
	End
	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = IsengardWargPelt
		DamageFX        = NormalDamageFX
	End

	ShroudClearingRange = SHROUD_CLEAR_STANDARD       
	VisionRange = ISENGARD_WILDMAN_VISION_RANGE
	
	VisionSide = 35%
	VisionRear = 25%
	
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 2.0%
	

	DisplayName = OBJECT:IsengardWildman
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel = 0 ;What can I crush?: 0 = small animals, 1 = infantry, 2 = trees, 3 = vehicles
	  
	CommandSet		= IsengardWildmanCommandSet
	 

	; *** AUDIO Parameters ***;

	;VoiceSelect = NoSound
	;VoiceMove = NoSound
	;VoiceAttack = NoSound
	;VoiceFear = NoSound
	;VoiceGuard = NoSound
  
	;UnitSpecificSounds
	;  VoiceGarrison         = NoSound
	;  VoiceEnter            = NoSound
	;  VoiceEnterHostile     = NoSound
	;  VoiceGetHealed        = NoSound
	;End

	CrowdResponseKey = EvilMen1

;//    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU	;Tie into LargeGroupAudio system
		Key = Orc_Infantry
	End


	; *** ENGINEERING Parameters ***

	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE CAN_USE_SIEGE_TOWER 
	CamouflageDetectionMultiplier = CAMOUFLAGE_DETECTION_DISTANCE_SHORT
	  
	 
	Body = ActiveBody ModuleTag_02
		MaxHealth         = ISENGARD_WILDMAN_VISION_RANGE
		MaxHealthDamaged  = ISENGARD_WILDMAN_HEALTH_DAMAGED
		;RecoveryTime      = ISENGARD_WILDMAN_HEALTH_RECOVERY_TIME
	End
	 
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
	End

	LocomotorSet
		Locomotor     = HumanLocomotor
		Condition     = SET_NORMAL
		Speed         = NORMAL_ISENGARD_INFANTRY_MEMBER_SPEED
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	 
	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; 
		FirstHeight				= 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight			= 24
		FirstPercentIndent		= 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent		= 70%
		TumbleRandomly			= Yes

		CrushStyle				= Yes ; I don't detonate, I just hit
		DieOnImpact				= Yes
		BounceCount				= 1   ; When I hit the ground, I'll arc again
		BounceDistance			= 40 ; this far
		BounceFirstHeight		= 24  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight		= 24
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End
 
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 3000
		SinkRate = 0.40     ; in Dist/Sec
		DestructionDelay = 8000
		;Sound = INITIAL UrukVoiceDie
	End
	 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End 
		
  	;;; Pillage ;;;
	Behavior = PillageModule ModuleTag_Test1
		PillageAmount				= WILDMAN_PILLAGE_AMOUNT
		NumDamageEventsPerPillage	= WILDMAN_PILLAGE_NUM_DAMAGES
		PillageFilter				= WILDMAN_PILLAGE_FILTER 
	End
    
	;;; BannerCarrierUpdate module ;;;

	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate				= 10000							; spawn a new member every n seconds when idle (in miliseconds)
		MeleeFreeUnitSpawnTime		= 20000							; n miliseconds units must not have been fighting to be able to spawn units when idle (in miliseconds)
		DiedRespawnTime				= 10000							; how much time must pass after Banner Carrier dies before horde can spawn another
		MeleeFreeBannerReSpawnTime	= 20000							; how much time since horde has been fighting before a new Banner Carrier can be respawned
		
		BannerMorphFX		= FX_BannerCarrierMorph					; name of particle FX to use when the BannerCarrier morphs into the dest unit type
		UnitSpawnFX			= FX_BannerCarrierSpawnUnit				; name of particle FX to use when the BannerCarrier spawns a new unit
		
		; Depending on the unit type selected, we will morph into one of the following 
		; unitTypes by setting the appropriate model condition state
		;MorphCondition		= UnitType:IsengardWargRider		Locomotor:SET_MOUNTED	ModelState:"USER_2 MOUNTED"		
	End
   
    ;;; Upgrades ;;;
    
    ; Flaming Torches
	Behavior = StatusBitsUpgrade ModuleTag_ProductionLegality
		TriggeredBy = Upgrade_IsengardTorches
	End
	
	Behavior = SubObjectsUpgrade FireArrows_Upgrade
		TriggeredBy		= Upgrade_IsengardTorches
		ShowSubObjects	= FlamingTorch
		HideSubObjects	= Torch
	End
	
	
	
	Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		TriggeredBy			= Upgrade_IsengardHeavyArmor
		ArmorSetFlag		= PLAYER_UPGRADE
	End
	
	Behavior = SubObjectsUpgrade Armor_Upgrade
		TriggeredBy			= Upgrade_IsengardHeavyArmor
		UpgradeTexture		= IUWildMen2.tga 0 GUManAtArms_HA.tga									; Need correct tga here//.......;;;;;-----
		RecolorHouse		= Yes
	End

 

  Geometry = CYLINDER
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 19.2
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;
End
